# IONOS VPS Production Environment Variables
# Copy this file to .env.production on your IONOS VPS server
# Fill in your actual production values

# ===== SERVER CONFIGURATION =====
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# ===== DATABASE CONFIGURATION =====
# Start with SQLite for simplicity, can upgrade to PostgreSQL later
LOCAL_SQLITE=true
DATABASE_PATH=D:/vibe-booking/database/database.sqlite
DATABASE_URL=sqlite:///D:/vibe-booking/database/database.sqlite

# Optional: PostgreSQL configuration (if you upgrade later)
# LOCAL_SQLITE=false
# DATABASE_URL=postgresql://username:password@localhost:5432/vibe_booking

# ===== JWT SECRETS (CRITICAL - REPLACE WITH YOUR OWN) =====
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=05ba3147e30cec7c5c469038478cc2c0d176ddb7a43645daf97d212d3ee0a136
JWT_REFRESH_SECRET=8f2e7b9c1a5d6e4f3c8b7a9e2d1f4c6b8e7a3f5d9c2b6e1a4f8c7b5e3d9a2c6f
JWT_RESET_SECRET=3e7f8c2b9a1d5e6c4f7b8a2e9d3c6f1b5e8a7c4f9d2b6e3a8c1f7b4e9d5c2a6

# ===== EMAIL SERVICE (SENDGRID PRODUCTION) =====
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=SG.YOUR_SENDGRID_API_KEY_HERE
EMAIL_FROM=bookings@yourdomain.com
EMAIL_FROM_NAME=Vibe Booking

# Fallback SMTP (optional)
SMTP_HOST=smtp.ionos.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASS=your_smtp_password

# ===== API INTEGRATIONS =====
# OpenAI for AI-powered search
OPENAI_API_KEY=sk-YOUR_OPENAI_API_KEY_HERE

# LiteAPI for real hotel data (production key)
LITEAPI_KEY=YOUR_PRODUCTION_LITEAPI_KEY_HERE
LITEAPI_BASE_URL=https://api.liteapi.travel/v3.0

# ===== SQUARE PAYMENTS (PRODUCTION) =====
SQUARE_ENVIRONMENT=production
SQUARE_ACCESS_TOKEN=YOUR_PRODUCTION_SQUARE_ACCESS_TOKEN
SQUARE_APPLICATION_ID=YOUR_PRODUCTION_SQUARE_APPLICATION_ID
SQUARE_LOCATION_ID=YOUR_PRODUCTION_SQUARE_LOCATION_ID
SQUARE_WEBHOOK_SIGNATURE_KEY=YOUR_SQUARE_WEBHOOK_SIGNATURE_KEY

# ===== SECURITY CONFIGURATION =====
# Admin IP addresses (comma-separated, supports CIDR notation)
ADMIN_IPS=YOUR_IP_ADDRESS,192.168.1.0/24

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS origins (your domain) - matches backend CORS_ORIGIN config
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# ===== MONITORING & LOGGING =====
# Sentry for error tracking and performance monitoring
SENTRY_DSN=https://YOUR_SENTRY_DSN_HERE

# Log configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/var/log/vibe-booking/app.log

# ===== REDIS (OPTIONAL - FOR CACHING) =====
# If you install Redis for caching
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your_redis_password

# ===== BACKUP CONFIGURATION =====
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=D:/vibe-booking/backups/

# ===== SSL CONFIGURATION =====
# SSL certificate paths (automatically configured by Let's Encrypt)
SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# ===== FEATURE FLAGS =====
ENABLE_ANALYTICS=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_SECURITY_LOGGING=true
ENABLE_RATE_LIMITING=true
ENABLE_BACKUP_AUTOMATION=true

# ===== IONOS SPECIFIC =====
# Server timezone
TZ=Europe/Berlin

# Process management
PM2_INSTANCES=max
PM2_MAX_RESTARTS=5
PM2_RESTART_DELAY=5000

# ===== PAYMENT CONFIGURATION =====
# Platform commission (5%)
PLATFORM_COMMISSION_RATE=0.05
CURRENCY=USD

# ===== NOTIFICATION SETTINGS =====
# Slack webhook for critical alerts (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email alerts for system issues
ALERT_EMAIL=admin@yourdomain.com

# ===== PERFORMANCE TUNING =====
# Node.js memory settings
NODE_OPTIONS=--max-old-space-size=1024

# Keep-alive timeout
KEEP_ALIVE_TIMEOUT=65000

# Header timeout
HEADERS_TIMEOUT=66000