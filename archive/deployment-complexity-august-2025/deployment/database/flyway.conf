# Flyway Configuration for Hotel Booking Database Migrations

# Database connection
flyway.url=${DATABASE_URL}
flyway.user=${DATABASE_USER}
flyway.password=${DATABASE_PASSWORD}

# Migration settings
flyway.schemas=public,booking,users,payments
flyway.table=schema_version
flyway.baselineOnMigrate=true
flyway.baselineVersion=1
flyway.baselineDescription=Initial baseline

# Locations
flyway.locations=filesystem:/migrations/sql,filesystem:/migrations/repeatable

# Validation
flyway.validateOnMigrate=true
flyway.validateMigrationNaming=true
flyway.cleanDisabled=true
flyway.cleanOnValidationError=false

# Placeholders
flyway.placeholders.environment=${ENVIRONMENT}
flyway.placeholders.app_version=${APP_VERSION}
flyway.placeholders.region=${AWS_REGION}

# Advanced settings
flyway.mixed=true
flyway.group=true
flyway.outOfOrder=false
flyway.skipDefaultResolvers=false
flyway.skipDefaultCallbacks=false

# Callbacks
flyway.callbacks=com.hotelbooking.migrations.callbacks.AuditCallback,com.hotelbooking.migrations.callbacks.NotificationCallback

# Error handling
flyway.errorOverrides=S0001:0:I-

# Team settings
flyway.installedBy=${DEPLOYED_BY}

# License (for Flyway Teams features)
flyway.licenseKey=${FLYWAY_LICENSE_KEY}