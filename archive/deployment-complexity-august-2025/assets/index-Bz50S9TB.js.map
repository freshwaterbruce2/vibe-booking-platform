{"version":3,"mappings":";;;;;;;;;6CASa,IAAIA,EAAEC,GAAA,EAAiBC,EAAE,OAAO,IAAI,eAAe,EAAEC,EAAE,OAAO,IAAI,gBAAgB,EAAEC,EAAE,OAAO,UAAU,eAAeC,EAAEL,EAAE,mDAAmD,kBAAkBM,EAAE,CAAC,IAAI,GAAG,IAAI,GAAG,OAAO,GAAG,SAAS,EAAE,EAClP,SAASC,EAAE,EAAEC,EAAEC,EAAE,CAAC,IAAIC,EAAEC,EAAE,GAAGC,EAAE,KAAK,EAAE,KAAcH,IAAT,SAAaG,EAAE,GAAGH,GAAYD,EAAE,MAAX,SAAiBI,EAAE,GAAGJ,EAAE,KAAcA,EAAE,MAAX,SAAiB,EAAEA,EAAE,KAAK,IAAIE,KAAKF,EAAEJ,EAAE,KAAKI,EAAEE,CAAC,GAAG,CAACJ,EAAE,eAAeI,CAAC,IAAIC,EAAED,CAAC,EAAEF,EAAEE,CAAC,GAAG,GAAG,GAAG,EAAE,aAAa,IAAIA,KAAKF,EAAE,EAAE,aAAaA,EAAWG,EAAED,CAAC,IAAZ,SAAgBC,EAAED,CAAC,EAAEF,EAAEE,CAAC,GAAG,MAAM,CAAC,SAASR,EAAE,KAAK,EAAE,IAAIU,EAAE,IAAI,EAAE,MAAMD,EAAE,OAAON,EAAE,OAAO,CAAC,CAAC,OAAAQ,YAAiBV,EAAEU,GAAA,IAAYN,EAAEM,GAAA,KAAaN,2CCPxWO,GAAA,QAAiBb,GAAA,qECDnB,IAAIG,EAAIH,GAAA,EAEN,OAAAc,GAAA,WAAqBX,EAAE,WACvBW,GAAA,YAAsBX,EAAE,2CCJ1B,IAAIY,GAAe,KAAM,CACvB,aAAc,CACZ,KAAK,UAA4B,IAAI,IACrC,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,CAC3C,CACA,UAAUC,EAAU,CAClB,YAAK,UAAU,IAAIA,CAAQ,EAC3B,KAAK,YAAW,EACT,IAAM,CACX,KAAK,UAAU,OAAOA,CAAQ,EAC9B,KAAK,cAAa,CACpB,CACF,CACA,cAAe,CACb,OAAO,KAAK,UAAU,KAAO,CAC/B,CACA,aAAc,CACd,CACA,eAAgB,CAChB,CACF,ECpBIC,GAAW,OAAO,OAAW,KAAe,SAAU,WAC1D,SAASC,IAAO,CAChB,CACA,SAASC,GAAiBC,EAASC,EAAO,CACxC,OAAO,OAAOD,GAAY,WAAaA,EAAQC,CAAK,EAAID,CAC1D,CACA,SAASE,GAAeC,EAAO,CAC7B,OAAO,OAAOA,GAAU,UAAYA,GAAS,GAAKA,IAAU,GAC9D,CACA,SAASC,GAAeC,EAAWC,EAAW,CAC5C,OAAO,KAAK,IAAID,GAAaC,GAAa,GAAK,KAAK,MAAO,CAAC,CAC9D,CACA,SAASC,GAAiBD,EAAWE,EAAO,CAC1C,OAAO,OAAOF,GAAc,WAAaA,EAAUE,CAAK,EAAIF,CAC9D,CACA,SAASG,GAAeC,EAASF,EAAO,CACtC,OAAO,OAAOE,GAAY,WAAaA,EAAQF,CAAK,EAAIE,CAC1D,CACA,SAASC,GAAWC,EAASJ,EAAO,CAClC,KAAM,CACJ,KAAAK,EAAO,MACP,MAAAC,EACA,YAAAC,EACA,UAAAC,EACA,SAAAC,EACA,MAAAC,CAAA,EACEN,EACJ,GAAIK,GACF,GAAIH,GACF,GAAIN,EAAM,YAAcW,GAAsBF,EAAUT,EAAM,OAAO,EACnE,MAAO,WAEA,CAACY,GAAgBZ,EAAM,SAAUS,CAAQ,EAClD,MAAO,GAGX,GAAIJ,IAAS,MAAO,CAClB,MAAMQ,EAAWb,EAAM,WAIvB,GAHIK,IAAS,UAAY,CAACQ,GAGtBR,IAAS,YAAcQ,EACzB,MAAO,EAEX,CAOA,MANI,SAAOH,GAAU,WAAaV,EAAM,YAAcU,GAGlDH,GAAeA,IAAgBP,EAAM,MAAM,aAG3CQ,GAAa,CAACA,EAAUR,CAAK,EAInC,CACA,SAASc,GAAcV,EAASW,EAAU,CACxC,KAAM,CAAE,MAAAT,EAAO,OAAAU,EAAQ,UAAAR,EAAW,YAAAS,GAAgBb,EAClD,GAAIa,EAAa,CACf,GAAI,CAACF,EAAS,QAAQ,YACpB,MAAO,GAET,GAAIT,GACF,GAAIY,GAAQH,EAAS,QAAQ,WAAW,IAAMG,GAAQD,CAAW,EAC/D,MAAO,WAEA,CAACL,GAAgBG,EAAS,QAAQ,YAAaE,CAAW,EACnE,MAAO,EAEX,CAIA,MAHI,EAAAD,GAAUD,EAAS,MAAM,SAAWC,GAGpCR,GAAa,CAACA,EAAUO,CAAQ,EAItC,CACA,SAASJ,GAAsBF,EAAUU,EAAS,CAEhD,OADeA,GAAS,gBAAkBD,IAC5BT,CAAQ,CACxB,CACA,SAASS,GAAQT,EAAU,CACzB,OAAO,KAAK,UACVA,EACA,CAACW,EAAGC,IAAQC,GAAcD,CAAG,EAAI,OAAO,KAAKA,CAAG,EAAE,OAAO,OAAO,CAACE,EAAQC,KACvED,EAAOC,CAAG,EAAIH,EAAIG,CAAG,EACdD,GACN,EAAE,EAAIF,CAAA,CAEb,CACA,SAAST,GAAgBjC,EAAGE,EAAG,CAC7B,OAAIF,IAAME,EACD,GAEL,OAAOF,GAAM,OAAOE,EACf,GAELF,GAAKE,GAAK,OAAOF,GAAM,UAAY,OAAOE,GAAM,SAC3C,OAAO,KAAKA,CAAC,EAAE,MAAO2C,GAAQZ,GAAgBjC,EAAE6C,CAAG,EAAG3C,EAAE2C,CAAG,CAAC,CAAC,EAE/D,EACT,CACA,SAASC,GAAiB9C,EAAGE,EAAG,CAC9B,GAAIF,IAAME,EACR,OAAOF,EAET,MAAM+C,EAAQC,GAAahD,CAAC,GAAKgD,GAAa9C,CAAC,EAC/C,GAAI6C,GAASJ,GAAc3C,CAAC,GAAK2C,GAAczC,CAAC,EAAG,CACjD,MAAM+C,EAASF,EAAQ/C,EAAI,OAAO,KAAKA,CAAC,EAClCkD,EAAQD,EAAO,OACfE,EAASJ,EAAQ7C,EAAI,OAAO,KAAKA,CAAC,EAClCkD,EAAQD,EAAO,OACfE,EAAON,EAAQ,GAAK,GACpBO,EAAY,IAAI,IAAIL,CAAM,EAChC,IAAIM,EAAa,EACjB,QAASC,EAAI,EAAGA,EAAIJ,EAAOI,IAAK,CAC9B,MAAMX,EAAME,EAAQS,EAAIL,EAAOK,CAAC,GAC3B,CAACT,GAASO,EAAU,IAAIT,CAAG,GAAKE,IAAU/C,EAAE6C,CAAG,IAAM,QAAU3C,EAAE2C,CAAG,IAAM,QAC7EQ,EAAKR,CAAG,EAAI,OACZU,MAEAF,EAAKR,CAAG,EAAIC,GAAiB9C,EAAE6C,CAAG,EAAG3C,EAAE2C,CAAG,CAAC,EACvCQ,EAAKR,CAAG,IAAM7C,EAAE6C,CAAG,GAAK7C,EAAE6C,CAAG,IAAM,QACrCU,IAGN,CACA,OAAOL,IAAUE,GAASG,IAAeL,EAAQlD,EAAIqD,CACvD,CACA,OAAOnD,CACT,CAYA,SAAS8C,GAAahC,EAAO,CAC3B,OAAO,MAAM,QAAQA,CAAK,GAAKA,EAAM,SAAW,OAAO,KAAKA,CAAK,EAAE,MACrE,CACA,SAAS2B,GAAcc,EAAG,CACxB,GAAI,CAACC,GAAmBD,CAAC,EACvB,MAAO,GAET,MAAME,EAAOF,EAAE,YACf,GAAIE,IAAS,OACX,MAAO,GAET,MAAMC,EAAOD,EAAK,UAOlB,MANI,GAACD,GAAmBE,CAAI,GAGxB,CAACA,EAAK,eAAe,eAAe,GAGpC,OAAO,eAAeH,CAAC,IAAM,OAAO,UAI1C,CACA,SAASC,GAAmBD,EAAG,CAC7B,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAC,IAAM,iBAC/C,CACA,SAASI,GAAMC,EAAS,CACtB,OAAO,IAAI,QAASC,GAAY,CAC9B,WAAWA,EAASD,CAAO,CAC7B,CAAC,CACH,CACA,SAASE,GAAYC,EAAUC,EAAM1B,EAAS,CAC5C,OAAI,OAAOA,EAAQ,mBAAsB,WAChCA,EAAQ,kBAAkByB,EAAUC,CAAI,EACtC1B,EAAQ,oBAAsB,GAWhCM,GAAiBmB,EAAUC,CAAI,EAEjCA,CACT,CAIA,SAASC,GAASC,EAAOC,EAAMC,EAAM,EAAG,CACtC,MAAMC,EAAW,CAAC,GAAGH,EAAOC,CAAI,EAChC,OAAOC,GAAOC,EAAS,OAASD,EAAMC,EAAS,MAAM,CAAC,EAAIA,CAC5D,CACA,SAASC,GAAWJ,EAAOC,EAAMC,EAAM,EAAG,CACxC,MAAMC,EAAW,CAACF,EAAM,GAAGD,CAAK,EAChC,OAAOE,GAAOC,EAAS,OAASD,EAAMC,EAAS,MAAM,EAAG,EAAE,EAAIA,CAChE,CACA,IAAIE,GAAY,SAChB,SAASC,GAAclC,EAASmC,EAAc,CAQ5C,MAAI,CAACnC,EAAQ,SAAWmC,GAAc,eAC7B,IAAMA,EAAa,eAExB,CAACnC,EAAQ,SAAWA,EAAQ,UAAYiC,GACnC,IAAM,QAAQ,OAAO,IAAI,MAAM,qBAAqBjC,EAAQ,SAAS,GAAG,CAAC,EAE3EA,EAAQ,OACjB,CCzNA,IAAIoC,GAAe,cAAcpE,EAAa,CAC5CqE,GACAC,GACAC,GACA,aAAc,CACZ,MAAK,EACL,KAAKA,GAAUC,GAAY,CACzB,GAAI,CAACtE,IAAY,OAAO,iBAAkB,CACxC,MAAMD,EAAW,IAAMuE,EAAO,EAC9B,cAAO,iBAAiB,mBAAoBvE,EAAU,EAAK,EACpD,IAAM,CACX,OAAO,oBAAoB,mBAAoBA,CAAQ,CACzD,CACF,CAEF,CACF,CACA,aAAc,CACP,KAAKqE,IACR,KAAK,iBAAiB,KAAKC,EAAM,CAErC,CACA,eAAgB,CACT,KAAK,iBACR,KAAKD,KAAQ,EACb,KAAKA,GAAW,OAEpB,CACA,iBAAiBG,EAAO,CACtB,KAAKF,GAASE,EACd,KAAKH,KAAQ,EACb,KAAKA,GAAWG,EAAOC,GAAY,CAC7B,OAAOA,GAAY,UACrB,KAAK,WAAWA,CAAO,EAEvB,KAAK,QAAO,CAEhB,CAAC,CACH,CACA,WAAWA,EAAS,CACF,KAAKL,KAAaK,IAEhC,KAAKL,GAAWK,EAChB,KAAK,QAAO,EAEhB,CACA,SAAU,CACR,MAAMC,EAAY,KAAK,UAAS,EAChC,KAAK,UAAU,QAAS1E,GAAa,CACnCA,EAAS0E,CAAS,CACpB,CAAC,CACH,CACA,WAAY,CACV,OAAI,OAAO,KAAKN,IAAa,UACpB,KAAKA,GAEP,WAAW,UAAU,kBAAoB,QAClD,CACF,EACIO,GAAe,IAAIR,GC3DnBS,GAAgB,cAAc7E,EAAa,CAC7C8E,GAAU,GACVR,GACAC,GACA,aAAc,CACZ,MAAK,EACL,KAAKA,GAAUQ,GAAa,CAC1B,GAAI,CAAC7E,IAAY,OAAO,iBAAkB,CACxC,MAAM8E,EAAiB,IAAMD,EAAS,EAAI,EACpCE,EAAkB,IAAMF,EAAS,EAAK,EAC5C,cAAO,iBAAiB,SAAUC,EAAgB,EAAK,EACvD,OAAO,iBAAiB,UAAWC,EAAiB,EAAK,EAClD,IAAM,CACX,OAAO,oBAAoB,SAAUD,CAAc,EACnD,OAAO,oBAAoB,UAAWC,CAAe,CACvD,CACF,CAEF,CACF,CACA,aAAc,CACP,KAAKX,IACR,KAAK,iBAAiB,KAAKC,EAAM,CAErC,CACA,eAAgB,CACT,KAAK,iBACR,KAAKD,KAAQ,EACb,KAAKA,GAAW,OAEpB,CACA,iBAAiBG,EAAO,CACtB,KAAKF,GAASE,EACd,KAAKH,KAAQ,EACb,KAAKA,GAAWG,EAAM,KAAK,UAAU,KAAK,IAAI,CAAC,CACjD,CACA,UAAUS,EAAQ,CACA,KAAKJ,KAAYI,IAE/B,KAAKJ,GAAUI,EACf,KAAK,UAAU,QAASjF,GAAa,CACnCA,EAASiF,CAAM,CACjB,CAAC,EAEL,CACA,UAAW,CACT,OAAO,KAAKJ,EACd,CACF,EACIK,GAAgB,IAAIN,GClDxB,SAASO,IAAkB,CACzB,IAAI7B,EACA8B,EACJ,MAAMC,EAAW,IAAI,QAAQ,CAACC,EAAUC,IAAY,CAClDjC,EAAUgC,EACVF,EAASG,CACX,CAAC,EACDF,EAAS,OAAS,UAClBA,EAAS,MAAM,IAAM,CACrB,CAAC,EACD,SAASG,EAAS/B,EAAM,CACtB,OAAO,OAAO4B,EAAU5B,CAAI,EAC5B,OAAO4B,EAAS,QAChB,OAAOA,EAAS,MAClB,CACA,OAAAA,EAAS,QAAW9E,GAAU,CAC5BiF,EAAS,CACP,OAAQ,YACR,MAAAjF,CACN,CAAK,EACD+C,EAAQ/C,CAAK,CACf,EACA8E,EAAS,OAAUI,GAAW,CAC5BD,EAAS,CACP,OAAQ,WACR,OAAAC,CACN,CAAK,EACDL,EAAOK,CAAM,CACf,EACOJ,CACT,CC3BA,SAASK,GAAkBC,EAAc,CACvC,OAAO,KAAK,IAAI,IAAM,GAAKA,EAAc,GAAG,CAC9C,CACA,SAASC,GAASC,EAAa,CAC7B,OAAQA,GAAe,YAAc,SAAWX,GAAc,SAAQ,EAAK,EAC7E,CACA,IAAIY,GAAiB,cAAc,KAAM,CACvC,YAAY/D,EAAS,CACnB,MAAM,gBAAgB,EACtB,KAAK,OAASA,GAAS,OACvB,KAAK,OAASA,GAAS,MACzB,CACF,EACA,SAASgE,GAAiBxF,EAAO,CAC/B,OAAOA,aAAiBuF,EAC1B,CACA,SAASE,GAAcC,EAAQ,CAC7B,IAAIC,EAAmB,GACnBP,EAAe,EACfQ,EAAa,GACbC,EACJ,MAAMf,EAAWF,GAAe,EAC1BkB,EAAUC,GAAkB,CAC3BH,IACHf,EAAO,IAAIU,GAAeQ,CAAa,CAAC,EACxCL,EAAO,QAAK,EAEhB,EACMM,EAAc,IAAM,CACxBL,EAAmB,EACrB,EACMM,EAAgB,IAAM,CAC1BN,EAAmB,EACrB,EACMO,EAAc,IAAM9B,GAAa,UAAS,IAAOsB,EAAO,cAAgB,UAAYf,GAAc,SAAQ,IAAOe,EAAO,OAAM,EAC9HS,EAAW,IAAMd,GAASK,EAAO,WAAW,GAAKA,EAAO,OAAM,EAC9D3C,EAAW/C,GAAU,CACpB4F,IACHA,EAAa,GACbF,EAAO,YAAY1F,CAAK,EACxB6F,IAAU,EACVf,EAAS,QAAQ9E,CAAK,EAE1B,EACM6E,EAAU7E,GAAU,CACnB4F,IACHA,EAAa,GACbF,EAAO,UAAU1F,CAAK,EACtB6F,IAAU,EACVf,EAAS,OAAO9E,CAAK,EAEzB,EACMoG,EAAQ,IACL,IAAI,QAASC,GAAoB,CACtCR,EAAc7F,GAAU,EAClB4F,GAAcM,MAChBG,EAAgBrG,CAAK,CAEzB,EACA0F,EAAO,UAAO,CAChB,CAAC,EAAE,KAAK,IAAM,CACZG,EAAa,OACRD,GACHF,EAAO,aAAU,CAErB,CAAC,EAEGY,EAAM,IAAM,CAChB,GAAIV,EACF,OAEF,IAAIW,EACJ,MAAMC,EAAiBpB,IAAiB,EAAIM,EAAO,eAAiB,OACpE,GAAI,CACFa,EAAiBC,GAAkBd,EAAO,GAAE,CAC9C,OAASe,EAAO,CACdF,EAAiB,QAAQ,OAAOE,CAAK,CACvC,CACA,QAAQ,QAAQF,CAAc,EAAE,KAAKxD,CAAO,EAAE,MAAO0D,GAAU,CAC7D,GAAIb,EACF,OAEF,MAAMc,EAAQhB,EAAO,QAAUhG,GAAW,EAAI,GACxCiH,EAAajB,EAAO,YAAcP,GAClCyB,EAAQ,OAAOD,GAAe,WAAaA,EAAWvB,EAAcqB,CAAK,EAAIE,EAC7EE,EAAcH,IAAU,IAAQ,OAAOA,GAAU,UAAYtB,EAAesB,GAAS,OAAOA,GAAU,YAAcA,EAAMtB,EAAcqB,CAAK,EACnJ,GAAId,GAAoB,CAACkB,EAAa,CACpChC,EAAO4B,CAAK,EACZ,MACF,CACArB,IACAM,EAAO,SAASN,EAAcqB,CAAK,EACnC5D,GAAM+D,CAAK,EAAE,KAAK,IACTV,EAAW,EAAK,OAASE,EAAK,CACtC,EAAE,KAAK,IAAM,CACRT,EACFd,EAAO4B,CAAK,EAEZH,EAAG,CAEP,CAAC,CACH,CAAC,CACH,EACA,MAAO,CACL,QAASxB,EACT,OAAAgB,EACA,SAAU,KACRD,IAAU,EACHf,GAET,YAAAkB,EACA,cAAAC,EACA,SAAAE,EACA,MAAO,KACDA,EAAQ,EACVG,EAAG,EAEHF,EAAK,EAAG,KAAKE,CAAG,EAEXxB,EAEb,CACA,CC9HA,IAAIgC,GAAoBC,GAAO,WAAWA,EAAI,CAAC,EAC/C,SAASC,IAAsB,CAC7B,IAAIC,EAAQ,GACRC,EAAe,EACfC,EAAYC,GAAa,CAC3BA,EAAQ,CACV,EACIC,EAAiBD,GAAa,CAChCA,EAAQ,CACV,EACIE,EAAaR,GACjB,MAAMS,EAAYH,GAAa,CACzBF,EACFD,EAAM,KAAKG,CAAQ,EAEnBE,EAAW,IAAM,CACfH,EAASC,CAAQ,CACnB,CAAC,CAEL,EACMI,EAAQ,IAAM,CAClB,MAAMC,EAAgBR,EACtBA,EAAQ,GACJQ,EAAc,QAChBH,EAAW,IAAM,CACfD,EAAc,IAAM,CAClBI,EAAc,QAASL,GAAa,CAClCD,EAASC,CAAQ,CACnB,CAAC,CACH,CAAC,CACH,CAAC,CAEL,EACA,MAAO,CACL,MAAQA,GAAa,CACnB,IAAIxF,EACJsF,IACA,GAAI,CACFtF,EAASwF,EAAQ,CACnB,QAAC,CACCF,IACKA,GACHM,EAAK,CAET,CACA,OAAO5F,CACT,EAIA,WAAawF,GACJ,IAAIM,IAAS,CAClBH,EAAS,IAAM,CACbH,EAAS,GAAGM,CAAI,CAClB,CAAC,CACH,EAEF,SAAAH,EAKA,kBAAoBI,GAAO,CACzBR,EAAWQ,CACb,EAKA,uBAAyBA,GAAO,CAC9BN,EAAgBM,CAClB,EACA,aAAeA,GAAO,CACpBL,EAAaK,CACf,CACJ,CACA,CACA,IAAIC,GAAgBZ,GAAmB,EC5EnCa,GAAY,KAAM,CACpBC,GACA,SAAU,CACR,KAAK,eAAc,CACrB,CACA,YAAa,CACX,KAAK,eAAc,EACf/H,GAAe,KAAK,MAAM,IAC5B,KAAK+H,GAAa,WAAW,IAAM,CACjC,KAAK,eAAc,CACrB,EAAG,KAAK,MAAM,EAElB,CACA,aAAaC,EAAW,CACtB,KAAK,OAAS,KAAK,IACjB,KAAK,QAAU,EACfA,IAAcrI,GAAW,IAAW,IAAS,IACnD,CACE,CACA,gBAAiB,CACX,KAAKoI,KACP,aAAa,KAAKA,EAAU,EAC5B,KAAKA,GAAa,OAEtB,CACF,ECdIE,GAAQ,cAAcH,EAAU,CAClCI,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACA,YAAY7C,EAAQ,CAClB,QACA,KAAK6C,GAAuB,GAC5B,KAAKD,GAAkB5C,EAAO,eAC9B,KAAK,WAAWA,EAAO,OAAO,EAC9B,KAAK,UAAY,GACjB,KAAK0C,GAAU1C,EAAO,OACtB,KAAKyC,GAAS,KAAKC,GAAQ,gBAC3B,KAAK,SAAW1C,EAAO,SACvB,KAAK,UAAYA,EAAO,UACxB,KAAKuC,GAAgBO,GAAgB,KAAK,OAAO,EACjD,KAAK,MAAQ9C,EAAO,OAAS,KAAKuC,GAClC,KAAK,YACP,CACA,IAAI,MAAO,CACT,OAAO,KAAK,QAAQ,IACtB,CACA,IAAI,SAAU,CACZ,OAAO,KAAKI,IAAU,OACxB,CACA,WAAW7G,EAAS,CAClB,KAAK,QAAU,CAAE,GAAG,KAAK8G,GAAiB,GAAG9G,CAAA,EAC7C,KAAK,aAAa,KAAK,QAAQ,MAAM,CACvC,CACA,gBAAiB,CACX,CAAC,KAAK,UAAU,QAAU,KAAK,MAAM,cAAgB,QACvD,KAAK2G,GAAO,OAAO,IAAI,CAE3B,CACA,QAAQM,EAASjH,EAAS,CACxB,MAAM0B,EAAOF,GAAY,KAAK,MAAM,KAAMyF,EAAS,KAAK,OAAO,EAC/D,YAAKC,GAAU,CACb,KAAAxF,EACA,KAAM,UACN,cAAe1B,GAAS,UACxB,OAAQA,GAAS,OAClB,EACM0B,CACT,CACA,SAASyF,EAAOC,EAAiB,CAC/B,KAAKF,GAAU,CAAE,KAAM,WAAY,MAAAC,EAAO,gBAAAC,EAAiB,CAC7D,CACA,OAAOpH,EAAS,CACd,MAAMqH,EAAU,KAAKR,IAAU,QAC/B,YAAKA,IAAU,OAAO7G,CAAO,EACtBqH,EAAUA,EAAQ,KAAKlJ,EAAI,EAAE,MAAMA,EAAI,EAAI,QAAQ,SAC5D,CACA,SAAU,CACR,MAAM,UACN,KAAK,OAAO,CAAE,OAAQ,GAAM,CAC9B,CACA,OAAQ,CACN,KAAK,UACL,KAAK,SAAS,KAAKsI,EAAa,CAClC,CACA,UAAW,CACT,OAAO,KAAK,UAAU,KACnBa,GAAaxI,GAAewI,EAAS,QAAQ,QAAS,IAAI,IAAM,GAErE,CACA,YAAa,CACX,OAAI,KAAK,oBAAsB,EACtB,CAAC,KAAK,WAER,KAAK,QAAQ,UAAYrF,IAAa,KAAK,MAAM,gBAAkB,KAAK,MAAM,mBAAqB,CAC5G,CACA,UAAW,CACT,OAAI,KAAK,oBAAsB,EACtB,KAAK,UAAU,KACnBqF,GAAa1I,GAAiB0I,EAAS,QAAQ,UAAW,IAAI,IAAM,UAGlE,EACT,CACA,SAAU,CACR,OAAI,KAAK,oBAAsB,EACtB,KAAK,UAAU,KACnBA,GAAaA,EAAS,mBAAmB,SAGvC,KAAK,MAAM,OAAS,QAAU,KAAK,MAAM,aAClD,CACA,cAAc3I,EAAY,EAAG,CAC3B,OAAI,KAAK,MAAM,OAAS,OACf,GAELA,IAAc,SACT,GAEL,KAAK,MAAM,cACN,GAEF,CAACF,GAAe,KAAK,MAAM,cAAeE,CAAS,CAC5D,CACA,SAAU,CACS,KAAK,UAAU,KAAM4I,GAAMA,EAAE,0BAA0B,GAC9D,QAAQ,CAAE,cAAe,GAAO,EAC1C,KAAKV,IAAU,UACjB,CACA,UAAW,CACQ,KAAK,UAAU,KAAMU,GAAMA,EAAE,wBAAwB,GAC5D,QAAQ,CAAE,cAAe,GAAO,EAC1C,KAAKV,IAAU,UACjB,CACA,YAAYS,EAAU,CACf,KAAK,UAAU,SAASA,CAAQ,IACnC,KAAK,UAAU,KAAKA,CAAQ,EAC5B,KAAK,iBACL,KAAKX,GAAO,OAAO,CAAE,KAAM,gBAAiB,MAAO,KAAM,SAAAW,EAAU,EAEvE,CACA,eAAeA,EAAU,CACnB,KAAK,UAAU,SAASA,CAAQ,IAClC,KAAK,UAAY,KAAK,UAAU,OAAQC,GAAMA,IAAMD,CAAQ,EACvD,KAAK,UAAU,SACd,KAAKT,KACH,KAAKE,GACP,KAAKF,GAAS,OAAO,CAAE,OAAQ,GAAM,EAErC,KAAKA,GAAS,eAGlB,KAAK,cAEP,KAAKF,GAAO,OAAO,CAAE,KAAM,kBAAmB,MAAO,KAAM,SAAAW,EAAU,EAEzE,CACA,mBAAoB,CAClB,OAAO,KAAK,UAAU,MACxB,CACA,YAAa,CACN,KAAK,MAAM,eACd,KAAKJ,GAAU,CAAE,KAAM,aAAc,CAEzC,CACA,MAAMlH,EAASmC,EAAc,CAC3B,GAAI,KAAK,MAAM,cAAgB,QAC7B,GAAI,KAAK,MAAM,OAAS,QAAUA,GAAc,cAC9C,KAAK,OAAO,CAAE,OAAQ,GAAM,UACnB,KAAK0E,GACd,YAAKA,GAAS,gBACP,KAAKA,GAAS,QAMzB,GAHI7G,GACF,KAAK,WAAWA,CAAO,EAErB,CAAC,KAAK,QAAQ,QAAS,CACzB,MAAMsH,EAAW,KAAK,UAAU,KAAMC,GAAMA,EAAE,QAAQ,OAAO,EACzDD,GACF,KAAK,WAAWA,EAAS,OAAO,CAEpC,CAQA,MAAME,EAAkB,IAAI,gBACtBC,EAAqBC,GAAW,CACpC,OAAO,eAAeA,EAAQ,SAAU,CACtC,WAAY,GACZ,IAAK,KACH,KAAKX,GAAuB,GACrBS,EAAgB,OACzB,CACD,CACH,EACMG,EAAU,IAAM,CACpB,MAAMC,EAAU1F,GAAc,KAAK,QAASC,CAAY,EAUlD0F,GATuB,IAAM,CACjC,MAAMC,EAAkB,CACtB,OAAQ,KAAKlB,GACb,SAAU,KAAK,SACf,KAAM,KAAK,MAEb,OAAAa,EAAkBK,CAAe,EAC1BA,CACT,GACuB,EAEvB,OADA,KAAKf,GAAuB,GACxB,KAAK,QAAQ,UACR,KAAK,QAAQ,UAClBa,EACAC,EACA,MAGGD,EAAQC,CAAc,CAC/B,EAaME,GAZqB,IAAM,CAC/B,MAAMC,EAAW,CACf,aAAA7F,EACA,QAAS,KAAK,QACd,SAAU,KAAK,SACf,OAAQ,KAAKyE,GACb,MAAO,KAAK,MACZ,QAAAe,CAAA,EAEF,OAAAF,EAAkBO,CAAQ,EACnBA,CACT,GACgB,EAChB,KAAK,QAAQ,UAAU,QAAQD,EAAS,IAAI,EAC5C,KAAKrB,GAAe,KAAK,OACrB,KAAK,MAAM,cAAgB,QAAU,KAAK,MAAM,YAAcqB,EAAQ,cAAc,OACtF,KAAKb,GAAU,CAAE,KAAM,QAAS,KAAMa,EAAQ,cAAc,KAAM,EAEpE,MAAME,EAAWhD,GAAU,CACnBjB,GAAiBiB,CAAK,GAAKA,EAAM,QACrC,KAAKiC,GAAU,CACb,KAAM,QACN,MAAAjC,CAAA,CACD,EAEEjB,GAAiBiB,CAAK,IACzB,KAAK0B,GAAO,OAAO,UACjB1B,EACA,MAEF,KAAK0B,GAAO,OAAO,YACjB,KAAK,MAAM,KACX1B,EACA,OAGJ,KAAK,YACP,EACA,YAAK4B,GAAW5C,GAAc,CAC5B,eAAgB9B,GAAc,eAC9B,GAAI4F,EAAQ,QACZ,MAAOP,EAAgB,MAAM,KAAKA,CAAe,EACjD,UAAY9F,GAAS,CACnB,GAAIA,IAAS,OAAQ,CAMnBuG,EAAQ,IAAI,MAAM,GAAG,KAAK,SAAS,oBAAoB,CAAC,EACxD,MACF,CACA,GAAI,CACF,KAAK,QAAQvG,CAAI,CACnB,OAASuD,EAAO,CACdgD,EAAQhD,CAAK,EACb,MACF,CACA,KAAK0B,GAAO,OAAO,YAAYjF,EAAM,IAAI,EACzC,KAAKiF,GAAO,OAAO,YACjBjF,EACA,KAAK,MAAM,MACX,MAEF,KAAK,YACP,EACA,QAAAuG,EACA,OAAQ,CAACrE,EAAcqB,IAAU,CAC/B,KAAKiC,GAAU,CAAE,KAAM,SAAU,aAAAtD,EAAc,MAAAqB,EAAO,CACxD,EACA,QAAS,IAAM,CACb,KAAKiC,GAAU,CAAE,KAAM,QAAS,CAClC,EACA,WAAY,IAAM,CAChB,KAAKA,GAAU,CAAE,KAAM,WAAY,CACrC,EACA,MAAOa,EAAQ,QAAQ,MACvB,WAAYA,EAAQ,QAAQ,WAC5B,YAAaA,EAAQ,QAAQ,YAC7B,OAAQ,IAAM,GACf,EACM,KAAKlB,GAAS,OACvB,CACAK,GAAUgB,EAAQ,CAChB,MAAMC,EAAWhB,GAAU,CACzB,OAAQe,EAAO,MACb,IAAK,SACH,MAAO,CACL,GAAGf,EACH,kBAAmBe,EAAO,aAC1B,mBAAoBA,EAAO,OAE/B,IAAK,QACH,MAAO,CACL,GAAGf,EACH,YAAa,UAEjB,IAAK,WACH,MAAO,CACL,GAAGA,EACH,YAAa,YAEjB,IAAK,QACH,MAAO,CACL,GAAGA,EACH,GAAGiB,GAAWjB,EAAM,KAAM,KAAK,OAAO,EACtC,UAAWe,EAAO,MAAQ,MAE9B,IAAK,UACH,YAAKxB,GAAe,OACb,CACL,GAAGS,EACH,KAAMe,EAAO,KACb,gBAAiBf,EAAM,gBAAkB,EACzC,cAAee,EAAO,eAAiB,KAAK,MAC5C,MAAO,KACP,cAAe,GACf,OAAQ,UACR,GAAG,CAACA,EAAO,QAAU,CACnB,YAAa,OACb,kBAAmB,EACnB,mBAAoB,KACtB,EAEJ,IAAK,QACH,MAAMjD,EAAQiD,EAAO,MACrB,OAAIlE,GAAiBiB,CAAK,GAAKA,EAAM,QAAU,KAAKyB,GAC3C,CAAE,GAAG,KAAKA,GAAc,YAAa,QAEvC,CACL,GAAGS,EACH,MAAAlC,EACA,iBAAkBkC,EAAM,iBAAmB,EAC3C,eAAgB,KAAK,MACrB,kBAAmBA,EAAM,kBAAoB,EAC7C,mBAAoBlC,EACpB,YAAa,OACb,OAAQ,SAEZ,IAAK,aACH,MAAO,CACL,GAAGkC,EACH,cAAe,IAEnB,IAAK,WACH,MAAO,CACL,GAAGA,EACH,GAAGe,EAAO,MACZ,CAEN,EACA,KAAK,MAAQC,EAAQ,KAAK,KAAK,EAC/B/B,GAAc,MAAM,IAAM,CACxB,KAAK,UAAU,QAASkB,GAAa,CACnCA,EAAS,eACX,CAAC,EACD,KAAKX,GAAO,OAAO,CAAE,MAAO,KAAM,KAAM,UAAW,OAAAuB,EAAQ,CAC7D,CAAC,CACH,CACF,EACA,SAASE,GAAW1G,EAAM1B,EAAS,CACjC,MAAO,CACL,kBAAmB,EACnB,mBAAoB,KACpB,YAAa6D,GAAS7D,EAAQ,WAAW,EAAI,WAAa,SAC1D,GAAG0B,IAAS,QAAU,CACpB,MAAO,KACP,OAAQ,UACV,CAEJ,CACA,SAASsF,GAAgBhH,EAAS,CAChC,MAAM0B,EAAO,OAAO1B,EAAQ,aAAgB,WAAaA,EAAQ,cAAgBA,EAAQ,YACnFqI,EAAU3G,IAAS,OACnB4G,EAAuBD,EAAU,OAAOrI,EAAQ,sBAAyB,WAAaA,EAAQ,uBAAyBA,EAAQ,qBAAuB,EAC5J,MAAO,CACL,KAAA0B,EACA,gBAAiB,EACjB,cAAe2G,EAAUC,GAAwB,KAAK,MAAQ,EAC9D,MAAO,KACP,iBAAkB,EAClB,eAAgB,EAChB,kBAAmB,EACnB,mBAAoB,KACpB,UAAW,KACX,cAAe,GACf,OAAQD,EAAU,UAAY,UAC9B,YAAa,OAEjB,CC7YA,IAAIE,GAAa,cAAcvK,EAAa,CAC1C,YAAYkG,EAAS,GAAI,CACvB,MAAK,EACL,KAAK,OAASA,EACd,KAAKsE,GAA2B,IAAI,GACtC,CACAA,GACA,MAAMzK,EAAQiC,EAASmH,EAAO,CAC5B,MAAM7H,EAAWU,EAAQ,SACnByI,EAAYzI,EAAQ,WAAaR,GAAsBF,EAAUU,CAAO,EAC9E,IAAInB,EAAQ,KAAK,IAAI4J,CAAS,EAC9B,OAAK5J,IACHA,EAAQ,IAAI2H,GAAM,CAChB,OAAAzI,EACA,SAAAuB,EACA,UAAAmJ,EACA,QAAS1K,EAAO,oBAAoBiC,CAAO,EAC3C,MAAAmH,EACA,eAAgBpJ,EAAO,iBAAiBuB,CAAQ,CACxD,CAAO,EACD,KAAK,IAAIT,CAAK,GAETA,CACT,CACA,IAAIA,EAAO,CACJ,KAAK2J,GAAS,IAAI3J,EAAM,SAAS,IACpC,KAAK2J,GAAS,IAAI3J,EAAM,UAAWA,CAAK,EACxC,KAAK,OAAO,CACV,KAAM,QACN,MAAAA,CACR,CAAO,EAEL,CACA,OAAOA,EAAO,CACZ,MAAM6J,EAAa,KAAKF,GAAS,IAAI3J,EAAM,SAAS,EAChD6J,IACF7J,EAAM,QAAO,EACT6J,IAAe7J,GACjB,KAAK2J,GAAS,OAAO3J,EAAM,SAAS,EAEtC,KAAK,OAAO,CAAE,KAAM,UAAW,MAAAA,CAAK,CAAE,EAE1C,CACA,OAAQ,CACNuH,GAAc,MAAM,IAAM,CACxB,KAAK,OAAM,EAAG,QAASvH,GAAU,CAC/B,KAAK,OAAOA,CAAK,CACnB,CAAC,CACH,CAAC,CACH,CACA,IAAI4J,EAAW,CACb,OAAO,KAAKD,GAAS,IAAIC,CAAS,CACpC,CACA,QAAS,CACP,MAAO,CAAC,GAAG,KAAKD,GAAS,OAAM,CAAE,CACnC,CACA,KAAKvJ,EAAS,CACZ,MAAM0J,EAAmB,CAAE,MAAO,GAAM,GAAG1J,CAAO,EAClD,OAAO,KAAK,OAAM,EAAG,KAClBJ,GAAUG,GAAW2J,EAAkB9J,CAAK,CACnD,CACE,CACA,QAAQI,EAAU,GAAI,CACpB,MAAM2J,EAAU,KAAK,OAAM,EAC3B,OAAO,OAAO,KAAK3J,CAAO,EAAE,OAAS,EAAI2J,EAAQ,OAAQ/J,GAAUG,GAAWC,EAASJ,CAAK,CAAC,EAAI+J,CACnG,CACA,OAAOC,EAAO,CACZzC,GAAc,MAAM,IAAM,CACxB,KAAK,UAAU,QAASnI,GAAa,CACnCA,EAAS4K,CAAK,CAChB,CAAC,CACH,CAAC,CACH,CACA,SAAU,CACRzC,GAAc,MAAM,IAAM,CACxB,KAAK,OAAM,EAAG,QAASvH,GAAU,CAC/BA,EAAM,QAAO,CACf,CAAC,CACH,CAAC,CACH,CACA,UAAW,CACTuH,GAAc,MAAM,IAAM,CACxB,KAAK,OAAM,EAAG,QAASvH,GAAU,CAC/BA,EAAM,SAAQ,CAChB,CAAC,CACH,CAAC,CACH,CACF,ECxFIiK,GAAW,cAAczC,EAAU,CACrC0C,GACAC,GACAnC,GACA,YAAY3C,EAAQ,CAClB,MAAK,EACL,KAAK,WAAaA,EAAO,WACzB,KAAK8E,GAAiB9E,EAAO,cAC7B,KAAK6E,GAAa,GAClB,KAAK,MAAQ7E,EAAO,OAAS8C,GAAe,EAC5C,KAAK,WAAW9C,EAAO,OAAO,EAC9B,KAAK,WAAU,CACjB,CACA,WAAWlE,EAAS,CAClB,KAAK,QAAUA,EACf,KAAK,aAAa,KAAK,QAAQ,MAAM,CACvC,CACA,IAAI,MAAO,CACT,OAAO,KAAK,QAAQ,IACtB,CACA,YAAYsH,EAAU,CACf,KAAKyB,GAAW,SAASzB,CAAQ,IACpC,KAAKyB,GAAW,KAAKzB,CAAQ,EAC7B,KAAK,eAAc,EACnB,KAAK0B,GAAe,OAAO,CACzB,KAAM,gBACN,SAAU,KACV,SAAA1B,CACR,CAAO,EAEL,CACA,eAAeA,EAAU,CACvB,KAAKyB,GAAa,KAAKA,GAAW,OAAQxB,GAAMA,IAAMD,CAAQ,EAC9D,KAAK,WAAU,EACf,KAAK0B,GAAe,OAAO,CACzB,KAAM,kBACN,SAAU,KACV,SAAA1B,CACN,CAAK,CACH,CACA,gBAAiB,CACV,KAAKyB,GAAW,SACf,KAAK,MAAM,SAAW,UACxB,KAAK,WAAU,EAEf,KAAKC,GAAe,OAAO,IAAI,EAGrC,CACA,UAAW,CACT,OAAO,KAAKnC,IAAU,SAAQ,GAC9B,KAAK,QAAQ,KAAK,MAAM,SAAS,CACnC,CACA,MAAM,QAAQoC,EAAW,CACvB,MAAMC,EAAa,IAAM,CACvB,KAAKhC,GAAU,CAAE,KAAM,UAAU,CAAE,CACrC,EACA,KAAKL,GAAW5C,GAAc,CAC5B,GAAI,IACG,KAAK,QAAQ,WAGX,KAAK,QAAQ,WAAWgF,CAAS,EAF/B,QAAQ,OAAO,IAAI,MAAM,qBAAqB,CAAC,EAI1D,OAAQ,CAACrF,EAAcqB,IAAU,CAC/B,KAAKiC,GAAU,CAAE,KAAM,SAAU,aAAAtD,EAAc,MAAAqB,EAAO,CACxD,EACA,QAAS,IAAM,CACb,KAAKiC,GAAU,CAAE,KAAM,OAAO,CAAE,CAClC,EACA,WAAAgC,EACA,MAAO,KAAK,QAAQ,OAAS,EAC7B,WAAY,KAAK,QAAQ,WACzB,YAAa,KAAK,QAAQ,YAC1B,OAAQ,IAAM,KAAKF,GAAe,OAAO,IAAI,CACnD,CAAK,EACD,MAAMG,EAAW,KAAK,MAAM,SAAW,UACjCC,EAAW,CAAC,KAAKvC,GAAS,SAAQ,EACxC,GAAI,CACF,GAAIsC,EACFD,EAAU,MACL,CACL,KAAKhC,GAAU,CAAE,KAAM,UAAW,UAAA+B,EAAW,SAAAG,EAAU,EACvD,MAAM,KAAKJ,GAAe,OAAO,WAC/BC,EACA,IACV,EACQ,MAAMlB,EAAU,MAAM,KAAK,QAAQ,WAAWkB,CAAS,EACnDlB,IAAY,KAAK,MAAM,SACzB,KAAKb,GAAU,CACb,KAAM,UACN,QAAAa,EACA,UAAAkB,EACA,SAAAG,CACZ,CAAW,CAEL,CACA,MAAM1H,EAAO,MAAM,KAAKmF,GAAS,MAAK,EACtC,aAAM,KAAKmC,GAAe,OAAO,YAC/BtH,EACAuH,EACA,KAAK,MAAM,QACX,IACR,EACM,MAAM,KAAK,QAAQ,YAAYvH,EAAMuH,EAAW,KAAK,MAAM,OAAO,EAClE,MAAM,KAAKD,GAAe,OAAO,YAC/BtH,EACA,KACA,KAAK,MAAM,UACX,KAAK,MAAM,QACX,IACR,EACM,MAAM,KAAK,QAAQ,YAAYA,EAAM,KAAMuH,EAAW,KAAK,MAAM,OAAO,EACxE,KAAK/B,GAAU,CAAE,KAAM,UAAW,KAAAxF,CAAI,CAAE,EACjCA,CACT,OAASuD,EAAO,CACd,GAAI,CACF,YAAM,KAAK+D,GAAe,OAAO,UAC/B/D,EACAgE,EACA,KAAK,MAAM,QACX,IACV,EACQ,MAAM,KAAK,QAAQ,UACjBhE,EACAgE,EACA,KAAK,MAAM,OACrB,EACQ,MAAM,KAAKD,GAAe,OAAO,YAC/B,OACA/D,EACA,KAAK,MAAM,UACX,KAAK,MAAM,QACX,IACV,EACQ,MAAM,KAAK,QAAQ,YACjB,OACAA,EACAgE,EACA,KAAK,MAAM,OACrB,EACchE,CACR,QAAC,CACC,KAAKiC,GAAU,CAAE,KAAM,QAAS,MAAAjC,CAAK,CAAE,CACzC,CACF,QAAC,CACC,KAAK+D,GAAe,QAAQ,IAAI,CAClC,CACF,CACA9B,GAAUgB,EAAQ,CAChB,MAAMC,EAAWhB,GAAU,CACzB,OAAQe,EAAO,KAAI,CACjB,IAAK,SACH,MAAO,CACL,GAAGf,EACH,aAAce,EAAO,aACrB,cAAeA,EAAO,KAClC,EACQ,IAAK,QACH,MAAO,CACL,GAAGf,EACH,SAAU,EACtB,EACQ,IAAK,WACH,MAAO,CACL,GAAGA,EACH,SAAU,EACtB,EACQ,IAAK,UACH,MAAO,CACL,GAAGA,EACH,QAASe,EAAO,QAChB,KAAM,OACN,aAAc,EACd,cAAe,KACf,MAAO,KACP,SAAUA,EAAO,SACjB,OAAQ,UACR,UAAWA,EAAO,UAClB,YAAa,KAAK,IAAG,CACjC,EACQ,IAAK,UACH,MAAO,CACL,GAAGf,EACH,KAAMe,EAAO,KACb,aAAc,EACd,cAAe,KACf,MAAO,KACP,OAAQ,UACR,SAAU,EACtB,EACQ,IAAK,QACH,MAAO,CACL,GAAGf,EACH,KAAM,OACN,MAAOe,EAAO,MACd,aAAcf,EAAM,aAAe,EACnC,cAAee,EAAO,MACtB,SAAU,GACV,OAAQ,OACpB,CACA,CACI,EACA,KAAK,MAAQC,EAAQ,KAAK,KAAK,EAC/B/B,GAAc,MAAM,IAAM,CACxB,KAAK2C,GAAW,QAASzB,GAAa,CACpCA,EAAS,iBAAiBY,CAAM,CAClC,CAAC,EACD,KAAKc,GAAe,OAAO,CACzB,SAAU,KACV,KAAM,UACN,OAAAd,CACR,CAAO,CACH,CAAC,CACH,CACF,EACA,SAASlB,IAAkB,CACzB,MAAO,CACL,QAAS,OACT,KAAM,OACN,MAAO,KACP,aAAc,EACd,cAAe,KACf,SAAU,GACV,OAAQ,OACR,UAAW,OACX,YAAa,CACjB,CACA,CCnOA,IAAIqC,GAAgB,cAAcrL,EAAa,CAC7C,YAAYkG,EAAS,GAAI,CACvB,MAAK,EACL,KAAK,OAASA,EACd,KAAKoF,GAA6B,IAAI,IACtC,KAAKC,GAA0B,IAAI,IACnC,KAAKC,GAAc,CACrB,CACAF,GACAC,GACAC,GACA,MAAMzL,EAAQiC,EAASmH,EAAO,CAC5B,MAAMvH,EAAW,IAAIkJ,GAAS,CAC5B,cAAe,KACf,WAAY,EAAE,KAAKU,GACnB,QAASzL,EAAO,uBAAuBiC,CAAO,EAC9C,MAAAmH,CACN,CAAK,EACD,YAAK,IAAIvH,CAAQ,EACVA,CACT,CACA,IAAIA,EAAU,CACZ,KAAK0J,GAAW,IAAI1J,CAAQ,EAC5B,MAAM6J,EAAQC,GAAS9J,CAAQ,EAC/B,GAAI,OAAO6J,GAAU,SAAU,CAC7B,MAAME,EAAkB,KAAKJ,GAAQ,IAAIE,CAAK,EAC1CE,EACFA,EAAgB,KAAK/J,CAAQ,EAE7B,KAAK2J,GAAQ,IAAIE,EAAO,CAAC7J,CAAQ,CAAC,CAEtC,CACA,KAAK,OAAO,CAAE,KAAM,QAAS,SAAAA,CAAQ,CAAE,CACzC,CACA,OAAOA,EAAU,CACf,GAAI,KAAK0J,GAAW,OAAO1J,CAAQ,EAAG,CACpC,MAAM6J,EAAQC,GAAS9J,CAAQ,EAC/B,GAAI,OAAO6J,GAAU,SAAU,CAC7B,MAAME,EAAkB,KAAKJ,GAAQ,IAAIE,CAAK,EAC9C,GAAIE,EACF,GAAIA,EAAgB,OAAS,EAAG,CAC9B,MAAMC,EAAQD,EAAgB,QAAQ/J,CAAQ,EAC1CgK,IAAU,IACZD,EAAgB,OAAOC,EAAO,CAAC,CAEnC,MAAWD,EAAgB,CAAC,IAAM/J,GAChC,KAAK2J,GAAQ,OAAOE,CAAK,CAG/B,CACF,CACA,KAAK,OAAO,CAAE,KAAM,UAAW,SAAA7J,CAAQ,CAAE,CAC3C,CACA,OAAOA,EAAU,CACf,MAAM6J,EAAQC,GAAS9J,CAAQ,EAC/B,GAAI,OAAO6J,GAAU,SAAU,CAE7B,MAAMI,EADyB,KAAKN,GAAQ,IAAIE,CAAK,GACA,KAClDrM,GAAMA,EAAE,MAAM,SAAW,SAClC,EACM,MAAO,CAACyM,GAAwBA,IAAyBjK,CAC3D,KACE,OAAO,EAEX,CACA,QAAQA,EAAU,CAChB,MAAM6J,EAAQC,GAAS9J,CAAQ,EAC/B,OAAI,OAAO6J,GAAU,SACG,KAAKF,GAAQ,IAAIE,CAAK,GAAG,KAAMrM,GAAMA,IAAMwC,GAAYxC,EAAE,MAAM,QAAQ,GACvE,YAAc,QAAQ,QAAO,EAE5C,QAAQ,QAAO,CAE1B,CACA,OAAQ,CACNgJ,GAAc,MAAM,IAAM,CACxB,KAAKkD,GAAW,QAAS1J,GAAa,CACpC,KAAK,OAAO,CAAE,KAAM,UAAW,SAAAA,CAAQ,CAAE,CAC3C,CAAC,EACD,KAAK0J,GAAW,MAAK,EACrB,KAAKC,GAAQ,MAAK,CACpB,CAAC,CACH,CACA,QAAS,CACP,OAAO,MAAM,KAAK,KAAKD,EAAU,CACnC,CACA,KAAKrK,EAAS,CACZ,MAAM0J,EAAmB,CAAE,MAAO,GAAM,GAAG1J,CAAO,EAClD,OAAO,KAAK,OAAM,EAAG,KAClBW,GAAaD,GAAcgJ,EAAkB/I,CAAQ,CAC5D,CACE,CACA,QAAQX,EAAU,GAAI,CACpB,OAAO,KAAK,OAAM,EAAG,OAAQW,GAAaD,GAAcV,EAASW,CAAQ,CAAC,CAC5E,CACA,OAAOiJ,EAAO,CACZzC,GAAc,MAAM,IAAM,CACxB,KAAK,UAAU,QAASnI,GAAa,CACnCA,EAAS4K,CAAK,CAChB,CAAC,CACH,CAAC,CACH,CACA,uBAAwB,CACtB,MAAMiB,EAAkB,KAAK,SAAS,OAAQvC,GAAMA,EAAE,MAAM,QAAQ,EACpE,OAAOnB,GAAc,MACnB,IAAM,QAAQ,IACZ0D,EAAgB,IAAKlK,GAAaA,EAAS,SAAQ,EAAG,MAAMzB,EAAI,CAAC,CACzE,CACA,CACE,CACF,EACA,SAASuL,GAAS9J,EAAU,CAC1B,OAAOA,EAAS,QAAQ,OAAO,EACjC,CCpHA,SAASmK,GAAsBC,EAAO,CACpC,MAAO,CACL,QAAS,CAACjC,EAASlJ,IAAU,CAC3B,MAAMmB,EAAU+H,EAAQ,QAClBkC,EAAYlC,EAAQ,cAAc,MAAM,WAAW,UACnDmC,EAAWnC,EAAQ,MAAM,MAAM,OAAS,GACxCoC,EAAgBpC,EAAQ,MAAM,MAAM,YAAc,GACxD,IAAI3H,EAAS,CAAE,MAAO,GAAI,WAAY,EAAE,EACpCgK,EAAc,EAClB,MAAMzC,EAAU,SAAY,CAC1B,IAAI0C,EAAY,GAChB,MAAM5C,EAAqBC,GAAW,CACpC,OAAO,eAAeA,EAAQ,SAAU,CACtC,WAAY,GACZ,IAAK,KACCK,EAAQ,OAAO,QACjBsC,EAAY,GAEZtC,EAAQ,OAAO,iBAAiB,QAAS,IAAM,CAC7CsC,EAAY,EACd,CAAC,EAEItC,EAAQ,OAE7B,CAAW,CACH,EACMH,EAAU1F,GAAc6F,EAAQ,QAASA,EAAQ,YAAY,EAC7DuC,EAAY,MAAO5I,EAAM6I,EAAOC,IAAa,CACjD,GAAIH,EACF,OAAO,QAAQ,OAAM,EAEvB,GAAIE,GAAS,MAAQ7I,EAAK,MAAM,OAC9B,OAAO,QAAQ,QAAQA,CAAI,EAa7B,MAAMmG,GAXuB,IAAM,CACjC,MAAMC,EAAkB,CACtB,OAAQC,EAAQ,OAChB,SAAUA,EAAQ,SAClB,UAAWwC,EACX,UAAWC,EAAW,WAAa,UACnC,KAAMzC,EAAQ,QAAQ,IACpC,EACY,OAAAN,EAAkBK,CAAe,EAC1BA,CACT,GAC2C,EACrC2C,EAAO,MAAM7C,EAAQC,CAAc,EACnC,CAAE,SAAA6C,GAAa3C,EAAQ,QACvB4C,EAAQH,EAAWxI,GAAaL,GACtC,MAAO,CACL,MAAOgJ,EAAMjJ,EAAK,MAAO+I,EAAMC,CAAQ,EACvC,WAAYC,EAAMjJ,EAAK,WAAY6I,EAAOG,CAAQ,CAC9D,CACQ,EACA,GAAIT,GAAaC,EAAS,OAAQ,CAChC,MAAMM,EAAWP,IAAc,WACzBW,EAAcJ,EAAWK,GAAuBC,GAChDC,EAAU,CACd,MAAOb,EACP,WAAYC,CACxB,EACgBI,EAAQK,EAAY5K,EAAS+K,CAAO,EAC1C3K,EAAS,MAAMkK,EAAUS,EAASR,EAAOC,CAAQ,CACnD,KAAO,CACL,MAAMQ,EAAiBhB,GAASE,EAAS,OACzC,EAAG,CACD,MAAMK,EAAQH,IAAgB,EAAID,EAAc,CAAC,GAAKnK,EAAQ,iBAAmB8K,GAAiB9K,EAASI,CAAM,EACjH,GAAIgK,EAAc,GAAKG,GAAS,KAC9B,MAEFnK,EAAS,MAAMkK,EAAUlK,EAAQmK,CAAK,EACtCH,GACF,OAASA,EAAcY,EACzB,CACA,OAAO5K,CACT,EACI2H,EAAQ,QAAQ,UAClBA,EAAQ,QAAU,IACTA,EAAQ,QAAQ,YACrBJ,EACA,CACE,OAAQI,EAAQ,OAChB,SAAUA,EAAQ,SAClB,KAAMA,EAAQ,QAAQ,KACtB,OAAQA,EAAQ,MAC9B,EACYlJ,CACZ,EAGQkJ,EAAQ,QAAUJ,CAEtB,CACJ,CACA,CACA,SAASmD,GAAiB9K,EAAS,CAAE,MAAAgK,EAAO,WAAAiB,CAAU,EAAI,CACxD,MAAMC,EAAYlB,EAAM,OAAS,EACjC,OAAOA,EAAM,OAAS,EAAIhK,EAAQ,iBAChCgK,EAAMkB,CAAS,EACflB,EACAiB,EAAWC,CAAS,EACpBD,CACJ,EAAM,MACN,CACA,SAASJ,GAAqB7K,EAAS,CAAE,MAAAgK,EAAO,WAAAiB,CAAU,EAAI,CAC5D,OAAOjB,EAAM,OAAS,EAAIhK,EAAQ,uBAAuBgK,EAAM,CAAC,EAAGA,EAAOiB,EAAW,CAAC,EAAGA,CAAU,EAAI,MACzG,CC5FA,IAAIE,GAAc,KAAM,CACtBC,GACApC,GACAlC,GACAuE,GACAC,GACAC,GACAC,GACAC,GACA,YAAYvH,EAAS,GAAI,CACvB,KAAKkH,GAAclH,EAAO,YAAc,IAAIqE,GAC5C,KAAKS,GAAiB9E,EAAO,eAAiB,IAAImF,GAClD,KAAKvC,GAAkB5C,EAAO,gBAAkB,GAChD,KAAKmH,GAAiC,IAAI,IAC1C,KAAKC,GAAoC,IAAI,IAC7C,KAAKC,GAAc,CACrB,CACA,OAAQ,CACN,KAAKA,KACD,KAAKA,KAAgB,IACzB,KAAKC,GAAoB5I,GAAa,UAAU,MAAOF,GAAY,CAC7DA,IACF,MAAM,KAAK,sBAAqB,EAChC,KAAK0I,GAAY,QAAO,EAE5B,CAAC,EACD,KAAKK,GAAqBtI,GAAc,UAAU,MAAOD,GAAW,CAC9DA,IACF,MAAM,KAAK,sBAAqB,EAChC,KAAKkI,GAAY,SAAQ,EAE7B,CAAC,EACH,CACA,SAAU,CACR,KAAKG,KACD,KAAKA,KAAgB,IACzB,KAAKC,KAAiB,EACtB,KAAKA,GAAoB,OACzB,KAAKC,KAAkB,EACvB,KAAKA,GAAqB,OAC5B,CACA,WAAWxM,EAAS,CAClB,OAAO,KAAKmM,GAAY,QAAQ,CAAE,GAAGnM,EAAS,YAAa,UAAU,CAAE,EAAE,MAC3E,CACA,WAAWA,EAAS,CAClB,OAAO,KAAK+J,GAAe,QAAQ,CAAE,GAAG/J,EAAS,OAAQ,SAAS,CAAE,EAAE,MACxE,CAQA,aAAaK,EAAU,CACrB,MAAMU,EAAU,KAAK,oBAAoB,CAAE,SAAAV,CAAQ,CAAE,EACrD,OAAO,KAAK8L,GAAY,IAAIpL,EAAQ,SAAS,GAAG,MAAM,IACxD,CACA,gBAAgBA,EAAS,CACvB,MAAM0L,EAAmB,KAAK,oBAAoB1L,CAAO,EACnDnB,EAAQ,KAAKuM,GAAY,MAAM,KAAMM,CAAgB,EACrDC,EAAa9M,EAAM,MAAM,KAC/B,OAAI8M,IAAe,OACV,KAAK,WAAW3L,CAAO,GAE5BA,EAAQ,mBAAqBnB,EAAM,cAAcD,GAAiB8M,EAAiB,UAAW7M,CAAK,CAAC,GACjG,KAAK,cAAc6M,CAAgB,EAEnC,QAAQ,QAAQC,CAAU,EACnC,CACA,eAAe1M,EAAS,CACtB,OAAO,KAAKmM,GAAY,QAAQnM,CAAO,EAAE,IAAI,CAAC,CAAE,SAAAK,EAAU,MAAA6H,KAAY,CACpE,MAAMzF,EAAOyF,EAAM,KACnB,MAAO,CAAC7H,EAAUoC,CAAI,CACxB,CAAC,CACH,CACA,aAAapC,EAAUjB,EAAS2B,EAAS,CACvC,MAAM0L,EAAmB,KAAK,oBAAoB,CAAE,SAAApM,CAAQ,CAAE,EAIxDmC,EAHQ,KAAK2J,GAAY,IAC7BM,EAAiB,SACvB,GAC4B,MAAM,KACxBhK,EAAOtD,GAAiBC,EAASoD,CAAQ,EAC/C,GAAIC,IAAS,OAGb,OAAO,KAAK0J,GAAY,MAAM,KAAMM,CAAgB,EAAE,QAAQhK,EAAM,CAAE,GAAG1B,EAAS,OAAQ,EAAI,CAAE,CAClG,CACA,eAAef,EAASZ,EAAS2B,EAAS,CACxC,OAAOoG,GAAc,MACnB,IAAM,KAAKgF,GAAY,QAAQnM,CAAO,EAAE,IAAI,CAAC,CAAE,SAAAK,KAAe,CAC5DA,EACA,KAAK,aAAaA,EAAUjB,EAAS2B,CAAO,CACpD,CAAO,CACP,CACE,CACA,cAAcV,EAAU,CACtB,MAAMU,EAAU,KAAK,oBAAoB,CAAE,SAAAV,CAAQ,CAAE,EACrD,OAAO,KAAK8L,GAAY,IACtBpL,EAAQ,SACd,GAAO,KACL,CACA,cAAcf,EAAS,CACrB,MAAM2M,EAAa,KAAKR,GACxBhF,GAAc,MAAM,IAAM,CACxBwF,EAAW,QAAQ3M,CAAO,EAAE,QAASJ,GAAU,CAC7C+M,EAAW,OAAO/M,CAAK,CACzB,CAAC,CACH,CAAC,CACH,CACA,aAAaI,EAASe,EAAS,CAC7B,MAAM4L,EAAa,KAAKR,GACxB,OAAOhF,GAAc,MAAM,KACzBwF,EAAW,QAAQ3M,CAAO,EAAE,QAASJ,GAAU,CAC7CA,EAAM,MAAK,CACb,CAAC,EACM,KAAK,eACV,CACE,KAAM,SACN,GAAGI,CACb,EACQe,CACR,EACK,CACH,CACA,cAAcf,EAASsF,EAAgB,GAAI,CACzC,MAAMsH,EAAyB,CAAE,OAAQ,GAAM,GAAGtH,CAAa,EACzDuH,EAAW1F,GAAc,MAC7B,IAAM,KAAKgF,GAAY,QAAQnM,CAAO,EAAE,IAAKJ,GAAUA,EAAM,OAAOgN,CAAsB,CAAC,CACjG,EACI,OAAO,QAAQ,IAAIC,CAAQ,EAAE,KAAK3N,EAAI,EAAE,MAAMA,EAAI,CACpD,CACA,kBAAkBc,EAASe,EAAU,GAAI,CACvC,OAAOoG,GAAc,MAAM,KACzB,KAAKgF,GAAY,QAAQnM,CAAO,EAAE,QAASJ,GAAU,CACnDA,EAAM,WAAU,CAClB,CAAC,EACGI,GAAS,cAAgB,OACpB,QAAQ,QAAO,EAEjB,KAAK,eACV,CACE,GAAGA,EACH,KAAMA,GAAS,aAAeA,GAAS,MAAQ,QACzD,EACQe,CACR,EACK,CACH,CACA,eAAef,EAASe,EAAU,GAAI,CACpC,MAAMmC,EAAe,CACnB,GAAGnC,EACH,cAAeA,EAAQ,eAAiB,EAC9C,EACU8L,EAAW1F,GAAc,MAC7B,IAAM,KAAKgF,GAAY,QAAQnM,CAAO,EAAE,OAAQJ,GAAU,CAACA,EAAM,WAAU,GAAM,CAACA,EAAM,SAAQ,CAAE,EAAE,IAAKA,GAAU,CACjH,IAAIwI,EAAUxI,EAAM,MAAM,OAAQsD,CAAY,EAC9C,OAAKA,EAAa,eAChBkF,EAAUA,EAAQ,MAAMlJ,EAAI,GAEvBU,EAAM,MAAM,cAAgB,SAAW,QAAQ,QAAO,EAAKwI,CACpE,CAAC,CACP,EACI,OAAO,QAAQ,IAAIyE,CAAQ,EAAE,KAAK3N,EAAI,CACxC,CACA,WAAW6B,EAAS,CAClB,MAAM0L,EAAmB,KAAK,oBAAoB1L,CAAO,EACrD0L,EAAiB,QAAU,SAC7BA,EAAiB,MAAQ,IAE3B,MAAM7M,EAAQ,KAAKuM,GAAY,MAAM,KAAMM,CAAgB,EAC3D,OAAO7M,EAAM,cACXD,GAAiB8M,EAAiB,UAAW7M,CAAK,CACxD,EAAQA,EAAM,MAAM6M,CAAgB,EAAI,QAAQ,QAAQ7M,EAAM,MAAM,IAAI,CACtE,CACA,cAAcmB,EAAS,CACrB,OAAO,KAAK,WAAWA,CAAO,EAAE,KAAK7B,EAAI,EAAE,MAAMA,EAAI,CACvD,CACA,mBAAmB6B,EAAS,CAC1B,OAAAA,EAAQ,SAAW+J,GAAsB/J,EAAQ,KAAK,EAC/C,KAAK,WAAWA,CAAO,CAChC,CACA,sBAAsBA,EAAS,CAC7B,OAAO,KAAK,mBAAmBA,CAAO,EAAE,KAAK7B,EAAI,EAAE,MAAMA,EAAI,CAC/D,CACA,wBAAwB6B,EAAS,CAC/B,OAAAA,EAAQ,SAAW+J,GAAsB/J,EAAQ,KAAK,EAC/C,KAAK,gBAAgBA,CAAO,CACrC,CACA,uBAAwB,CACtB,OAAImD,GAAc,WACT,KAAK6F,GAAe,sBAAqB,EAE3C,QAAQ,QAAO,CACxB,CACA,eAAgB,CACd,OAAO,KAAKoC,EACd,CACA,kBAAmB,CACjB,OAAO,KAAKpC,EACd,CACA,mBAAoB,CAClB,OAAO,KAAKlC,EACd,CACA,kBAAkB9G,EAAS,CACzB,KAAK8G,GAAkB9G,CACzB,CACA,iBAAiBV,EAAUU,EAAS,CAClC,KAAKqL,GAAe,IAAItL,GAAQT,CAAQ,EAAG,CACzC,SAAAA,EACA,eAAgBU,CACtB,CAAK,CACH,CACA,iBAAiBV,EAAU,CACzB,MAAMyM,EAAW,CAAC,GAAG,KAAKV,GAAe,OAAM,CAAE,EAC3CjL,EAAS,GACf,OAAA2L,EAAS,QAASC,GAAiB,CAC7BvM,GAAgBH,EAAU0M,EAAa,QAAQ,GACjD,OAAO,OAAO5L,EAAQ4L,EAAa,cAAc,CAErD,CAAC,EACM5L,CACT,CACA,oBAAoBN,EAAaE,EAAS,CACxC,KAAKsL,GAAkB,IAAIvL,GAAQD,CAAW,EAAG,CAC/C,YAAAA,EACA,eAAgBE,CACtB,CAAK,CACH,CACA,oBAAoBF,EAAa,CAC/B,MAAMiM,EAAW,CAAC,GAAG,KAAKT,GAAkB,OAAM,CAAE,EAC9ClL,EAAS,GACf,OAAA2L,EAAS,QAASC,GAAiB,CAC7BvM,GAAgBK,EAAakM,EAAa,WAAW,GACvD,OAAO,OAAO5L,EAAQ4L,EAAa,cAAc,CAErD,CAAC,EACM5L,CACT,CACA,oBAAoBJ,EAAS,CAC3B,GAAIA,EAAQ,WACV,OAAOA,EAET,MAAM0L,EAAmB,CACvB,GAAG,KAAK5E,GAAgB,QACxB,GAAG,KAAK,iBAAiB9G,EAAQ,QAAQ,EACzC,GAAGA,EACH,WAAY,EAClB,EACI,OAAK0L,EAAiB,YACpBA,EAAiB,UAAYlM,GAC3BkM,EAAiB,SACjBA,CACR,GAEQA,EAAiB,qBAAuB,SAC1CA,EAAiB,mBAAqBA,EAAiB,cAAgB,UAErEA,EAAiB,eAAiB,SACpCA,EAAiB,aAAe,CAAC,CAACA,EAAiB,UAEjD,CAACA,EAAiB,aAAeA,EAAiB,YACpDA,EAAiB,YAAc,gBAE7BA,EAAiB,UAAYzJ,KAC/ByJ,EAAiB,QAAU,IAEtBA,CACT,CACA,uBAAuB1L,EAAS,CAC9B,OAAIA,GAAS,WACJA,EAEF,CACL,GAAG,KAAK8G,GAAgB,UACxB,GAAG9G,GAAS,aAAe,KAAK,oBAAoBA,EAAQ,WAAW,EACvE,GAAGA,EACH,WAAY,EAClB,CACE,CACA,OAAQ,CACN,KAAKoL,GAAY,MAAK,EACtB,KAAKpC,GAAe,MAAK,CAC3B,CACF,ECvSIiD,GAAqBC,gBACvB,MACF,EAWIC,GAAsB,CAAC,CACzB,OAAApO,EACA,SAAAqO,CACF,KACEC,YAAgB,KACdtO,EAAO,MAAK,EACL,IAAM,CACXA,EAAO,QAAO,CAChB,GACC,CAACA,CAAM,CAAC,EACYuO,MAAIL,GAAmB,SAAU,CAAE,MAAOlO,EAAQ,SAAAqO,EAAU,GC1BtE,SAASG,GAAKpG,EAAIqG,EAAS,CACxC,OAAO,UAAgB,CACrB,OAAOrG,EAAG,MAAMqG,EAAS,SAAS,CACpC,CACF,CCAA,KAAM,CAAC,SAAAC,EAAQ,EAAI,OAAO,UACpB,CAAC,eAAAC,EAAc,EAAI,OACnB,CAAC,SAAAC,GAAU,YAAAC,EAAW,EAAI,OAE1BC,IAAUC,GAASC,GAAS,CAC9B,MAAMC,EAAMP,GAAS,KAAKM,CAAK,EAC/B,OAAOD,EAAME,CAAG,IAAMF,EAAME,CAAG,EAAIA,EAAI,MAAM,EAAG,EAAE,EAAE,YAAW,EACnE,GAAG,OAAO,OAAO,IAAI,CAAC,EAEhBC,GAAc/N,IAClBA,EAAOA,EAAK,YAAW,EACf6N,GAAUF,GAAOE,CAAK,IAAM7N,GAGhCgO,GAAahO,GAAQ6N,GAAS,OAAOA,IAAU7N,EAS/C,CAAC,QAAAiO,EAAO,EAAI,MASZC,GAAcF,GAAW,WAAW,EAS1C,SAASG,GAASnN,EAAK,CACrB,OAAOA,IAAQ,MAAQ,CAACkN,GAAYlN,CAAG,GAAKA,EAAI,cAAgB,MAAQ,CAACkN,GAAYlN,EAAI,WAAW,GAC/FoN,GAAWpN,EAAI,YAAY,QAAQ,GAAKA,EAAI,YAAY,SAASA,CAAG,CAC3E,CASA,MAAMqN,GAAgBN,GAAW,aAAa,EAU9C,SAASO,GAAkBtN,EAAK,CAC9B,IAAIE,EACJ,OAAK,OAAO,YAAgB,KAAiB,YAAY,OACvDA,EAAS,YAAY,OAAOF,CAAG,EAE/BE,EAAUF,GAASA,EAAI,QAAYqN,GAAcrN,EAAI,MAAM,EAEtDE,CACT,CASA,MAAMqN,GAAWP,GAAW,QAAQ,EAQ9BI,GAAaJ,GAAW,UAAU,EASlCQ,GAAWR,GAAW,QAAQ,EAS9BS,GAAYZ,GAAUA,IAAU,MAAQ,OAAOA,GAAU,SAQzDa,GAAYb,GAASA,IAAU,IAAQA,IAAU,GASjD5M,GAAiBD,GAAQ,CAC7B,GAAI2M,GAAO3M,CAAG,IAAM,SAClB,MAAO,GAGT,MAAM2N,EAAYnB,GAAexM,CAAG,EACpC,OAAQ2N,IAAc,MAAQA,IAAc,OAAO,WAAa,OAAO,eAAeA,CAAS,IAAM,OAAS,EAAEjB,MAAe1M,IAAQ,EAAEyM,MAAYzM,EACvJ,EASM4N,GAAiB5N,GAAQ,CAE7B,GAAI,CAACyN,GAASzN,CAAG,GAAKmN,GAASnN,CAAG,EAChC,MAAO,GAGT,GAAI,CACF,OAAO,OAAO,KAAKA,CAAG,EAAE,SAAW,GAAK,OAAO,eAAeA,CAAG,IAAM,OAAO,SAChF,MAAY,CAEV,MAAO,EACT,CACF,EASM6N,GAASd,GAAW,MAAM,EAS1Be,GAASf,GAAW,MAAM,EAS1BgB,GAAShB,GAAW,MAAM,EAS1BiB,GAAajB,GAAW,UAAU,EASlCkB,GAAYjO,GAAQyN,GAASzN,CAAG,GAAKoN,GAAWpN,EAAI,IAAI,EASxDkO,GAAcrB,GAAU,CAC5B,IAAIsB,EACJ,OAAOtB,IACJ,OAAO,UAAa,YAAcA,aAAiB,UAClDO,GAAWP,EAAM,MAAM,KACpBsB,EAAOxB,GAAOE,CAAK,KAAO,YAE1BsB,IAAS,UAAYf,GAAWP,EAAM,QAAQ,GAAKA,EAAM,SAAQ,IAAO,qBAIjF,EASMuB,GAAoBrB,GAAW,iBAAiB,EAEhD,CAACsB,GAAkBC,GAAWC,GAAYC,EAAS,EAAI,CAAC,iBAAkB,UAAW,WAAY,SAAS,EAAE,IAAIzB,EAAU,EAS1H0B,GAAQ3B,GAAQA,EAAI,KACxBA,EAAI,KAAI,EAAKA,EAAI,QAAQ,qCAAsC,EAAE,EAiBnE,SAAS4B,GAAQC,EAAK1I,EAAI,CAAC,WAAA2I,EAAa,EAAK,EAAI,GAAI,CAEnD,GAAID,IAAQ,MAAQ,OAAOA,EAAQ,IACjC,OAGF,IAAI7N,EACA7D,EAQJ,GALI,OAAO0R,GAAQ,WAEjBA,EAAM,CAACA,CAAG,GAGR1B,GAAQ0B,CAAG,EAEb,IAAK7N,EAAI,EAAG7D,EAAI0R,EAAI,OAAQ7N,EAAI7D,EAAG6D,IACjCmF,EAAG,KAAK,KAAM0I,EAAI7N,CAAC,EAAGA,EAAG6N,CAAG,MAEzB,CAEL,GAAIxB,GAASwB,CAAG,EACd,OAIF,MAAME,EAAOD,EAAa,OAAO,oBAAoBD,CAAG,EAAI,OAAO,KAAKA,CAAG,EACrEG,EAAMD,EAAK,OACjB,IAAI1O,EAEJ,IAAKW,EAAI,EAAGA,EAAIgO,EAAKhO,IACnBX,EAAM0O,EAAK/N,CAAC,EACZmF,EAAG,KAAK,KAAM0I,EAAIxO,CAAG,EAAGA,EAAKwO,CAAG,CAEpC,CACF,CAEA,SAASI,GAAQJ,EAAKxO,EAAK,CACzB,GAAIgN,GAASwB,CAAG,EACd,OAAO,KAGTxO,EAAMA,EAAI,YAAW,EACrB,MAAM0O,EAAO,OAAO,KAAKF,CAAG,EAC5B,IAAI7N,EAAI+N,EAAK,OACTG,EACJ,KAAOlO,KAAM,GAEX,GADAkO,EAAOH,EAAK/N,CAAC,EACTX,IAAQ6O,EAAK,cACf,OAAOA,EAGX,OAAO,IACT,CAEA,MAAMC,GAEA,OAAO,WAAe,IAAoB,WACvC,OAAO,KAAS,IAAc,KAAQ,OAAO,OAAW,IAAc,OAAS,OAGlFC,GAAoBrH,GAAY,CAACqF,GAAYrF,CAAO,GAAKA,IAAYoH,GAoB3E,SAASE,IAAmC,CAC1C,KAAM,CAAC,SAAAC,CAAQ,EAAIF,GAAiB,IAAI,GAAK,MAAQ,GAC/ChP,EAAS,GACTmP,EAAc,CAACrP,EAAKG,IAAQ,CAChC,MAAMmP,EAAYF,GAAYL,GAAQ7O,EAAQC,CAAG,GAAKA,EAClDF,GAAcC,EAAOoP,CAAS,CAAC,GAAKrP,GAAcD,CAAG,EACvDE,EAAOoP,CAAS,EAAIH,GAAMjP,EAAOoP,CAAS,EAAGtP,CAAG,EACvCC,GAAcD,CAAG,EAC1BE,EAAOoP,CAAS,EAAIH,GAAM,GAAInP,CAAG,EACxBiN,GAAQjN,CAAG,EACpBE,EAAOoP,CAAS,EAAItP,EAAI,MAAK,EAE7BE,EAAOoP,CAAS,EAAItP,CAExB,EAEA,QAASc,EAAI,EAAG7D,EAAI,UAAU,OAAQ6D,EAAI7D,EAAG6D,IAC3C,UAAUA,CAAC,GAAK4N,GAAQ,UAAU5N,CAAC,EAAGuO,CAAW,EAEnD,OAAOnP,CACT,CAYA,MAAMqP,GAAS,CAACjS,EAAGE,EAAG8O,EAAS,CAAC,WAAAsC,CAAU,EAAG,MAC3CF,GAAQlR,EAAG,CAACwC,EAAKG,IAAQ,CACnBmM,GAAWc,GAAWpN,CAAG,EAC3B1C,EAAE6C,CAAG,EAAIkM,GAAKrM,EAAKsM,CAAO,EAE1BhP,EAAE6C,CAAG,EAAIH,CAEb,EAAG,CAAC,WAAA4O,CAAU,CAAC,EACRtR,GAUHkS,GAAYC,IACZA,EAAQ,WAAW,CAAC,IAAM,QAC5BA,EAAUA,EAAQ,MAAM,CAAC,GAEpBA,GAYHC,GAAW,CAACC,EAAaC,EAAkBC,EAAOC,IAAgB,CACtEH,EAAY,UAAY,OAAO,OAAOC,EAAiB,UAAWE,CAAW,EAC7EH,EAAY,UAAU,YAAcA,EACpC,OAAO,eAAeA,EAAa,QAAS,CAC1C,MAAOC,EAAiB,SAC5B,CAAG,EACDC,GAAS,OAAO,OAAOF,EAAY,UAAWE,CAAK,CACrD,EAWME,GAAe,CAACC,EAAWC,EAASC,EAAQC,IAAe,CAC/D,IAAIN,EACA,EACAO,EACJ,MAAMC,EAAS,GAIf,GAFAJ,EAAUA,GAAW,GAEjBD,GAAa,KAAM,OAAOC,EAE9B,EAAG,CAGD,IAFAJ,EAAQ,OAAO,oBAAoBG,CAAS,EAC5C,EAAIH,EAAM,OACH,KAAM,GACXO,EAAOP,EAAM,CAAC,GACT,CAACM,GAAcA,EAAWC,EAAMJ,EAAWC,CAAO,IAAM,CAACI,EAAOD,CAAI,IACvEH,EAAQG,CAAI,EAAIJ,EAAUI,CAAI,EAC9BC,EAAOD,CAAI,EAAI,IAGnBJ,EAAYE,IAAW,IAAS1D,GAAewD,CAAS,CAC1D,OAASA,IAAc,CAACE,GAAUA,EAAOF,EAAWC,CAAO,IAAMD,IAAc,OAAO,WAEtF,OAAOC,CACT,EAWMK,GAAW,CAACxD,EAAKyD,EAAcC,IAAa,CAChD1D,EAAM,OAAOA,CAAG,GACZ0D,IAAa,QAAaA,EAAW1D,EAAI,UAC3C0D,EAAW1D,EAAI,QAEjB0D,GAAYD,EAAa,OACzB,MAAMvF,EAAY8B,EAAI,QAAQyD,EAAcC,CAAQ,EACpD,OAAOxF,IAAc,IAAMA,IAAcwF,CAC3C,EAUMC,GAAW5D,GAAU,CACzB,GAAI,CAACA,EAAO,OAAO,KACnB,GAAII,GAAQJ,CAAK,EAAG,OAAOA,EAC3B,IAAI/L,EAAI+L,EAAM,OACd,GAAI,CAACW,GAAS1M,CAAC,EAAG,OAAO,KACzB,MAAM4P,EAAM,IAAI,MAAM5P,CAAC,EACvB,KAAOA,KAAM,GACX4P,EAAI5P,CAAC,EAAI+L,EAAM/L,CAAC,EAElB,OAAO4P,CACT,EAWMC,IAAgBC,GAEb/D,GACE+D,GAAc/D,aAAiB+D,GAEvC,OAAO,WAAe,KAAepE,GAAe,UAAU,CAAC,EAU5DqE,GAAe,CAAClC,EAAK1I,IAAO,CAGhC,MAAM6K,GAFYnC,GAAOA,EAAIlC,EAAQ,GAET,KAAKkC,CAAG,EAEpC,IAAIzO,EAEJ,MAAQA,EAAS4Q,EAAU,KAAI,IAAO,CAAC5Q,EAAO,MAAM,CAClD,MAAM6Q,EAAO7Q,EAAO,MACpB+F,EAAG,KAAK0I,EAAKoC,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CAC/B,CACF,EAUMC,GAAW,CAACC,EAAQnE,IAAQ,CAChC,IAAIoE,EACJ,MAAMR,EAAM,GAEZ,MAAQQ,EAAUD,EAAO,KAAKnE,CAAG,KAAO,MACtC4D,EAAI,KAAKQ,CAAO,EAGlB,OAAOR,CACT,EAGMS,GAAapE,GAAW,iBAAiB,EAEzCqE,GAActE,GACXA,EAAI,cAAc,QAAQ,wBAC/B,SAAkB5P,EAAGmU,EAAIC,EAAI,CAC3B,OAAOD,EAAG,YAAW,EAAKC,CAC5B,CACJ,EAIMC,IAAkB,CAAC,CAAC,eAAAA,CAAc,IAAM,CAAC5C,EAAKyB,IAASmB,EAAe,KAAK5C,EAAKyB,CAAI,GAAG,OAAO,SAAS,EASvGoB,GAAWzE,GAAW,QAAQ,EAE9B0E,GAAoB,CAAC9C,EAAK1G,IAAY,CAC1C,MAAM6H,EAAc,OAAO,0BAA0BnB,CAAG,EAClD+C,EAAqB,GAE3BhD,GAAQoB,EAAa,CAAC6B,EAAYC,IAAS,CACzC,IAAIC,GACCA,EAAM5J,EAAQ0J,EAAYC,EAAMjD,CAAG,KAAO,KAC7C+C,EAAmBE,CAAI,EAAIC,GAAOF,EAEtC,CAAC,EAED,OAAO,iBAAiBhD,EAAK+C,CAAkB,CACjD,EAOMI,GAAiBnD,GAAQ,CAC7B8C,GAAkB9C,EAAK,CAACgD,EAAYC,IAAS,CAE3C,GAAIxE,GAAWuB,CAAG,GAAK,CAAC,YAAa,SAAU,QAAQ,EAAE,QAAQiD,CAAI,IAAM,GACzE,MAAO,GAGT,MAAMtT,EAAQqQ,EAAIiD,CAAI,EAEtB,GAAKxE,GAAW9O,CAAK,EAIrB,IAFAqT,EAAW,WAAa,GAEpB,aAAcA,EAAY,CAC5BA,EAAW,SAAW,GACtB,MACF,CAEKA,EAAW,MACdA,EAAW,IAAM,IAAM,CACrB,MAAM,MAAM,qCAAwCC,EAAO,GAAI,CACjE,GAEJ,CAAC,CACH,EAEMG,GAAc,CAACC,EAAeC,IAAc,CAChD,MAAMtD,EAAM,GAENuD,EAAUxB,GAAQ,CACtBA,EAAI,QAAQpS,GAAS,CACnBqQ,EAAIrQ,CAAK,EAAI,EACf,CAAC,CACH,EAEA,OAAA2O,GAAQ+E,CAAa,EAAIE,EAAOF,CAAa,EAAIE,EAAO,OAAOF,CAAa,EAAE,MAAMC,CAAS,CAAC,EAEvFtD,CACT,EAEM1Q,GAAO,IAAM,CAAC,EAEdkU,GAAiB,CAAC7T,EAAO8T,IACtB9T,GAAS,MAAQ,OAAO,SAASA,EAAQ,CAACA,CAAK,EAAIA,EAAQ8T,EAUpE,SAASC,GAAoBxF,EAAO,CAClC,MAAO,CAAC,EAAEA,GAASO,GAAWP,EAAM,MAAM,GAAKA,EAAMH,EAAW,IAAM,YAAcG,EAAMJ,EAAQ,EACpG,CAEA,MAAM6F,GAAgB3D,GAAQ,CAC5B,MAAM4D,EAAQ,IAAI,MAAM,EAAE,EAEpBC,EAAQ,CAACC,EAAQ3R,IAAM,CAE3B,GAAI2M,GAASgF,CAAM,EAAG,CACpB,GAAIF,EAAM,QAAQE,CAAM,GAAK,EAC3B,OAIF,GAAItF,GAASsF,CAAM,EACjB,OAAOA,EAGT,GAAG,EAAE,WAAYA,GAAS,CACxBF,EAAMzR,CAAC,EAAI2R,EACX,MAAMC,EAASzF,GAAQwF,CAAM,EAAI,GAAK,GAEtC,OAAA/D,GAAQ+D,EAAQ,CAACnU,EAAO6B,IAAQ,CAC9B,MAAMwS,EAAeH,EAAMlU,EAAOwC,EAAI,CAAC,EACvC,CAACoM,GAAYyF,CAAY,IAAMD,EAAOvS,CAAG,EAAIwS,EAC/C,CAAC,EAEDJ,EAAMzR,CAAC,EAAI,OAEJ4R,CACT,CACF,CAEA,OAAOD,CACT,EAEA,OAAOD,EAAM7D,EAAK,CAAC,CACrB,EAEMiE,GAAY7F,GAAW,eAAe,EAEtC8F,GAAchG,GAClBA,IAAUY,GAASZ,CAAK,GAAKO,GAAWP,CAAK,IAAMO,GAAWP,EAAM,IAAI,GAAKO,GAAWP,EAAM,KAAK,EAK/FiG,IAAiB,CAACC,EAAuBC,IACzCD,EACK,aAGFC,GAAwB,CAACC,EAAOC,KACrCjE,GAAQ,iBAAiB,UAAW,CAAC,CAAC,OAAAwD,EAAQ,KAAAjR,CAAI,IAAM,CAClDiR,IAAWxD,IAAWzN,IAASyR,GACjCC,EAAU,QAAUA,EAAU,QAAO,CAEzC,EAAG,EAAK,EAEA7N,GAAO,CACb6N,EAAU,KAAK7N,CAAE,EACjB4J,GAAQ,YAAYgE,EAAO,GAAG,CAChC,IACC,SAAS,KAAK,OAAM,CAAE,GAAI,EAAE,EAAK5N,GAAO,WAAWA,CAAE,GAExD,OAAO,cAAiB,WACxB+H,GAAW6B,GAAQ,WAAW,CAChC,EAEMkE,GAAO,OAAO,eAAmB,IACrC,eAAe,KAAKlE,EAAO,EAAM,OAAO,QAAY,KAAe,QAAQ,UAAY6D,GAKnFM,GAAcvG,GAAUA,GAAS,MAAQO,GAAWP,EAAMJ,EAAQ,CAAC,EAGzE4G,EAAe,CACb,QAAApG,GACA,cAAAI,GACA,SAAAF,GACA,WAAAe,GACA,kBAAAZ,GACA,SAAAC,GACF,SAAEC,GACA,UAAAE,GACA,SAAAD,GACA,cAAAxN,GACA,cAAA2N,GACA,iBAAAS,GACA,UAAAC,GACA,WAAAC,GACA,UAAAC,GACA,YAAAtB,GACA,OAAAW,GACA,OAAAC,GACA,OAAAC,GACA,SAAAyD,GACA,WAAApE,GACA,SAAAa,GACA,kBAAAG,GACA,aAAAuC,GACA,WAAA3C,GACA,QAAAU,GACA,MAAAS,GACA,OAAAI,GACA,KAAAd,GACA,SAAAe,GACA,SAAAE,GACA,aAAAK,GACA,OAAApD,GACA,WAAAI,GACA,SAAAuD,GACA,QAAAG,GACA,aAAAI,GACA,SAAAG,GACA,WAAAG,GACA,eAAAI,GACA,WAAYA,GACZ,kBAAAE,GACA,cAAAK,GACA,YAAAC,GACA,YAAAX,GACA,KAAAnT,GACA,eAAAkU,GACA,QAAApD,GACA,OAAQE,GACR,iBAAAC,GACA,oBAAAmD,GACA,aAAAC,GACA,UAAAM,GACA,WAAAC,GACA,aAAcC,GACd,KAAAK,GACA,WAAAC,EACF,EC5vBA,SAASE,EAAWC,EAASC,EAAMxP,EAAQyP,EAASC,EAAU,CAC5D,MAAM,KAAK,IAAI,EAEX,MAAM,kBACR,MAAM,kBAAkB,KAAM,KAAK,WAAW,EAE9C,KAAK,MAAS,IAAI,MAAK,EAAI,MAG7B,KAAK,QAAUH,EACf,KAAK,KAAO,aACZC,IAAS,KAAK,KAAOA,GACrBxP,IAAW,KAAK,OAASA,GACzByP,IAAY,KAAK,QAAUA,GACvBC,IACF,KAAK,SAAWA,EAChB,KAAK,OAASA,EAAS,OAASA,EAAS,OAAS,KAEtD,CAEAC,EAAM,SAASL,EAAY,MAAO,CAChC,OAAQ,UAAkB,CACxB,MAAO,CAEL,QAAS,KAAK,QACd,KAAM,KAAK,KAEX,YAAa,KAAK,YAClB,OAAQ,KAAK,OAEb,SAAU,KAAK,SACf,WAAY,KAAK,WACjB,aAAc,KAAK,aACnB,MAAO,KAAK,MAEZ,OAAQK,EAAM,aAAa,KAAK,MAAM,EACtC,KAAM,KAAK,KACX,OAAQ,KAAK,MACnB,CACE,CACF,CAAC,EAED,MAAMhG,GAAY2F,EAAW,UACvBxD,GAAc,GAEpB,CACE,uBACA,iBACA,eACA,YACA,cACA,4BACA,iBACA,mBACA,kBACA,eACA,kBACA,iBAEF,EAAE,QAAQ0D,GAAQ,CAChB1D,GAAY0D,CAAI,EAAI,CAAC,MAAOA,CAAI,CAClC,CAAC,EAED,OAAO,iBAAiBF,EAAYxD,EAAW,EAC/C,OAAO,eAAenC,GAAW,eAAgB,CAAC,MAAO,EAAI,CAAC,EAG9D2F,EAAW,KAAO,CAACvO,EAAOyO,EAAMxP,EAAQyP,EAASC,EAAUE,IAAgB,CACzE,MAAMC,EAAa,OAAO,OAAOlG,EAAS,EAE1CgG,SAAM,aAAa5O,EAAO8O,EAAY,SAAgBlF,EAAK,CACzD,OAAOA,IAAQ,MAAM,SACvB,EAAGyB,GACMA,IAAS,cACjB,EAEDkD,EAAW,KAAKO,EAAY9O,EAAM,QAASyO,EAAMxP,EAAQyP,EAASC,CAAQ,EAE1EG,EAAW,MAAQ9O,EAEnB8O,EAAW,KAAO9O,EAAM,KAExB6O,GAAe,OAAO,OAAOC,EAAYD,CAAW,EAE7CC,CACT,ECnGA,MAAAC,GAAe,KCaf,SAASC,GAAYlH,EAAO,CAC1B,OAAO8G,EAAM,cAAc9G,CAAK,GAAK8G,EAAM,QAAQ9G,CAAK,CAC1D,CASA,SAASmH,GAAe7T,EAAK,CAC3B,OAAOwT,EAAM,SAASxT,EAAK,IAAI,EAAIA,EAAI,MAAM,EAAG,EAAE,EAAIA,CACxD,CAWA,SAAS8T,GAAUC,EAAM/T,EAAKgU,EAAM,CAClC,OAAKD,EACEA,EAAK,OAAO/T,CAAG,EAAE,IAAI,SAAc8S,EAAO,EAAG,CAElD,OAAAA,EAAQe,GAAef,CAAK,EACrB,CAACkB,GAAQ,EAAI,IAAMlB,EAAQ,IAAMA,CAC1C,CAAC,EAAE,KAAKkB,EAAO,IAAM,EAAE,EALLhU,CAMpB,CASA,SAASiU,GAAY1D,EAAK,CACxB,OAAOiD,EAAM,QAAQjD,CAAG,GAAK,CAACA,EAAI,KAAKqD,EAAW,CACpD,CAEA,MAAMM,GAAaV,EAAM,aAAaA,EAAO,GAAI,KAAM,SAAgBvD,EAAM,CAC3E,MAAO,WAAW,KAAKA,CAAI,CAC7B,CAAC,EAyBD,SAASkE,GAAW3F,EAAK4F,EAAUzU,EAAS,CAC1C,GAAI,CAAC6T,EAAM,SAAShF,CAAG,EACrB,MAAM,IAAI,UAAU,0BAA0B,EAIhD4F,EAAWA,GAAY,IAAyB,SAGhDzU,EAAU6T,EAAM,aAAa7T,EAAS,CACpC,WAAY,GACZ,KAAM,GACN,QAAS,EACb,EAAK,GAAO,SAAiB0U,EAAQ/B,EAAQ,CAEzC,MAAO,CAACkB,EAAM,YAAYlB,EAAO+B,CAAM,CAAC,CAC1C,CAAC,EAED,MAAMC,EAAa3U,EAAQ,WAErB4U,EAAU5U,EAAQ,SAAW6U,EAC7BR,EAAOrU,EAAQ,KACf8U,EAAU9U,EAAQ,QAElB+U,GADQ/U,EAAQ,MAAQ,OAAO,KAAS,KAAe,OACpC6T,EAAM,oBAAoBY,CAAQ,EAE3D,GAAI,CAACZ,EAAM,WAAWe,CAAO,EAC3B,MAAM,IAAI,UAAU,4BAA4B,EAGlD,SAASI,EAAaxW,EAAO,CAC3B,GAAIA,IAAU,KAAM,MAAO,GAE3B,GAAIqV,EAAM,OAAOrV,CAAK,EACpB,OAAOA,EAAM,YAAW,EAG1B,GAAIqV,EAAM,UAAUrV,CAAK,EACvB,OAAOA,EAAM,SAAQ,EAGvB,GAAI,CAACuW,GAAWlB,EAAM,OAAOrV,CAAK,EAChC,MAAM,IAAIgV,EAAW,8CAA8C,EAGrE,OAAIK,EAAM,cAAcrV,CAAK,GAAKqV,EAAM,aAAarV,CAAK,EACjDuW,GAAW,OAAO,MAAS,WAAa,IAAI,KAAK,CAACvW,CAAK,CAAC,EAAI,OAAO,KAAKA,CAAK,EAG/EA,CACT,CAYA,SAASqW,EAAerW,EAAO6B,EAAK+T,EAAM,CACxC,IAAIxD,EAAMpS,EAEV,GAAIA,GAAS,CAAC4V,GAAQ,OAAO5V,GAAU,UACrC,GAAIqV,EAAM,SAASxT,EAAK,IAAI,EAE1BA,EAAMsU,EAAatU,EAAMA,EAAI,MAAM,EAAG,EAAE,EAExC7B,EAAQ,KAAK,UAAUA,CAAK,UAE3BqV,EAAM,QAAQrV,CAAK,GAAK8V,GAAY9V,CAAK,IACxCqV,EAAM,WAAWrV,CAAK,GAAKqV,EAAM,SAASxT,EAAK,IAAI,KAAOuQ,EAAMiD,EAAM,QAAQrV,CAAK,GAGrF,OAAA6B,EAAM6T,GAAe7T,CAAG,EAExBuQ,EAAI,QAAQ,SAAcqE,EAAIrL,EAAO,CACnC,EAAEiK,EAAM,YAAYoB,CAAE,GAAKA,IAAO,OAASR,EAAS,OAElDK,IAAY,GAAOX,GAAU,CAAC9T,CAAG,EAAGuJ,EAAOyK,CAAI,EAAKS,IAAY,KAAOzU,EAAMA,EAAM,KACnF2U,EAAaC,CAAE,CAC3B,CACQ,CAAC,EACM,GAIX,OAAIhB,GAAYzV,CAAK,EACZ,IAGTiW,EAAS,OAAON,GAAUC,EAAM/T,EAAKgU,CAAI,EAAGW,EAAaxW,CAAK,CAAC,EAExD,GACT,CAEA,MAAMiU,EAAQ,GAERyC,EAAiB,OAAO,OAAOX,GAAY,CAC/C,eAAAM,EACA,aAAAG,EACA,YAAAf,EACJ,CAAG,EAED,SAASkB,EAAM3W,EAAO4V,EAAM,CAC1B,GAAIP,GAAM,YAAYrV,CAAK,EAE3B,IAAIiU,EAAM,QAAQjU,CAAK,IAAM,GAC3B,MAAM,MAAM,kCAAoC4V,EAAK,KAAK,GAAG,CAAC,EAGhE3B,EAAM,KAAKjU,CAAK,EAEhBqV,EAAM,QAAQrV,EAAO,SAAcyW,EAAI5U,EAAK,EAC3B,EAAEwT,EAAM,YAAYoB,CAAE,GAAKA,IAAO,OAASL,EAAQ,KAChEH,EAAUQ,EAAIpB,EAAM,SAASxT,CAAG,EAAIA,EAAI,KAAI,EAAKA,EAAK+T,EAAMc,CACpE,KAEqB,IACbC,EAAMF,EAAIb,EAAOA,EAAK,OAAO/T,CAAG,EAAI,CAACA,CAAG,CAAC,CAE7C,CAAC,EAEDoS,EAAM,IAAG,EACX,CAEA,GAAI,CAACoB,EAAM,SAAShF,CAAG,EACrB,MAAM,IAAI,UAAU,wBAAwB,EAG9C,OAAAsG,EAAMtG,CAAG,EAEF4F,CACT,CChNA,SAASW,GAAOpI,EAAK,CACnB,MAAMqI,EAAU,CACd,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,IACP,MAAO,IACX,EACE,OAAO,mBAAmBrI,CAAG,EAAE,QAAQ,mBAAoB,SAAkBsI,EAAO,CAClF,OAAOD,EAAQC,CAAK,CACtB,CAAC,CACH,CAUA,SAASC,GAAqBC,EAAQxV,EAAS,CAC7C,KAAK,OAAS,GAEdwV,GAAUhB,GAAWgB,EAAQ,KAAMxV,CAAO,CAC5C,CAEA,MAAM6N,GAAY0H,GAAqB,UAEvC1H,GAAU,OAAS,SAAgBiE,EAAMtT,EAAO,CAC9C,KAAK,OAAO,KAAK,CAACsT,EAAMtT,CAAK,CAAC,CAChC,EAEAqP,GAAU,SAAW,SAAkB4H,EAAS,CAC9C,MAAMC,EAAUD,EAAU,SAASjX,EAAO,CACxC,OAAOiX,EAAQ,KAAK,KAAMjX,EAAO4W,EAAM,CACzC,EAAIA,GAEJ,OAAO,KAAK,OAAO,IAAI,SAAcnE,EAAM,CACzC,OAAOyE,EAAQzE,EAAK,CAAC,CAAC,EAAI,IAAMyE,EAAQzE,EAAK,CAAC,CAAC,CACjD,EAAG,EAAE,EAAE,KAAK,GAAG,CACjB,EC1CA,SAASmE,GAAOlV,EAAK,CACnB,OAAO,mBAAmBA,CAAG,EAC3B,QAAQ,QAAS,GAAG,EACpB,QAAQ,OAAQ,GAAG,EACnB,QAAQ,QAAS,GAAG,EACpB,QAAQ,OAAQ,GAAG,EACnB,QAAQ,QAAS,GAAG,EACpB,QAAQ,QAAS,GAAG,CACxB,CAWe,SAASyV,GAASC,EAAKJ,EAAQxV,EAAS,CAErD,GAAI,CAACwV,EACH,OAAOI,EAGT,MAAMF,EAAU1V,GAAWA,EAAQ,QAAUoV,GAEzCvB,EAAM,WAAW7T,CAAO,IAC1BA,EAAU,CACR,UAAWA,CACjB,GAGE,MAAM6V,EAAc7V,GAAWA,EAAQ,UAEvC,IAAI8V,EAUJ,GARID,EACFC,EAAmBD,EAAYL,EAAQxV,CAAO,EAE9C8V,EAAmBjC,EAAM,kBAAkB2B,CAAM,EAC/CA,EAAO,SAAQ,EACf,IAAID,GAAqBC,EAAQxV,CAAO,EAAE,SAAS0V,CAAO,EAG1DI,EAAkB,CACpB,MAAMC,EAAgBH,EAAI,QAAQ,GAAG,EAEjCG,IAAkB,KACpBH,EAAMA,EAAI,MAAM,EAAGG,CAAa,GAElCH,IAAQA,EAAI,QAAQ,GAAG,IAAM,GAAK,IAAM,KAAOE,CACjD,CAEA,OAAOF,CACT,CChEA,MAAMI,EAAmB,CACvB,aAAc,CACZ,KAAK,SAAW,EAClB,CAUA,IAAIC,EAAWC,EAAUlW,EAAS,CAChC,YAAK,SAAS,KAAK,CACjB,UAAAiW,EACA,SAAAC,EACA,YAAalW,EAAUA,EAAQ,YAAc,GAC7C,QAASA,EAAUA,EAAQ,QAAU,IAC3C,CAAK,EACM,KAAK,SAAS,OAAS,CAChC,CASA,MAAMmW,EAAI,CACJ,KAAK,SAASA,CAAE,IAClB,KAAK,SAASA,CAAE,EAAI,KAExB,CAOA,OAAQ,CACF,KAAK,WACP,KAAK,SAAW,GAEpB,CAYA,QAAQhQ,EAAI,CACV0N,EAAM,QAAQ,KAAK,SAAU,SAAwBuC,EAAG,CAClDA,IAAM,MACRjQ,EAAGiQ,CAAC,CAER,CAAC,CACH,CACF,CClEA,MAAAC,GAAe,CACb,kBAAmB,GACnB,kBAAmB,GACnB,oBAAqB,EACvB,ECHAC,GAAe,OAAO,gBAAoB,IAAc,gBAAkBf,GCD1EgB,GAAe,OAAO,SAAa,IAAc,SAAW,KCA5DC,GAAe,OAAO,KAAS,IAAc,KAAO,KCEpDC,GAAe,CACb,UAAW,GACX,QAAS,CACX,gBAAIC,GACJ,SAAIC,GACJ,KAAIC,EACJ,EACE,UAAW,CAAC,OAAQ,QAAS,OAAQ,OAAQ,MAAO,MAAM,CAC5D,ECZMC,GAAgB,OAAO,OAAW,KAAe,OAAO,SAAa,IAErEC,GAAa,OAAO,WAAc,UAAY,WAAa,OAmB3DC,GAAwBF,KAC3B,CAACC,IAAc,CAAC,cAAe,eAAgB,IAAI,EAAE,QAAQA,GAAW,OAAO,EAAI,GAWhFE,GAEF,OAAO,kBAAsB,KAE7B,gBAAgB,mBAChB,OAAO,KAAK,eAAkB,WAI5BC,GAASJ,IAAiB,OAAO,SAAS,MAAQ,oNCvCxDK,GAAe,CACb,GAAGrD,GACH,GAAGqD,EACL,ECAe,SAASC,GAAiBzV,EAAM1B,EAAS,CACtD,OAAOwU,GAAW9S,EAAM,IAAIwV,GAAS,QAAQ,gBAAmB,CAC9D,QAAS,SAAS1Y,EAAO6B,EAAK+T,EAAMgD,EAAS,CAC3C,OAAIF,GAAS,QAAUrD,EAAM,SAASrV,CAAK,GACzC,KAAK,OAAO6B,EAAK7B,EAAM,SAAS,QAAQ,CAAC,EAClC,IAGF4Y,EAAQ,eAAe,MAAM,KAAM,SAAS,CACrD,EACA,GAAGpX,CACP,CAAG,CACH,CCPA,SAASqX,GAAcvF,EAAM,CAK3B,OAAO+B,EAAM,SAAS,gBAAiB/B,CAAI,EAAE,IAAIwD,GACxCA,EAAM,CAAC,IAAM,KAAO,GAAKA,EAAM,CAAC,GAAKA,EAAM,CAAC,CACpD,CACH,CASA,SAASgC,GAAc1G,EAAK,CAC1B,MAAM/B,EAAM,GACNE,EAAO,OAAO,KAAK6B,CAAG,EAC5B,IAAI5P,EACJ,MAAMgO,EAAMD,EAAK,OACjB,IAAI1O,EACJ,IAAKW,EAAI,EAAGA,EAAIgO,EAAKhO,IACnBX,EAAM0O,EAAK/N,CAAC,EACZ6N,EAAIxO,CAAG,EAAIuQ,EAAIvQ,CAAG,EAEpB,OAAOwO,CACT,CASA,SAAS0I,GAAe9C,EAAU,CAChC,SAAS+C,EAAUpD,EAAM5V,EAAOoU,EAAQhJ,EAAO,CAC7C,IAAIkI,EAAOsC,EAAKxK,GAAO,EAEvB,GAAIkI,IAAS,YAAa,MAAO,GAEjC,MAAM2F,EAAe,OAAO,SAAS,CAAC3F,CAAI,EACpC4F,EAAS9N,GAASwK,EAAK,OAG7B,OAFAtC,EAAO,CAACA,GAAQ+B,EAAM,QAAQjB,CAAM,EAAIA,EAAO,OAASd,EAEpD4F,GACE7D,EAAM,WAAWjB,EAAQd,CAAI,EAC/Bc,EAAOd,CAAI,EAAI,CAACc,EAAOd,CAAI,EAAGtT,CAAK,EAEnCoU,EAAOd,CAAI,EAAItT,EAGV,CAACiZ,KAGN,CAAC7E,EAAOd,CAAI,GAAK,CAAC+B,EAAM,SAASjB,EAAOd,CAAI,CAAC,KAC/Cc,EAAOd,CAAI,EAAI,IAGF0F,EAAUpD,EAAM5V,EAAOoU,EAAOd,CAAI,EAAGlI,CAAK,GAE3CiK,EAAM,QAAQjB,EAAOd,CAAI,CAAC,IACtCc,EAAOd,CAAI,EAAIwF,GAAc1E,EAAOd,CAAI,CAAC,GAGpC,CAAC2F,EACV,CAEA,GAAI5D,EAAM,WAAWY,CAAQ,GAAKZ,EAAM,WAAWY,EAAS,OAAO,EAAG,CACpE,MAAM5F,EAAM,GAEZgF,SAAM,aAAaY,EAAU,CAAC3C,EAAMtT,IAAU,CAC5CgZ,EAAUH,GAAcvF,CAAI,EAAGtT,EAAOqQ,EAAK,CAAC,CAC9C,CAAC,EAEMA,CACT,CAEA,OAAO,IACT,CCxEA,SAAS8I,GAAgBC,EAAUC,EAAQpC,EAAS,CAClD,GAAI5B,EAAM,SAAS+D,CAAQ,EACzB,GAAI,CACF,OAACC,GAAU,KAAK,OAAOD,CAAQ,EACxB/D,EAAM,KAAK+D,CAAQ,CAC5B,OAASha,EAAG,CACV,GAAIA,EAAE,OAAS,cACb,MAAMA,CAEV,CAGF,OAAQ6X,GAAW,KAAK,WAAWmC,CAAQ,CAC7C,CAEA,MAAM7L,GAAW,CAEf,aAAcsK,GAEd,QAAS,CAAC,MAAO,OAAQ,OAAO,EAEhC,iBAAkB,CAAC,SAA0B3U,EAAMoW,EAAS,CAC1D,MAAMC,EAAcD,EAAQ,eAAc,GAAM,GAC1CE,EAAqBD,EAAY,QAAQ,kBAAkB,EAAI,GAC/DE,EAAkBpE,EAAM,SAASnS,CAAI,EAQ3C,GANIuW,GAAmBpE,EAAM,WAAWnS,CAAI,IAC1CA,EAAO,IAAI,SAASA,CAAI,GAGPmS,EAAM,WAAWnS,CAAI,EAGtC,OAAOsW,EAAqB,KAAK,UAAUT,GAAe7V,CAAI,CAAC,EAAIA,EAGrE,GAAImS,EAAM,cAAcnS,CAAI,GAC1BmS,EAAM,SAASnS,CAAI,GACnBmS,EAAM,SAASnS,CAAI,GACnBmS,EAAM,OAAOnS,CAAI,GACjBmS,EAAM,OAAOnS,CAAI,GACjBmS,EAAM,iBAAiBnS,CAAI,EAE3B,OAAOA,EAET,GAAImS,EAAM,kBAAkBnS,CAAI,EAC9B,OAAOA,EAAK,OAEd,GAAImS,EAAM,kBAAkBnS,CAAI,EAC9B,OAAAoW,EAAQ,eAAe,kDAAmD,EAAK,EACxEpW,EAAK,SAAQ,EAGtB,IAAIwM,EAEJ,GAAI+J,EAAiB,CACnB,GAAIF,EAAY,QAAQ,mCAAmC,EAAI,GAC7D,OAAOZ,GAAiBzV,EAAM,KAAK,cAAc,EAAE,SAAQ,EAG7D,IAAKwM,EAAa2F,EAAM,WAAWnS,CAAI,IAAMqW,EAAY,QAAQ,qBAAqB,EAAI,GAAI,CAC5F,MAAMG,EAAY,KAAK,KAAO,KAAK,IAAI,SAEvC,OAAO1D,GACLtG,EAAa,CAAC,UAAWxM,CAAI,EAAIA,EACjCwW,GAAa,IAAIA,EACjB,KAAK,cACf,CACM,CACF,CAEA,OAAID,GAAmBD,GACrBF,EAAQ,eAAe,mBAAoB,EAAK,EACzCH,GAAgBjW,CAAI,GAGtBA,CACT,CAAC,EAED,kBAAmB,CAAC,SAA2BA,EAAM,CACnD,MAAMyW,EAAe,KAAK,cAAgBpM,GAAS,aAC7CqM,EAAoBD,GAAgBA,EAAa,kBACjDE,EAAgB,KAAK,eAAiB,OAE5C,GAAIxE,EAAM,WAAWnS,CAAI,GAAKmS,EAAM,iBAAiBnS,CAAI,EACvD,OAAOA,EAGT,GAAIA,GAAQmS,EAAM,SAASnS,CAAI,IAAO0W,GAAqB,CAAC,KAAK,cAAiBC,GAAgB,CAEhG,MAAMC,EAAoB,EADAH,GAAgBA,EAAa,oBACPE,EAEhD,GAAI,CACF,OAAO,KAAK,MAAM3W,CAAI,CACxB,OAAS9D,EAAG,CACV,GAAI0a,EACF,MAAI1a,EAAE,OAAS,cACP4V,EAAW,KAAK5V,EAAG4V,EAAW,iBAAkB,KAAM,KAAM,KAAK,QAAQ,EAE3E5V,CAEV,CACF,CAEA,OAAO8D,CACT,CAAC,EAMD,QAAS,EAET,eAAgB,aAChB,eAAgB,eAEhB,iBAAkB,GAClB,cAAe,GAEf,IAAK,CACH,SAAUwV,GAAS,QAAQ,SAC3B,KAAMA,GAAS,QAAQ,IAC3B,EAEE,eAAgB,SAAwBrX,EAAQ,CAC9C,OAAOA,GAAU,KAAOA,EAAS,GACnC,EAEA,QAAS,CACP,OAAQ,CACN,OAAU,oCACV,eAAgB,MACtB,CACA,CACA,EAEAgU,EAAM,QAAQ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,OAAO,EAAI0E,GAAW,CAC3ExM,GAAS,QAAQwM,CAAM,EAAI,EAC7B,CAAC,ECxJD,MAAMC,GAAoB3E,EAAM,YAAY,CAC1C,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,YAC5B,CAAC,EAgBD4E,GAAeC,GAAc,CAC3B,MAAMC,EAAS,GACf,IAAItY,EACAH,EACAc,EAEJ,OAAA0X,GAAcA,EAAW,MAAM;AAAA,CAAI,EAAE,QAAQ,SAAgBE,EAAM,CACjE5X,EAAI4X,EAAK,QAAQ,GAAG,EACpBvY,EAAMuY,EAAK,UAAU,EAAG5X,CAAC,EAAE,KAAI,EAAG,YAAW,EAC7Cd,EAAM0Y,EAAK,UAAU5X,EAAI,CAAC,EAAE,KAAI,EAE5B,GAACX,GAAQsY,EAAOtY,CAAG,GAAKmY,GAAkBnY,CAAG,KAI7CA,IAAQ,aACNsY,EAAOtY,CAAG,EACZsY,EAAOtY,CAAG,EAAE,KAAKH,CAAG,EAEpByY,EAAOtY,CAAG,EAAI,CAACH,CAAG,EAGpByY,EAAOtY,CAAG,EAAIsY,EAAOtY,CAAG,EAAIsY,EAAOtY,CAAG,EAAI,KAAOH,EAAMA,EAE3D,CAAC,EAEMyY,CACT,ECjDME,GAAa,OAAO,WAAW,EAErC,SAASC,GAAgBC,EAAQ,CAC/B,OAAOA,GAAU,OAAOA,CAAM,EAAE,KAAI,EAAG,YAAW,CACpD,CAEA,SAASC,GAAexa,EAAO,CAC7B,OAAIA,IAAU,IAASA,GAAS,KACvBA,EAGFqV,EAAM,QAAQrV,CAAK,EAAIA,EAAM,IAAIwa,EAAc,EAAI,OAAOxa,CAAK,CACxE,CAEA,SAASya,GAAYjM,EAAK,CACxB,MAAMkM,EAAS,OAAO,OAAO,IAAI,EAC3BC,EAAW,mCACjB,IAAI7D,EAEJ,KAAQA,EAAQ6D,EAAS,KAAKnM,CAAG,GAC/BkM,EAAO5D,EAAM,CAAC,CAAC,EAAIA,EAAM,CAAC,EAG5B,OAAO4D,CACT,CAEA,MAAME,GAAqBpM,GAAQ,iCAAiC,KAAKA,EAAI,MAAM,EAEnF,SAASqM,GAAiBtR,EAASvJ,EAAOua,EAAQ3I,EAAQkJ,EAAoB,CAC5E,GAAIzF,EAAM,WAAWzD,CAAM,EACzB,OAAOA,EAAO,KAAK,KAAM5R,EAAOua,CAAM,EAOxC,GAJIO,IACF9a,EAAQua,GAGN,EAAClF,EAAM,SAASrV,CAAK,EAEzB,IAAIqV,EAAM,SAASzD,CAAM,EACvB,OAAO5R,EAAM,QAAQ4R,CAAM,IAAM,GAGnC,GAAIyD,EAAM,SAASzD,CAAM,EACvB,OAAOA,EAAO,KAAK5R,CAAK,EAE5B,CAEA,SAAS+a,GAAaR,EAAQ,CAC5B,OAAOA,EAAO,KAAI,EACf,YAAW,EAAG,QAAQ,kBAAmB,CAACS,EAAGC,EAAMzM,IAC3CyM,EAAK,YAAW,EAAKzM,CAC7B,CACL,CAEA,SAAS0M,GAAe7K,EAAKkK,EAAQ,CACnC,MAAMY,EAAe9F,EAAM,YAAY,IAAMkF,CAAM,EAEnD,CAAC,MAAO,MAAO,KAAK,EAAE,QAAQa,GAAc,CAC1C,OAAO,eAAe/K,EAAK+K,EAAaD,EAAc,CACpD,MAAO,SAASE,EAAMC,EAAMC,EAAM,CAChC,OAAO,KAAKH,CAAU,EAAE,KAAK,KAAMb,EAAQc,EAAMC,EAAMC,CAAI,CAC7D,EACA,aAAc,EACpB,CAAK,CACH,CAAC,CACH,CAEA,IAAAC,GAAA,KAAmB,CACjB,YAAYlC,EAAS,CACnBA,GAAW,KAAK,IAAIA,CAAO,CAC7B,CAEA,IAAIiB,EAAQkB,EAAgBC,EAAS,CACnC,MAAMC,EAAO,KAEb,SAASC,EAAUC,EAAQC,EAASC,EAAU,CAC5C,MAAMC,EAAU1B,GAAgBwB,CAAO,EAEvC,GAAI,CAACE,EACH,MAAM,IAAI,MAAM,wCAAwC,EAG1D,MAAMna,EAAMwT,EAAM,QAAQsG,EAAMK,CAAO,GAEpC,CAACna,GAAO8Z,EAAK9Z,CAAG,IAAM,QAAaka,IAAa,IAASA,IAAa,QAAaJ,EAAK9Z,CAAG,IAAM,MAClG8Z,EAAK9Z,GAAOia,CAAO,EAAItB,GAAeqB,CAAM,EAEhD,CAEA,MAAMI,EAAa,CAAC3C,EAASyC,IAC3B1G,EAAM,QAAQiE,EAAS,CAACuC,EAAQC,IAAYF,EAAUC,EAAQC,EAASC,CAAQ,CAAC,EAElF,GAAI1G,EAAM,cAAckF,CAAM,GAAKA,aAAkB,KAAK,YACxD0B,EAAW1B,EAAQkB,CAAc,UACzBpG,EAAM,SAASkF,CAAM,IAAMA,EAASA,EAAO,KAAI,IAAO,CAACK,GAAkBL,CAAM,EACvF0B,EAAWhC,GAAaM,CAAM,EAAGkB,CAAc,UACtCpG,EAAM,SAASkF,CAAM,GAAKlF,EAAM,WAAWkF,CAAM,EAAG,CAC7D,IAAIlK,EAAM,GAAI6L,EAAMra,EACpB,UAAWsa,KAAS5B,EAAQ,CAC1B,GAAI,CAAClF,EAAM,QAAQ8G,CAAK,EACtB,MAAM,UAAU,8CAA8C,EAGhE9L,EAAIxO,EAAMsa,EAAM,CAAC,CAAC,GAAKD,EAAO7L,EAAIxO,CAAG,GAClCwT,EAAM,QAAQ6G,CAAI,EAAI,CAAC,GAAGA,EAAMC,EAAM,CAAC,CAAC,EAAI,CAACD,EAAMC,EAAM,CAAC,CAAC,EAAKA,EAAM,CAAC,CAC5E,CAEAF,EAAW5L,EAAKoL,CAAc,CAChC,MACElB,GAAU,MAAQqB,EAAUH,EAAgBlB,EAAQmB,CAAO,EAG7D,OAAO,IACT,CAEA,IAAInB,EAAQlB,EAAQ,CAGlB,GAFAkB,EAASD,GAAgBC,CAAM,EAE3BA,EAAQ,CACV,MAAM1Y,EAAMwT,EAAM,QAAQ,KAAMkF,CAAM,EAEtC,GAAI1Y,EAAK,CACP,MAAM7B,EAAQ,KAAK6B,CAAG,EAEtB,GAAI,CAACwX,EACH,OAAOrZ,EAGT,GAAIqZ,IAAW,GACb,OAAOoB,GAAYza,CAAK,EAG1B,GAAIqV,EAAM,WAAWgE,CAAM,EACzB,OAAOA,EAAO,KAAK,KAAMrZ,EAAO6B,CAAG,EAGrC,GAAIwT,EAAM,SAASgE,CAAM,EACvB,OAAOA,EAAO,KAAKrZ,CAAK,EAG1B,MAAM,IAAI,UAAU,wCAAwC,CAC9D,CACF,CACF,CAEA,IAAIua,EAAQ6B,EAAS,CAGnB,GAFA7B,EAASD,GAAgBC,CAAM,EAE3BA,EAAQ,CACV,MAAM1Y,EAAMwT,EAAM,QAAQ,KAAMkF,CAAM,EAEtC,MAAO,CAAC,EAAE1Y,GAAO,KAAKA,CAAG,IAAM,SAAc,CAACua,GAAWvB,GAAiB,KAAM,KAAKhZ,CAAG,EAAGA,EAAKua,CAAO,GACzG,CAEA,MAAO,EACT,CAEA,OAAO7B,EAAQ6B,EAAS,CACtB,MAAMT,EAAO,KACb,IAAIU,EAAU,GAEd,SAASC,EAAaR,EAAS,CAG7B,GAFAA,EAAUxB,GAAgBwB,CAAO,EAE7BA,EAAS,CACX,MAAMja,EAAMwT,EAAM,QAAQsG,EAAMG,CAAO,EAEnCja,IAAQ,CAACua,GAAWvB,GAAiBc,EAAMA,EAAK9Z,CAAG,EAAGA,EAAKua,CAAO,KACpE,OAAOT,EAAK9Z,CAAG,EAEfwa,EAAU,GAEd,CACF,CAEA,OAAIhH,EAAM,QAAQkF,CAAM,EACtBA,EAAO,QAAQ+B,CAAY,EAE3BA,EAAa/B,CAAM,EAGd8B,CACT,CAEA,MAAMD,EAAS,CACb,MAAM7L,EAAO,OAAO,KAAK,IAAI,EAC7B,IAAI/N,EAAI+N,EAAK,OACT8L,EAAU,GAEd,KAAO7Z,KAAK,CACV,MAAMX,EAAM0O,EAAK/N,CAAC,GACf,CAAC4Z,GAAWvB,GAAiB,KAAM,KAAKhZ,CAAG,EAAGA,EAAKua,EAAS,EAAI,KACjE,OAAO,KAAKva,CAAG,EACfwa,EAAU,GAEd,CAEA,OAAOA,CACT,CAEA,UAAUE,EAAQ,CAChB,MAAMZ,EAAO,KACPrC,EAAU,GAEhBjE,SAAM,QAAQ,KAAM,CAACrV,EAAOua,IAAW,CACrC,MAAM1Y,EAAMwT,EAAM,QAAQiE,EAASiB,CAAM,EAEzC,GAAI1Y,EAAK,CACP8Z,EAAK9Z,CAAG,EAAI2Y,GAAexa,CAAK,EAChC,OAAO2b,EAAKpB,CAAM,EAClB,MACF,CAEA,MAAMiC,EAAaD,EAASxB,GAAaR,CAAM,EAAI,OAAOA,CAAM,EAAE,KAAI,EAElEiC,IAAejC,GACjB,OAAOoB,EAAKpB,CAAM,EAGpBoB,EAAKa,CAAU,EAAIhC,GAAexa,CAAK,EAEvCsZ,EAAQkD,CAAU,EAAI,EACxB,CAAC,EAEM,IACT,CAEA,UAAUC,EAAS,CACjB,OAAO,KAAK,YAAY,OAAO,KAAM,GAAGA,CAAO,CACjD,CAEA,OAAOC,EAAW,CAChB,MAAMrM,EAAM,OAAO,OAAO,IAAI,EAE9BgF,SAAM,QAAQ,KAAM,CAACrV,EAAOua,IAAW,CACrCva,GAAS,MAAQA,IAAU,KAAUqQ,EAAIkK,CAAM,EAAImC,GAAarH,EAAM,QAAQrV,CAAK,EAAIA,EAAM,KAAK,IAAI,EAAIA,EAC5G,CAAC,EAEMqQ,CACT,CAEA,CAAC,OAAO,QAAQ,GAAI,CAClB,OAAO,OAAO,QAAQ,KAAK,OAAM,CAAE,EAAE,OAAO,QAAQ,EAAC,CACvD,CAEA,UAAW,CACT,OAAO,OAAO,QAAQ,KAAK,OAAM,CAAE,EAAE,IAAI,CAAC,CAACkK,EAAQva,CAAK,IAAMua,EAAS,KAAOva,CAAK,EAAE,KAAK;AAAA,CAAI,CAChG,CAEA,cAAe,CACb,OAAO,KAAK,IAAI,YAAY,GAAK,EACnC,CAEA,IAAK,OAAO,WAAW,GAAI,CACzB,MAAO,cACT,CAEA,OAAO,KAAKuO,EAAO,CACjB,OAAOA,aAAiB,KAAOA,EAAQ,IAAI,KAAKA,CAAK,CACvD,CAEA,OAAO,OAAOoO,KAAUF,EAAS,CAC/B,MAAMG,EAAW,IAAI,KAAKD,CAAK,EAE/B,OAAAF,EAAQ,QAASrI,GAAWwI,EAAS,IAAIxI,CAAM,CAAC,EAEzCwI,CACT,CAEA,OAAO,SAASrC,EAAQ,CAKtB,MAAMsC,GAJY,KAAKxC,EAAU,EAAK,KAAKA,EAAU,EAAI,CACvD,UAAW,EACjB,GAEgC,UACtBhL,EAAY,KAAK,UAEvB,SAASyN,EAAehB,EAAS,CAC/B,MAAME,EAAU1B,GAAgBwB,CAAO,EAElCe,EAAUb,CAAO,IACpBd,GAAe7L,EAAWyM,CAAO,EACjCe,EAAUb,CAAO,EAAI,GAEzB,CAEA3G,SAAM,QAAQkF,CAAM,EAAIA,EAAO,QAAQuC,CAAc,EAAIA,EAAevC,CAAM,EAEvE,IACT,CACF,EAEAwC,GAAa,SAAS,CAAC,eAAgB,iBAAkB,SAAU,kBAAmB,aAAc,eAAe,CAAC,EAGpH1H,EAAM,kBAAkB0H,GAAa,UAAW,CAAC,CAAC,MAAA/c,CAAK,EAAG6B,IAAQ,CAChE,IAAImb,EAASnb,EAAI,CAAC,EAAE,YAAW,EAAKA,EAAI,MAAM,CAAC,EAC/C,MAAO,CACL,IAAK,IAAM7B,EACX,IAAIid,EAAa,CACf,KAAKD,CAAM,EAAIC,CACjB,CACJ,CACA,CAAC,EAED5H,EAAM,cAAc0H,EAAY,ECzSjB,SAASG,GAAcC,EAAK/H,EAAU,CACnD,MAAM1P,EAAS,MAAQ6H,GACjBhE,EAAU6L,GAAY1P,EACtB4T,EAAUyD,GAAa,KAAKxT,EAAQ,OAAO,EACjD,IAAIrG,EAAOqG,EAAQ,KAEnB8L,SAAM,QAAQ8H,EAAK,SAAmBxV,EAAI,CACxCzE,EAAOyE,EAAG,KAAKjC,EAAQxC,EAAMoW,EAAQ,UAAS,EAAIlE,EAAWA,EAAS,OAAS,MAAS,CAC1F,CAAC,EAEDkE,EAAQ,UAAS,EAEVpW,CACT,CCzBe,SAASka,GAASpd,EAAO,CACtC,MAAO,CAAC,EAAEA,GAASA,EAAM,WAC3B,CCUA,SAASqd,GAAcpI,EAASvP,EAAQyP,EAAS,CAE/CH,EAAW,KAAK,KAAMC,GAAkB,WAAsBD,EAAW,aAActP,EAAQyP,CAAO,EACtG,KAAK,KAAO,eACd,CAEAE,EAAM,SAASgI,GAAerI,EAAY,CACxC,WAAY,EACd,CAAC,ECTc,SAASsI,GAAOva,EAAS8B,EAAQuQ,EAAU,CACxD,MAAMmI,EAAiBnI,EAAS,OAAO,eACnC,CAACA,EAAS,QAAU,CAACmI,GAAkBA,EAAenI,EAAS,MAAM,EACvErS,EAAQqS,CAAQ,EAEhBvQ,EAAO,IAAImQ,EACT,mCAAqCI,EAAS,OAC9C,CAACJ,EAAW,gBAAiBA,EAAW,gBAAgB,EAAE,KAAK,MAAMI,EAAS,OAAS,GAAG,EAAI,CAAC,EAC/FA,EAAS,OACTA,EAAS,QACTA,CACN,CAAK,CAEL,CCxBe,SAASoI,GAAcpG,EAAK,CACzC,MAAMN,EAAQ,4BAA4B,KAAKM,CAAG,EAClD,OAAON,GAASA,EAAM,CAAC,GAAK,EAC9B,CCGA,SAAS2G,GAAYC,EAAcC,EAAK,CACtCD,EAAeA,GAAgB,GAC/B,MAAME,EAAQ,IAAI,MAAMF,CAAY,EAC9BG,EAAa,IAAI,MAAMH,CAAY,EACzC,IAAII,EAAO,EACPC,EAAO,EACPC,EAEJ,OAAAL,EAAMA,IAAQ,OAAYA,EAAM,IAEzB,SAAcM,EAAa,CAChC,MAAMC,EAAM,KAAK,IAAG,EAEdC,EAAYN,EAAWE,CAAI,EAE5BC,IACHA,EAAgBE,GAGlBN,EAAME,CAAI,EAAIG,EACdJ,EAAWC,CAAI,EAAII,EAEnB,IAAI1b,EAAIub,EACJK,EAAa,EAEjB,KAAO5b,IAAMsb,GACXM,GAAcR,EAAMpb,GAAG,EACvBA,EAAIA,EAAIkb,EASV,GANAI,GAAQA,EAAO,GAAKJ,EAEhBI,IAASC,IACXA,GAAQA,EAAO,GAAKL,GAGlBQ,EAAMF,EAAgBL,EACxB,OAGF,MAAMU,EAASF,GAAaD,EAAMC,EAElC,OAAOE,EAAS,KAAK,MAAMD,EAAa,IAAOC,CAAM,EAAI,MAC3D,CACF,CC9CA,SAASC,GAAS3W,EAAI4W,EAAM,CAC1B,IAAIC,EAAY,EACZC,EAAY,IAAOF,EACnBG,EACAC,EAEJ,MAAMC,EAAS,CAAClX,EAAMwW,EAAM,KAAK,IAAG,IAAO,CACzCM,EAAYN,EACZQ,EAAW,KACPC,IACF,aAAaA,CAAK,EAClBA,EAAQ,MAEVhX,EAAG,GAAGD,CAAI,CACZ,EAoBA,MAAO,CAlBW,IAAIA,IAAS,CAC7B,MAAMwW,EAAM,KAAK,IAAG,EACdG,EAASH,EAAMM,EAChBH,GAAUI,EACbG,EAAOlX,EAAMwW,CAAG,GAEhBQ,EAAWhX,EACNiX,IACHA,EAAQ,WAAW,IAAM,CACvBA,EAAQ,KACRC,EAAOF,CAAQ,CACjB,EAAGD,EAAYJ,CAAM,GAG3B,EAEc,IAAMK,GAAYE,EAAOF,CAAQ,CAEvB,CAC1B,CCrCO,MAAMG,GAAuB,CAACpf,EAAUqf,EAAkBP,EAAO,IAAM,CAC5E,IAAIQ,EAAgB,EACpB,MAAMC,EAAevB,GAAY,GAAI,GAAG,EAExC,OAAOa,GAASlf,GAAK,CACnB,MAAM6f,EAAS7f,EAAE,OACX8f,EAAQ9f,EAAE,iBAAmBA,EAAE,MAAQ,OACvC+f,EAAgBF,EAASF,EACzBK,EAAOJ,EAAaG,CAAa,EACjCE,EAAUJ,GAAUC,EAE1BH,EAAgBE,EAEhB,MAAM/b,EAAO,CACX,OAAA+b,EACA,MAAAC,EACA,SAAUA,EAASD,EAASC,EAAS,OACrC,MAAOC,EACP,KAAMC,GAAc,OACpB,UAAWA,GAAQF,GAASG,GAAWH,EAAQD,GAAUG,EAAO,OAChE,MAAOhgB,EACP,iBAAkB8f,GAAS,KAC3B,CAACJ,EAAmB,WAAa,QAAQ,EAAG,EAClD,EAEIrf,EAASyD,CAAI,CACf,EAAGqb,CAAI,CACT,EAEae,GAAyB,CAACJ,EAAOK,IAAc,CAC1D,MAAMC,EAAmBN,GAAS,KAElC,MAAO,CAAED,GAAWM,EAAU,CAAC,EAAE,CAC/B,iBAAAC,EACA,MAAAN,EACA,OAAAD,CACJ,CAAG,EAAGM,EAAU,CAAC,CAAC,CAClB,EAEaE,GAAkB9X,GAAO,IAAID,IAAS2N,EAAM,KAAK,IAAM1N,EAAG,GAAGD,CAAI,CAAC,ECzC/EgY,GAAehH,GAAS,uBAAyB,CAACD,EAAQkH,IAAYvI,IACpEA,EAAM,IAAI,IAAIA,EAAKsB,GAAS,MAAM,EAGhCD,EAAO,WAAarB,EAAI,UACxBqB,EAAO,OAASrB,EAAI,OACnBuI,GAAUlH,EAAO,OAASrB,EAAI,QAGjC,IAAI,IAAIsB,GAAS,MAAM,EACvBA,GAAS,WAAa,kBAAkB,KAAKA,GAAS,UAAU,SAAS,CAC3E,EAAI,IAAM,GCVVkH,GAAelH,GAAS,sBAGtB,CACE,MAAMpF,EAAMtT,EAAO6f,EAASjK,EAAMkK,EAAQC,EAAQ,CAChD,MAAMC,EAAS,CAAC1M,EAAO,IAAM,mBAAmBtT,CAAK,CAAC,EAEtDqV,EAAM,SAASwK,CAAO,GAAKG,EAAO,KAAK,WAAa,IAAI,KAAKH,CAAO,EAAE,YAAW,CAAE,EAEnFxK,EAAM,SAASO,CAAI,GAAKoK,EAAO,KAAK,QAAUpK,CAAI,EAElDP,EAAM,SAASyK,CAAM,GAAKE,EAAO,KAAK,UAAYF,CAAM,EAExDC,IAAW,IAAQC,EAAO,KAAK,QAAQ,EAEvC,SAAS,OAASA,EAAO,KAAK,IAAI,CACpC,EAEA,KAAK1M,EAAM,CACT,MAAMwD,EAAQ,SAAS,OAAO,MAAM,IAAI,OAAO,aAAexD,EAAO,WAAW,CAAC,EACjF,OAAQwD,EAAQ,mBAAmBA,EAAM,CAAC,CAAC,EAAI,IACjD,EAEA,OAAOxD,EAAM,CACX,KAAK,MAAMA,EAAM,GAAI,KAAK,IAAG,EAAK,KAAQ,CAC5C,CACJ,EAKE,CACE,OAAQ,CAAC,EACT,MAAO,CACL,OAAO,IACT,EACA,QAAS,CAAC,CACd,EC/Be,SAAS2M,GAAc7I,EAAK,CAIzC,MAAO,8BAA8B,KAAKA,CAAG,CAC/C,CCJe,SAAS8I,GAAYC,EAASC,EAAa,CACxD,OAAOA,EACHD,EAAQ,QAAQ,SAAU,EAAE,EAAI,IAAMC,EAAY,QAAQ,OAAQ,EAAE,EACpED,CACN,CCCe,SAASE,GAAcF,EAASG,EAAcC,EAAmB,CAC9E,IAAIC,EAAgB,CAACP,GAAcK,CAAY,EAC/C,OAAIH,IAAYK,GAAiBD,GAAqB,IAC7CL,GAAYC,EAASG,CAAY,EAEnCA,CACT,CChBA,MAAMG,GAAmBlS,GAAUA,aAAiBwO,GAAe,CAAE,GAAGxO,CAAK,EAAKA,EAWnE,SAASmS,GAAYC,EAASC,EAAS,CAEpDA,EAAUA,GAAW,GACrB,MAAMlb,EAAS,GAEf,SAASmb,EAAezM,EAAQD,EAAQrC,EAAMhB,EAAU,CACtD,OAAIuE,EAAM,cAAcjB,CAAM,GAAKiB,EAAM,cAAclB,CAAM,EACpDkB,EAAM,MAAM,KAAK,CAAC,SAAAvE,CAAQ,EAAGsD,EAAQD,CAAM,EACzCkB,EAAM,cAAclB,CAAM,EAC5BkB,EAAM,MAAM,GAAIlB,CAAM,EACpBkB,EAAM,QAAQlB,CAAM,EACtBA,EAAO,MAAK,EAEdA,CACT,CAGA,SAAS2M,EAAoB9hB,EAAGE,EAAG4S,EAAOhB,EAAU,CAClD,GAAKuE,EAAM,YAAYnW,CAAC,GAEjB,GAAI,CAACmW,EAAM,YAAYrW,CAAC,EAC7B,OAAO6hB,EAAe,OAAW7hB,EAAG8S,EAAOhB,CAAQ,MAFnD,QAAO+P,EAAe7hB,EAAGE,EAAG4S,EAAOhB,CAAQ,CAI/C,CAGA,SAASiQ,EAAiB/hB,EAAGE,EAAG,CAC9B,GAAI,CAACmW,EAAM,YAAYnW,CAAC,EACtB,OAAO2hB,EAAe,OAAW3hB,CAAC,CAEtC,CAGA,SAAS8hB,EAAiBhiB,EAAGE,EAAG,CAC9B,GAAKmW,EAAM,YAAYnW,CAAC,GAEjB,GAAI,CAACmW,EAAM,YAAYrW,CAAC,EAC7B,OAAO6hB,EAAe,OAAW7hB,CAAC,MAFlC,QAAO6hB,EAAe,OAAW3hB,CAAC,CAItC,CAGA,SAAS+hB,EAAgBjiB,EAAGE,EAAG4S,EAAM,CACnC,GAAIA,KAAQ8O,EACV,OAAOC,EAAe7hB,EAAGE,CAAC,EACrB,GAAI4S,KAAQ6O,EACjB,OAAOE,EAAe,OAAW7hB,CAAC,CAEtC,CAEA,MAAMkiB,EAAW,CACf,IAAKH,EACL,OAAQA,EACR,KAAMA,EACN,QAASC,EACT,iBAAkBA,EAClB,kBAAmBA,EACnB,iBAAkBA,EAClB,QAASA,EACT,eAAgBA,EAChB,gBAAiBA,EACjB,cAAeA,EACf,QAASA,EACT,aAAcA,EACd,eAAgBA,EAChB,eAAgBA,EAChB,iBAAkBA,EAClB,mBAAoBA,EACpB,WAAYA,EACZ,iBAAkBA,EAClB,cAAeA,EACf,eAAgBA,EAChB,UAAWA,EACX,UAAWA,EACX,WAAYA,EACZ,YAAaA,EACb,WAAYA,EACZ,iBAAkBA,EAClB,eAAgBC,EAChB,QAAS,CAACjiB,EAAGE,EAAI4S,IAASgP,EAAoBL,GAAgBzhB,CAAC,EAAGyhB,GAAgBvhB,CAAC,EAAE4S,EAAM,EAAI,CACnG,EAEEuD,SAAM,QAAQ,OAAO,KAAK,CAAC,GAAGsL,EAAS,GAAGC,CAAO,CAAC,EAAG,SAA4B9O,EAAM,CACrF,MAAMjB,EAAQqQ,EAASpP,CAAI,GAAKgP,EAC1BK,EAActQ,EAAM8P,EAAQ7O,CAAI,EAAG8O,EAAQ9O,CAAI,EAAGA,CAAI,EAC3DuD,EAAM,YAAY8L,CAAW,GAAKtQ,IAAUoQ,IAAqBvb,EAAOoM,CAAI,EAAIqP,EACnF,CAAC,EAEMzb,CACT,CChGA,MAAA0b,GAAgB1b,GAAW,CACzB,MAAM2b,EAAYX,GAAY,GAAIhb,CAAM,EAExC,GAAI,CAAC,KAAAxC,EAAM,cAAAoe,EAAe,eAAAC,EAAgB,eAAAC,EAAgB,QAAAlI,EAAS,KAAAmI,CAAI,EAAIJ,EAE3EA,EAAU,QAAU/H,EAAUyD,GAAa,KAAKzD,CAAO,EAEvD+H,EAAU,IAAMlK,GAASkJ,GAAcgB,EAAU,QAASA,EAAU,IAAKA,EAAU,iBAAiB,EAAG3b,EAAO,OAAQA,EAAO,gBAAgB,EAGzI+b,GACFnI,EAAQ,IAAI,gBAAiB,SAC3B,MAAMmI,EAAK,UAAY,IAAM,KAAOA,EAAK,SAAW,SAAS,mBAAmBA,EAAK,QAAQ,CAAC,EAAI,GAAG,CAC3G,EAGE,IAAIlI,EAEJ,GAAIlE,EAAM,WAAWnS,CAAI,GACvB,GAAIwV,GAAS,uBAAyBA,GAAS,+BAC7CY,EAAQ,eAAe,MAAS,WACtBC,EAAcD,EAAQ,eAAc,KAAQ,GAAO,CAE7D,KAAM,CAAC5Y,EAAM,GAAGga,CAAM,EAAInB,EAAcA,EAAY,MAAM,GAAG,EAAE,IAAI5E,GAASA,EAAM,KAAI,CAAE,EAAE,OAAO,OAAO,EAAI,GAC5G2E,EAAQ,eAAe,CAAC5Y,GAAQ,sBAAuB,GAAGga,CAAM,EAAE,KAAK,IAAI,CAAC,CAC9E,EAOF,GAAIhC,GAAS,wBACX4I,GAAiBjM,EAAM,WAAWiM,CAAa,IAAMA,EAAgBA,EAAcD,CAAS,GAExFC,GAAkBA,IAAkB,IAAS5B,GAAgB2B,EAAU,GAAG,GAAI,CAEhF,MAAMK,EAAYH,GAAkBC,GAAkB5B,GAAQ,KAAK4B,CAAc,EAE7EE,GACFpI,EAAQ,IAAIiI,EAAgBG,CAAS,CAEzC,CAGF,OAAOL,CACT,EC5CMM,GAAwB,OAAO,eAAmB,IAExDC,GAAeD,IAAyB,SAAUjc,EAAQ,CACxD,OAAO,IAAI,QAAQ,SAA4B3C,EAAS8B,EAAQ,CAC9D,MAAMgd,EAAUT,GAAc1b,CAAM,EACpC,IAAIoc,EAAcD,EAAQ,KAC1B,MAAME,EAAiBhF,GAAa,KAAK8E,EAAQ,OAAO,EAAE,UAAS,EACnE,GAAI,CAAC,aAAAG,EAAc,iBAAAC,EAAkB,mBAAAC,CAAkB,EAAIL,EACvDM,EACAC,EAAiBC,EACjBC,EAAaC,EAEjB,SAASC,GAAO,CACdF,GAAeA,EAAW,EAC1BC,GAAiBA,EAAa,EAE9BV,EAAQ,aAAeA,EAAQ,YAAY,YAAYM,CAAU,EAEjEN,EAAQ,QAAUA,EAAQ,OAAO,oBAAoB,QAASM,CAAU,CAC1E,CAEA,IAAIhN,EAAU,IAAI,eAElBA,EAAQ,KAAK0M,EAAQ,OAAO,YAAW,EAAIA,EAAQ,IAAK,EAAI,EAG5D1M,EAAQ,QAAU0M,EAAQ,QAE1B,SAASY,GAAY,CACnB,GAAI,CAACtN,EACH,OAGF,MAAMuN,EAAkB3F,GAAa,KACnC,0BAA2B5H,GAAWA,EAAQ,sBAAqB,CAC3E,EAGYC,EAAW,CACf,KAHmB,CAAC4M,GAAgBA,IAAiB,QAAUA,IAAiB,OAChF7M,EAAQ,aAAeA,EAAQ,SAG/B,OAAQA,EAAQ,OAChB,WAAYA,EAAQ,WACpB,QAASuN,EACT,OAAAhd,EACA,QAAAyP,CACR,EAEMmI,GAAO,SAAkBtd,EAAO,CAC9B+C,EAAQ/C,CAAK,EACbwiB,EAAI,CACN,EAAG,SAAiBG,EAAK,CACvB9d,EAAO8d,CAAG,EACVH,EAAI,CACN,EAAGpN,CAAQ,EAGXD,EAAU,IACZ,CAEI,cAAeA,EAEjBA,EAAQ,UAAYsN,EAGpBtN,EAAQ,mBAAqB,UAAsB,CAC7C,CAACA,GAAWA,EAAQ,aAAe,GAQnCA,EAAQ,SAAW,GAAK,EAAEA,EAAQ,aAAeA,EAAQ,YAAY,QAAQ,OAAO,IAAM,IAK9F,WAAWsN,CAAS,CACtB,EAIFtN,EAAQ,QAAU,UAAuB,CAClCA,IAILtQ,EAAO,IAAImQ,EAAW,kBAAmBA,EAAW,aAActP,EAAQyP,CAAO,CAAC,EAGlFA,EAAU,KACZ,EAGAA,EAAQ,QAAU,UAAuB,CAGvCtQ,EAAO,IAAImQ,EAAW,gBAAiBA,EAAW,YAAatP,EAAQyP,CAAO,CAAC,EAG/EA,EAAU,IACZ,EAGAA,EAAQ,UAAY,UAAyB,CAC3C,IAAIyN,EAAsBf,EAAQ,QAAU,cAAgBA,EAAQ,QAAU,cAAgB,mBAC9F,MAAMlI,EAAekI,EAAQ,cAAgBhK,GACzCgK,EAAQ,sBACVe,EAAsBf,EAAQ,qBAEhChd,EAAO,IAAImQ,EACT4N,EACAjJ,EAAa,oBAAsB3E,EAAW,UAAYA,EAAW,aACrEtP,EACAyP,CAAO,CAAC,EAGVA,EAAU,IACZ,EAGA2M,IAAgB,QAAaC,EAAe,eAAe,IAAI,EAG3D,qBAAsB5M,GACxBE,EAAM,QAAQ0M,EAAe,OAAM,EAAI,SAA0BrgB,EAAKG,EAAK,CACzEsT,EAAQ,iBAAiBtT,EAAKH,CAAG,CACnC,CAAC,EAIE2T,EAAM,YAAYwM,EAAQ,eAAe,IAC5C1M,EAAQ,gBAAkB,CAAC,CAAC0M,EAAQ,iBAIlCG,GAAgBA,IAAiB,SACnC7M,EAAQ,aAAe0M,EAAQ,cAI7BK,IACD,CAACG,EAAmBE,CAAa,EAAI1D,GAAqBqD,EAAoB,EAAI,EACnF/M,EAAQ,iBAAiB,WAAYkN,CAAiB,GAIpDJ,GAAoB9M,EAAQ,SAC7B,CAACiN,EAAiBE,CAAW,EAAIzD,GAAqBoD,CAAgB,EAEvE9M,EAAQ,OAAO,iBAAiB,WAAYiN,CAAe,EAE3DjN,EAAQ,OAAO,iBAAiB,UAAWmN,CAAW,IAGpDT,EAAQ,aAAeA,EAAQ,UAGjCM,EAAarc,GAAU,CAChBqP,IAGLtQ,EAAO,CAACiB,GAAUA,EAAO,KAAO,IAAIuX,GAAc,KAAM3X,EAAQyP,CAAO,EAAIrP,CAAM,EACjFqP,EAAQ,MAAK,EACbA,EAAU,KACZ,EAEA0M,EAAQ,aAAeA,EAAQ,YAAY,UAAUM,CAAU,EAC3DN,EAAQ,SACVA,EAAQ,OAAO,QAAUM,EAAU,EAAKN,EAAQ,OAAO,iBAAiB,QAASM,CAAU,IAI/F,MAAMU,EAAWrF,GAAcqE,EAAQ,GAAG,EAE1C,GAAIgB,GAAYnK,GAAS,UAAU,QAAQmK,CAAQ,IAAM,GAAI,CAC3Dhe,EAAO,IAAImQ,EAAW,wBAA0B6N,EAAW,IAAK7N,EAAW,gBAAiBtP,CAAM,CAAC,EACnG,MACF,CAIAyP,EAAQ,KAAK2M,GAAe,IAAI,CAClC,CAAC,CACH,EChMMgB,GAAiB,CAACC,EAASjgB,IAAY,CAC3C,KAAM,CAAC,OAAAkgB,CAAM,EAAKD,EAAUA,EAAUA,EAAQ,OAAO,OAAO,EAAI,GAEhE,GAAIjgB,GAAWkgB,EAAQ,CACrB,IAAIC,EAAa,IAAI,gBAEjBC,EAEJ,MAAMC,EAAU,SAAUje,EAAQ,CAChC,GAAI,CAACge,EAAS,CACZA,EAAU,GACVE,EAAW,EACX,MAAMT,EAAMzd,aAAkB,MAAQA,EAAS,KAAK,OACpD+d,EAAW,MAAMN,aAAe3N,EAAa2N,EAAM,IAAItF,GAAcsF,aAAe,MAAQA,EAAI,QAAUA,CAAG,CAAC,CAChH,CACF,EAEA,IAAIhE,EAAQ7b,GAAW,WAAW,IAAM,CACtC6b,EAAQ,KACRwE,EAAQ,IAAInO,EAAW,WAAWlS,CAAO,kBAAmBkS,EAAW,SAAS,CAAC,CACnF,EAAGlS,CAAO,EAEV,MAAMsgB,EAAc,IAAM,CACpBL,IACFpE,GAAS,aAAaA,CAAK,EAC3BA,EAAQ,KACRoE,EAAQ,QAAQM,GAAU,CACxBA,EAAO,YAAcA,EAAO,YAAYF,CAAO,EAAIE,EAAO,oBAAoB,QAASF,CAAO,CAChG,CAAC,EACDJ,EAAU,KAEd,EAEAA,EAAQ,QAASM,GAAWA,EAAO,iBAAiB,QAASF,CAAO,CAAC,EAErE,KAAM,CAAC,OAAAE,CAAM,EAAIJ,EAEjB,OAAAI,EAAO,YAAc,IAAMhO,EAAM,KAAK+N,CAAW,EAE1CC,CACT,CACF,EC5CaC,GAAc,UAAWC,EAAOC,EAAW,CACtD,IAAIhT,EAAM+S,EAAM,WAEhB,GAAkB/S,EAAMgT,EAAW,CACjC,MAAMD,EACN,MACF,CAEA,IAAIE,EAAM,EACNC,EAEJ,KAAOD,EAAMjT,GACXkT,EAAMD,EAAMD,EACZ,MAAMD,EAAM,MAAME,EAAKC,CAAG,EAC1BD,EAAMC,CAEV,EAEaC,GAAY,gBAAiBC,EAAUJ,EAAW,CAC7D,gBAAiBD,KAASM,GAAWD,CAAQ,EAC3C,MAAON,GAAYC,EAAOC,CAAS,CAEvC,EAEMK,GAAa,gBAAiBC,EAAQ,CAC1C,GAAIA,EAAO,OAAO,aAAa,EAAG,CAChC,MAAOA,EACP,MACF,CAEA,MAAMC,EAASD,EAAO,UAAS,EAC/B,GAAI,CACF,OAAS,CACP,KAAM,CAAC,KAAAtB,EAAM,MAAAxiB,CAAK,EAAI,MAAM+jB,EAAO,KAAI,EACvC,GAAIvB,EACF,MAEF,MAAMxiB,CACR,CACF,QAAC,CACC,MAAM+jB,EAAO,OAAM,CACrB,CACF,EAEaC,GAAc,CAACF,EAAQN,EAAWS,EAAYC,IAAa,CACtE,MAAM/V,EAAWwV,GAAUG,EAAQN,CAAS,EAE5C,IAAI5F,EAAQ,EACR4E,EACA2B,EAAa/kB,GAAM,CAChBojB,IACHA,EAAO,GACP0B,GAAYA,EAAS9kB,CAAC,EAE1B,EAEA,OAAO,IAAI,eAAe,CACxB,MAAM,KAAK6jB,EAAY,CACrB,GAAI,CACF,KAAM,CAAC,KAAAT,EAAM,MAAAxiB,CAAK,EAAI,MAAMmO,EAAS,KAAI,EAEzC,GAAIqU,EAAM,CACT2B,EAAS,EACRlB,EAAW,MAAK,EAChB,MACF,CAEA,IAAIzS,EAAMxQ,EAAM,WAChB,GAAIikB,EAAY,CACd,IAAIG,EAAcxG,GAASpN,EAC3ByT,EAAWG,CAAW,CACxB,CACAnB,EAAW,QAAQ,IAAI,WAAWjjB,CAAK,CAAC,CAC1C,OAAS2iB,EAAK,CACZ,MAAAwB,EAAUxB,CAAG,EACPA,CACR,CACF,EACA,OAAOzd,EAAQ,CACb,OAAAif,EAAUjf,CAAM,EACTiJ,EAAS,OAAM,CACxB,CACJ,EAAK,CACD,cAAe,CACnB,CAAG,CACH,EC5EMkW,GAAmB,OAAO,OAAU,YAAc,OAAO,SAAY,YAAc,OAAO,UAAa,WACvGC,GAA4BD,IAAoB,OAAO,gBAAmB,WAG1EE,GAAaF,KAAqB,OAAO,aAAgB,YACzDpN,GAAazI,GAAQyI,EAAQ,OAAOzI,CAAG,GAAG,IAAI,WAAa,EAC7D,MAAOA,GAAQ,IAAI,WAAW,MAAM,IAAI,SAASA,CAAG,EAAE,YAAW,CAAE,GAGjEgW,GAAO,CAAC7c,KAAOD,IAAS,CAC5B,GAAI,CACF,MAAO,CAAC,CAACC,EAAG,GAAGD,CAAI,CACrB,MAAY,CACV,MAAO,EACT,CACF,EAEM+c,GAAwBH,IAA6BE,GAAK,IAAM,CACpE,IAAIE,EAAiB,GAErB,MAAMC,EAAiB,IAAI,QAAQjM,GAAS,OAAQ,CAClD,KAAM,IAAI,eACV,OAAQ,OACR,IAAI,QAAS,CACX,OAAAgM,EAAiB,GACV,MACT,CACJ,CAAG,EAAE,QAAQ,IAAI,cAAc,EAE7B,OAAOA,GAAkB,CAACC,CAC5B,CAAC,EAEKC,GAAqB,GAAK,KAE1BC,GAAyBP,IAC7BE,GAAK,IAAMnP,EAAM,iBAAiB,IAAI,SAAS,EAAE,EAAE,IAAI,CAAC,EAGpDyP,GAAY,CAChB,OAAQD,KAA4BE,GAAQA,EAAI,KAClD,EAEAV,KAAuBU,GAAQ,CAC7B,CAAC,OAAQ,cAAe,OAAQ,WAAY,QAAQ,EAAE,QAAQrkB,GAAQ,CACpE,CAACokB,GAAUpkB,CAAI,IAAMokB,GAAUpkB,CAAI,EAAI2U,EAAM,WAAW0P,EAAIrkB,CAAI,CAAC,EAAKqkB,GAAQA,EAAIrkB,CAAI,EAAC,EACrF,CAACe,EAAGiE,IAAW,CACb,MAAM,IAAIsP,EAAW,kBAAkBtU,CAAI,qBAAsBsU,EAAW,gBAAiBtP,CAAM,CACrG,EACJ,CAAC,CACH,GAAG,IAAI,QAAQ,EAEf,MAAMsf,GAAgB,MAAOC,GAAS,CACpC,GAAIA,GAAQ,KACV,MAAO,GAGT,GAAG5P,EAAM,OAAO4P,CAAI,EAClB,OAAOA,EAAK,KAGd,GAAG5P,EAAM,oBAAoB4P,CAAI,EAK/B,OAAQ,MAJS,IAAI,QAAQvM,GAAS,OAAQ,CAC5C,OAAQ,OACR,KAAAuM,CACN,CAAK,EACsB,YAAW,GAAI,WAGxC,GAAG5P,EAAM,kBAAkB4P,CAAI,GAAK5P,EAAM,cAAc4P,CAAI,EAC1D,OAAOA,EAAK,WAOd,GAJG5P,EAAM,kBAAkB4P,CAAI,IAC7BA,EAAOA,EAAO,IAGb5P,EAAM,SAAS4P,CAAI,EACpB,OAAQ,MAAMV,GAAWU,CAAI,GAAG,UAEpC,EAEMC,GAAoB,MAAO5L,EAAS2L,IAAS,CACjD,MAAMjC,EAAS3N,EAAM,eAAeiE,EAAQ,iBAAgB,CAAE,EAE9D,OAAO0J,GAAiBgC,GAAcC,CAAI,CAC5C,EAEAE,GAAed,KAAqB,MAAO3e,GAAW,CACpD,GAAI,CACF,IAAA0R,EACA,OAAA2C,EACA,KAAA7W,EACA,OAAAmgB,EACA,YAAA+B,EACA,QAAAtiB,EACA,mBAAAof,EACA,iBAAAD,EACA,aAAAD,EACA,QAAA1I,EACA,gBAAA+L,EAAkB,cAClB,aAAA1hB,CACJ,EAAMyd,GAAc1b,CAAM,EAExBsc,EAAeA,GAAgBA,EAAe,IAAI,YAAW,EAAK,OAElE,IAAIsD,EAAiBxC,GAAe,CAACO,EAAQ+B,GAAeA,EAAY,eAAe,EAAGtiB,CAAO,EAE7FqS,EAEJ,MAAMiO,EAAckC,GAAkBA,EAAe,cAAgB,IAAM,CACvEA,EAAe,YAAW,CAC9B,GAEA,IAAIC,EAEJ,GAAI,CACF,GACEtD,GAAoBwC,IAAyB1K,IAAW,OAASA,IAAW,SAC3EwL,EAAuB,MAAML,GAAkB5L,EAASpW,CAAI,KAAO,EACpE,CACA,IAAIsiB,EAAW,IAAI,QAAQpO,EAAK,CAC9B,OAAQ,OACR,KAAMlU,EACN,OAAQ,MAChB,CAAO,EAEGuiB,EAMJ,GAJIpQ,EAAM,WAAWnS,CAAI,IAAMuiB,EAAoBD,EAAS,QAAQ,IAAI,cAAc,IACpFlM,EAAQ,eAAemM,CAAiB,EAGtCD,EAAS,KAAM,CACjB,KAAM,CAACvB,EAAYzc,CAAK,EAAI8X,GAC1BiG,EACA1G,GAAqBY,GAAewC,CAAgB,CAAC,CAC/D,EAEQ/e,EAAO8gB,GAAYwB,EAAS,KAAMZ,GAAoBX,EAAYzc,CAAK,CACzE,CACF,CAEK6N,EAAM,SAASgQ,CAAe,IACjCA,EAAkBA,EAAkB,UAAY,QAKlD,MAAMK,EAAyB,gBAAiB,QAAQ,UACxDvQ,EAAU,IAAI,QAAQiC,EAAK,CACzB,GAAGzT,EACH,OAAQ2hB,EACR,OAAQvL,EAAO,YAAW,EAC1B,QAAST,EAAQ,UAAS,EAAG,OAAM,EACnC,KAAMpW,EACN,OAAQ,OACR,YAAawiB,EAAyBL,EAAkB,MAC9D,CAAK,EAED,IAAIjQ,EAAW,MAAM,MAAMD,EAASxR,CAAY,EAEhD,MAAMgiB,EAAmBd,KAA2B7C,IAAiB,UAAYA,IAAiB,YAElG,GAAI6C,KAA2B3C,GAAuByD,GAAoBvC,GAAe,CACvF,MAAM5hB,EAAU,GAEhB,CAAC,SAAU,aAAc,SAAS,EAAE,QAAQsQ,GAAQ,CAClDtQ,EAAQsQ,CAAI,EAAIsD,EAAStD,CAAI,CAC/B,CAAC,EAED,MAAM8T,EAAwBvQ,EAAM,eAAeD,EAAS,QAAQ,IAAI,gBAAgB,CAAC,EAEnF,CAAC6O,EAAYzc,CAAK,EAAI0a,GAAsB5C,GAChDsG,EACA/G,GAAqBY,GAAeyC,CAAkB,EAAG,EAAI,CACrE,GAAW,GAEL9M,EAAW,IAAI,SACb4O,GAAY5O,EAAS,KAAMwP,GAAoBX,EAAY,IAAM,CAC/Dzc,GAASA,EAAK,EACd4b,GAAeA,EAAW,CAC5B,CAAC,EACD5hB,CACR,CACI,CAEAwgB,EAAeA,GAAgB,OAE/B,IAAI6D,EAAe,MAAMf,GAAUzP,EAAM,QAAQyP,GAAW9C,CAAY,GAAK,MAAM,EAAE5M,EAAU1P,CAAM,EAErG,OAACigB,GAAoBvC,GAAeA,EAAW,EAExC,MAAM,IAAI,QAAQ,CAACrgB,EAAS8B,IAAW,CAC5CyY,GAAOva,EAAS8B,EAAQ,CACtB,KAAMghB,EACN,QAAS9I,GAAa,KAAK3H,EAAS,OAAO,EAC3C,OAAQA,EAAS,OACjB,WAAYA,EAAS,WACrB,OAAA1P,EACA,QAAAyP,CACR,CAAO,CACH,CAAC,CACH,OAASwN,EAAK,CAGZ,MAFAS,GAAeA,EAAW,EAEtBT,GAAOA,EAAI,OAAS,aAAe,qBAAqB,KAAKA,EAAI,OAAO,EACpE,OAAO,OACX,IAAI3N,EAAW,gBAAiBA,EAAW,YAAatP,EAAQyP,CAAO,EACvE,CACE,MAAOwN,EAAI,OAASA,CAC9B,CACA,EAGU3N,EAAW,KAAK2N,EAAKA,GAAOA,EAAI,KAAMjd,EAAQyP,CAAO,CAC7D,CACF,GC5NM2Q,GAAgB,CACpB,KAAMtQ,GACN,IAAKoM,GACL,MAAOuD,EACT,EAEA9P,EAAM,QAAQyQ,GAAe,CAACne,EAAI3H,IAAU,CAC1C,GAAI2H,EAAI,CACN,GAAI,CACF,OAAO,eAAeA,EAAI,OAAQ,CAAC,MAAA3H,CAAK,CAAC,CAC3C,MAAY,CAEZ,CACA,OAAO,eAAe2H,EAAI,cAAe,CAAC,MAAA3H,CAAK,CAAC,CAClD,CACF,CAAC,EAED,MAAM+lB,GAAgB7gB,GAAW,KAAKA,CAAM,GAEtC8gB,GAAoBC,GAAY5Q,EAAM,WAAW4Q,CAAO,GAAKA,IAAY,MAAQA,IAAY,GAEnGC,GAAe,CACb,WAAaA,GAAa,CACxBA,EAAW7Q,EAAM,QAAQ6Q,CAAQ,EAAIA,EAAW,CAACA,CAAQ,EAEzD,KAAM,CAAC,OAAAlD,CAAM,EAAIkD,EACjB,IAAIC,EACAF,EAEJ,MAAMG,EAAkB,GAExB,QAAS,EAAI,EAAG,EAAIpD,EAAQ,IAAK,CAC/BmD,EAAgBD,EAAS,CAAC,EAC1B,IAAIvO,EAIJ,GAFAsO,EAAUE,EAEN,CAACH,GAAiBG,CAAa,IACjCF,EAAUH,IAAenO,EAAK,OAAOwO,CAAa,GAAG,aAAa,EAE9DF,IAAY,QACd,MAAM,IAAIjR,EAAW,oBAAoB2C,CAAE,GAAG,EAIlD,GAAIsO,EACF,MAGFG,EAAgBzO,GAAM,IAAM,CAAC,EAAIsO,CACnC,CAEA,GAAI,CAACA,EAAS,CAEZ,MAAMI,EAAU,OAAO,QAAQD,CAAe,EAC3C,IAAI,CAAC,CAACzO,EAAIhP,CAAK,IAAM,WAAWgP,CAAE,KAChChP,IAAU,GAAQ,sCAAwC,gCACrE,EAEM,IAAI2d,EAAItD,EACLqD,EAAQ,OAAS,EAAI;AAAA,EAAcA,EAAQ,IAAIN,EAAY,EAAE,KAAK;AAAA,CAAI,EAAI,IAAMA,GAAaM,EAAQ,CAAC,CAAC,EACxG,0BAEF,MAAM,IAAIrR,EACR,wDAA0DsR,EAC1D,iBACR,CACI,CAEA,OAAOL,CACT,EACA,SAAUH,EACZ,EC9DA,SAASS,GAA6B7gB,EAAQ,CAK5C,GAJIA,EAAO,aACTA,EAAO,YAAY,iBAAgB,EAGjCA,EAAO,QAAUA,EAAO,OAAO,QACjC,MAAM,IAAI2X,GAAc,KAAM3X,CAAM,CAExC,CASe,SAAS8gB,GAAgB9gB,EAAQ,CAC9C,OAAA6gB,GAA6B7gB,CAAM,EAEnCA,EAAO,QAAUqX,GAAa,KAAKrX,EAAO,OAAO,EAGjDA,EAAO,KAAOwX,GAAc,KAC1BxX,EACAA,EAAO,gBACX,EAEM,CAAC,OAAQ,MAAO,OAAO,EAAE,QAAQA,EAAO,MAAM,IAAM,IACtDA,EAAO,QAAQ,eAAe,oCAAqC,EAAK,EAG1DwgB,GAAS,WAAWxgB,EAAO,SAAW6H,GAAS,OAAO,EAEvD7H,CAAM,EAAE,KAAK,SAA6B0P,EAAU,CACjE,OAAAmR,GAA6B7gB,CAAM,EAGnC0P,EAAS,KAAO8H,GAAc,KAC5BxX,EACAA,EAAO,kBACP0P,CACN,EAEIA,EAAS,QAAU2H,GAAa,KAAK3H,EAAS,OAAO,EAE9CA,CACT,EAAG,SAA4BlQ,EAAQ,CACrC,OAAKkY,GAASlY,CAAM,IAClBqhB,GAA6B7gB,CAAM,EAG/BR,GAAUA,EAAO,WACnBA,EAAO,SAAS,KAAOgY,GAAc,KACnCxX,EACAA,EAAO,kBACPR,EAAO,QACjB,EACQA,EAAO,SAAS,QAAU6X,GAAa,KAAK7X,EAAO,SAAS,OAAO,IAIhE,QAAQ,OAAOA,CAAM,CAC9B,CAAC,CACH,CChFO,MAAMuhB,GAAU,SCKjBC,GAAa,GAGnB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,QAAQ,EAAE,QAAQ,CAAChmB,EAAM8B,IAAM,CACnFkkB,GAAWhmB,CAAI,EAAI,SAAmB6N,EAAO,CAC3C,OAAO,OAAOA,IAAU7N,GAAQ,KAAO8B,EAAI,EAAI,KAAO,KAAO9B,CAC/D,CACF,CAAC,EAED,MAAMimB,GAAqB,GAW3BD,GAAW,aAAe,SAAsBE,EAAWC,EAAS5R,EAAS,CAC3E,SAAS6R,EAAcC,EAAKC,EAAM,CAChC,MAAO,WAAaP,GAAU,0BAA6BM,EAAM,IAAOC,GAAQ/R,EAAU,KAAOA,EAAU,GAC7G,CAGA,MAAO,CAACjV,EAAO+mB,EAAKE,IAAS,CAC3B,GAAIL,IAAc,GAChB,MAAM,IAAI5R,EACR8R,EAAcC,EAAK,qBAAuBF,EAAU,OAASA,EAAU,GAAG,EAC1E7R,EAAW,cACnB,EAGI,OAAI6R,GAAW,CAACF,GAAmBI,CAAG,IACpCJ,GAAmBI,CAAG,EAAI,GAE1B,QAAQ,KACND,EACEC,EACA,+BAAiCF,EAAU,yCACrD,CACA,GAGWD,EAAYA,EAAU5mB,EAAO+mB,EAAKE,CAAI,EAAI,EACnD,CACF,EAEAP,GAAW,SAAW,SAAkBQ,EAAiB,CACvD,MAAO,CAAClnB,EAAO+mB,KAEb,QAAQ,KAAK,GAAGA,CAAG,+BAA+BG,CAAe,EAAE,EAC5D,GAEX,EAYA,SAASC,GAAc3lB,EAAS4lB,EAAQC,EAAc,CACpD,GAAI,OAAO7lB,GAAY,SACrB,MAAM,IAAIwT,EAAW,4BAA6BA,EAAW,oBAAoB,EAEnF,MAAMzE,EAAO,OAAO,KAAK/O,CAAO,EAChC,IAAIgB,EAAI+N,EAAK,OACb,KAAO/N,KAAM,GAAG,CACd,MAAMukB,EAAMxW,EAAK/N,CAAC,EACZokB,EAAYQ,EAAOL,CAAG,EAC5B,GAAIH,EAAW,CACb,MAAM5mB,EAAQwB,EAAQulB,CAAG,EACnBnlB,EAAS5B,IAAU,QAAa4mB,EAAU5mB,EAAO+mB,EAAKvlB,CAAO,EACnE,GAAII,IAAW,GACb,MAAM,IAAIoT,EAAW,UAAY+R,EAAM,YAAcnlB,EAAQoT,EAAW,oBAAoB,EAE9F,QACF,CACA,GAAIqS,IAAiB,GACnB,MAAM,IAAIrS,EAAW,kBAAoB+R,EAAK/R,EAAW,cAAc,CAE3E,CACF,CAEA,MAAA4R,GAAe,CACb,cAAAO,GACF,WAAET,EACF,ECvFMA,GAAaE,GAAU,WAS7B,IAAAU,GAAA,KAAY,CACV,YAAYC,EAAgB,CAC1B,KAAK,SAAWA,GAAkB,GAClC,KAAK,aAAe,CAClB,QAAS,IAAI/P,GACb,SAAU,IAAIA,EACpB,CACE,CAUA,MAAM,QAAQgQ,EAAa9hB,EAAQ,CACjC,GAAI,CACF,OAAO,MAAM,KAAK,SAAS8hB,EAAa9hB,CAAM,CAChD,OAASid,EAAK,CACZ,GAAIA,aAAe,MAAO,CACxB,IAAI8E,EAAQ,GAEZ,MAAM,kBAAoB,MAAM,kBAAkBA,CAAK,EAAKA,EAAQ,IAAI,MAGxE,MAAMxT,EAAQwT,EAAM,MAAQA,EAAM,MAAM,QAAQ,QAAS,EAAE,EAAI,GAC/D,GAAI,CACG9E,EAAI,MAGE1O,GAAS,CAAC,OAAO0O,EAAI,KAAK,EAAE,SAAS1O,EAAM,QAAQ,YAAa,EAAE,CAAC,IAC5E0O,EAAI,OAAS;AAAA,EAAO1O,GAHpB0O,EAAI,MAAQ1O,CAKhB,MAAY,CAEZ,CACF,CAEA,MAAM0O,CACR,CACF,CAEA,SAAS6E,EAAa9hB,EAAQ,CAGxB,OAAO8hB,GAAgB,UACzB9hB,EAASA,GAAU,GACnBA,EAAO,IAAM8hB,GAEb9hB,EAAS8hB,GAAe,GAG1B9hB,EAASgb,GAAY,KAAK,SAAUhb,CAAM,EAE1C,KAAM,CAAC,aAAAiU,EAAc,iBAAA+N,EAAkB,QAAApO,CAAO,EAAI5T,EAE9CiU,IAAiB,QACnBiN,GAAU,cAAcjN,EAAc,CACpC,kBAAmB+M,GAAW,aAAaA,GAAW,OAAO,EAC7D,kBAAmBA,GAAW,aAAaA,GAAW,OAAO,EAC7D,oBAAqBA,GAAW,aAAaA,GAAW,OAAO,CACvE,EAAS,EAAK,EAGNgB,GAAoB,OAClBrS,EAAM,WAAWqS,CAAgB,EACnChiB,EAAO,iBAAmB,CACxB,UAAWgiB,CACrB,EAEQd,GAAU,cAAcc,EAAkB,CACxC,OAAQhB,GAAW,SACnB,UAAWA,GAAW,QAChC,EAAW,EAAI,GAKPhhB,EAAO,oBAAsB,SAEtB,KAAK,SAAS,oBAAsB,OAC7CA,EAAO,kBAAoB,KAAK,SAAS,kBAEzCA,EAAO,kBAAoB,IAG7BkhB,GAAU,cAAclhB,EAAQ,CAC9B,QAASghB,GAAW,SAAS,SAAS,EACtC,cAAeA,GAAW,SAAS,eAAe,CACxD,EAAO,EAAI,EAGPhhB,EAAO,QAAUA,EAAO,QAAU,KAAK,SAAS,QAAU,OAAO,YAAW,EAG5E,IAAIiiB,EAAiBrO,GAAWjE,EAAM,MACpCiE,EAAQ,OACRA,EAAQ5T,EAAO,MAAM,CAC3B,EAEI4T,GAAWjE,EAAM,QACf,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,QAAQ,EACzD0E,GAAW,CACV,OAAOT,EAAQS,CAAM,CACvB,CACN,EAEIrU,EAAO,QAAUqX,GAAa,OAAO4K,EAAgBrO,CAAO,EAG5D,MAAMsO,EAA0B,GAChC,IAAIC,EAAiC,GACrC,KAAK,aAAa,QAAQ,QAAQ,SAAoCC,EAAa,CAC7E,OAAOA,EAAY,SAAY,YAAcA,EAAY,QAAQpiB,CAAM,IAAM,KAIjFmiB,EAAiCA,GAAkCC,EAAY,YAE/EF,EAAwB,QAAQE,EAAY,UAAWA,EAAY,QAAQ,EAC7E,CAAC,EAED,MAAMC,EAA2B,GACjC,KAAK,aAAa,SAAS,QAAQ,SAAkCD,EAAa,CAChFC,EAAyB,KAAKD,EAAY,UAAWA,EAAY,QAAQ,CAC3E,CAAC,EAED,IAAIjf,EACArG,EAAI,EACJgO,EAEJ,GAAI,CAACqX,EAAgC,CACnC,MAAMG,EAAQ,CAACxB,GAAgB,KAAK,IAAI,EAAG,MAAS,EAOpD,IANAwB,EAAM,QAAQ,GAAGJ,CAAuB,EACxCI,EAAM,KAAK,GAAGD,CAAwB,EACtCvX,EAAMwX,EAAM,OAEZnf,EAAU,QAAQ,QAAQnD,CAAM,EAEzBlD,EAAIgO,GACT3H,EAAUA,EAAQ,KAAKmf,EAAMxlB,GAAG,EAAGwlB,EAAMxlB,GAAG,CAAC,EAG/C,OAAOqG,CACT,CAEA2H,EAAMoX,EAAwB,OAE9B,IAAIvG,EAAY3b,EAIhB,IAFAlD,EAAI,EAEGA,EAAIgO,GAAK,CACd,MAAMyX,EAAcL,EAAwBplB,GAAG,EACzC0lB,EAAaN,EAAwBplB,GAAG,EAC9C,GAAI,CACF6e,EAAY4G,EAAY5G,CAAS,CACnC,OAAS5a,EAAO,CACdyhB,EAAW,KAAK,KAAMzhB,CAAK,EAC3B,KACF,CACF,CAEA,GAAI,CACFoC,EAAU2d,GAAgB,KAAK,KAAMnF,CAAS,CAChD,OAAS5a,EAAO,CACd,OAAO,QAAQ,OAAOA,CAAK,CAC7B,CAKA,IAHAjE,EAAI,EACJgO,EAAMuX,EAAyB,OAExBvlB,EAAIgO,GACT3H,EAAUA,EAAQ,KAAKkf,EAAyBvlB,GAAG,EAAGulB,EAAyBvlB,GAAG,CAAC,EAGrF,OAAOqG,CACT,CAEA,OAAOnD,EAAQ,CACbA,EAASgb,GAAY,KAAK,SAAUhb,CAAM,EAC1C,MAAMyiB,EAAW9H,GAAc3a,EAAO,QAASA,EAAO,IAAKA,EAAO,iBAAiB,EACnF,OAAOyR,GAASgR,EAAUziB,EAAO,OAAQA,EAAO,gBAAgB,CAClE,CACF,EAGA2P,EAAM,QAAQ,CAAC,SAAU,MAAO,OAAQ,SAAS,EAAG,SAA6B0E,EAAQ,CAEvFqO,GAAM,UAAUrO,CAAM,EAAI,SAAS3C,EAAK1R,EAAQ,CAC9C,OAAO,KAAK,QAAQgb,GAAYhb,GAAU,GAAI,CAC5C,OAAAqU,EACA,IAAA3C,EACA,MAAO1R,GAAU,IAAI,IAC3B,CAAK,CAAC,CACJ,CACF,CAAC,EAED2P,EAAM,QAAQ,CAAC,OAAQ,MAAO,OAAO,EAAG,SAA+B0E,EAAQ,CAG7E,SAASsO,EAAmBC,EAAQ,CAClC,OAAO,SAAoBlR,EAAKlU,EAAMwC,EAAQ,CAC5C,OAAO,KAAK,QAAQgb,GAAYhb,GAAU,GAAI,CAC5C,OAAAqU,EACA,QAASuO,EAAS,CAChB,eAAgB,qBAC1B,EAAY,GACJ,IAAAlR,EACA,KAAAlU,CACR,CAAO,CAAC,CACJ,CACF,CAEAklB,GAAM,UAAUrO,CAAM,EAAIsO,EAAkB,EAE5CD,GAAM,UAAUrO,EAAS,MAAM,EAAIsO,EAAmB,EAAI,CAC5D,CAAC,ECpOD,IAAAE,GAAA,MAAMC,EAAY,CAChB,YAAYC,EAAU,CACpB,GAAI,OAAOA,GAAa,WACtB,MAAM,IAAI,UAAU,8BAA8B,EAGpD,IAAIC,EAEJ,KAAK,QAAU,IAAI,QAAQ,SAAyB3lB,EAAS,CAC3D2lB,EAAiB3lB,CACnB,CAAC,EAED,MAAM4R,EAAQ,KAGd,KAAK,QAAQ,KAAK7O,GAAU,CAC1B,GAAI,CAAC6O,EAAM,WAAY,OAEvB,IAAI,EAAIA,EAAM,WAAW,OAEzB,KAAO,KAAM,GACXA,EAAM,WAAW,CAAC,EAAE7O,CAAM,EAE5B6O,EAAM,WAAa,IACrB,CAAC,EAGD,KAAK,QAAQ,KAAOgU,GAAe,CACjC,IAAI5jB,EAEJ,MAAM8D,EAAU,IAAI,QAAQ9F,GAAW,CACrC4R,EAAM,UAAU5R,CAAO,EACvBgC,EAAWhC,CACb,CAAC,EAAE,KAAK4lB,CAAW,EAEnB,OAAA9f,EAAQ,OAAS,UAAkB,CACjC8L,EAAM,YAAY5P,CAAQ,CAC5B,EAEO8D,CACT,EAEA4f,EAAS,SAAgBxT,EAASvP,EAAQyP,EAAS,CAC7CR,EAAM,SAKVA,EAAM,OAAS,IAAI0I,GAAcpI,EAASvP,EAAQyP,CAAO,EACzDuT,EAAe/T,EAAM,MAAM,EAC7B,CAAC,CACH,CAKA,kBAAmB,CACjB,GAAI,KAAK,OACP,MAAM,KAAK,MAEf,CAMA,UAAUlV,EAAU,CAClB,GAAI,KAAK,OAAQ,CACfA,EAAS,KAAK,MAAM,EACpB,MACF,CAEI,KAAK,WACP,KAAK,WAAW,KAAKA,CAAQ,EAE7B,KAAK,WAAa,CAACA,CAAQ,CAE/B,CAMA,YAAYA,EAAU,CACpB,GAAI,CAAC,KAAK,WACR,OAEF,MAAM2L,EAAQ,KAAK,WAAW,QAAQ3L,CAAQ,EAC1C2L,IAAU,IACZ,KAAK,WAAW,OAAOA,EAAO,CAAC,CAEnC,CAEA,eAAgB,CACd,MAAM6X,EAAa,IAAI,gBAEjB2F,EAASjG,GAAQ,CACrBM,EAAW,MAAMN,CAAG,CACtB,EAEA,YAAK,UAAUiG,CAAK,EAEpB3F,EAAW,OAAO,YAAc,IAAM,KAAK,YAAY2F,CAAK,EAErD3F,EAAW,MACpB,CAMA,OAAO,QAAS,CACd,IAAInd,EAIJ,MAAO,CACL,MAJY,IAAI0iB,GAAY,SAAkBK,EAAG,CACjD/iB,EAAS+iB,CACX,CAAC,EAGC,OAAA/iB,CACN,CACE,CACF,EC7Ge,SAASgjB,GAAO1hB,EAAU,CACvC,OAAO,SAAcgL,EAAK,CACxB,OAAOhL,EAAS,MAAM,KAAMgL,CAAG,CACjC,CACF,CChBe,SAAS2W,GAAaC,EAAS,CAC5C,OAAO3T,EAAM,SAAS2T,CAAO,GAAMA,EAAQ,eAAiB,EAC9D,CCbA,MAAMC,GAAiB,CACrB,SAAU,IACV,mBAAoB,IACpB,WAAY,IACZ,WAAY,IACZ,GAAI,IACJ,QAAS,IACT,SAAU,IACV,4BAA6B,IAC7B,UAAW,IACX,aAAc,IACd,eAAgB,IAChB,YAAa,IACb,gBAAiB,IACjB,OAAQ,IACR,gBAAiB,IACjB,iBAAkB,IAClB,MAAO,IACP,SAAU,IACV,YAAa,IACb,SAAU,IACV,OAAQ,IACR,kBAAmB,IACnB,kBAAmB,IACnB,WAAY,IACZ,aAAc,IACd,gBAAiB,IACjB,UAAW,IACX,SAAU,IACV,iBAAkB,IAClB,cAAe,IACf,4BAA6B,IAC7B,eAAgB,IAChB,SAAU,IACV,KAAM,IACN,eAAgB,IAChB,mBAAoB,IACpB,gBAAiB,IACjB,WAAY,IACZ,qBAAsB,IACtB,oBAAqB,IACrB,kBAAmB,IACnB,UAAW,IACX,mBAAoB,IACpB,oBAAqB,IACrB,OAAQ,IACR,iBAAkB,IAClB,SAAU,IACV,gBAAiB,IACjB,qBAAsB,IACtB,gBAAiB,IACjB,4BAA6B,IAC7B,2BAA4B,IAC5B,oBAAqB,IACrB,eAAgB,IAChB,WAAY,IACZ,mBAAoB,IACpB,eAAgB,IAChB,wBAAyB,IACzB,sBAAuB,IACvB,oBAAqB,IACrB,aAAc,IACd,YAAa,IACb,8BAA+B,GACjC,EAEA,OAAO,QAAQA,EAAc,EAAE,QAAQ,CAAC,CAACpnB,EAAK7B,CAAK,IAAM,CACvDipB,GAAejpB,CAAK,EAAI6B,CAC1B,CAAC,ECzCD,SAASqnB,GAAeC,EAAe,CACrC,MAAM5f,EAAU,IAAI6e,GAAMe,CAAa,EACjCC,EAAWrb,GAAKqa,GAAM,UAAU,QAAS7e,CAAO,EAGtD8L,SAAM,OAAO+T,EAAUhB,GAAM,UAAW7e,EAAS,CAAC,WAAY,EAAI,CAAC,EAGnE8L,EAAM,OAAO+T,EAAU7f,EAAS,KAAM,CAAC,WAAY,EAAI,CAAC,EAGxD6f,EAAS,OAAS,SAAgB7B,EAAgB,CAChD,OAAO2B,GAAexI,GAAYyI,EAAe5B,CAAc,CAAC,CAClE,EAEO6B,CACT,CAGK,MAACC,EAAQH,GAAe3b,EAAQ,EAGrC8b,EAAM,MAAQjB,GAGdiB,EAAM,cAAgBhM,GACtBgM,EAAM,YAAcb,GACpBa,EAAM,SAAWjM,GACjBiM,EAAM,QAAU5C,GAChB4C,EAAM,WAAarT,GAGnBqT,EAAM,WAAarU,EAGnBqU,EAAM,OAASA,EAAM,cAGrBA,EAAM,IAAM,SAAa/b,EAAU,CACjC,OAAO,QAAQ,IAAIA,CAAQ,CAC7B,EAEA+b,EAAM,OAASP,GAGfO,EAAM,aAAeN,GAGrBM,EAAM,YAAc3I,GAEpB2I,EAAM,aAAetM,GAErBsM,EAAM,WAAa9a,GAASwK,GAAe1D,EAAM,WAAW9G,CAAK,EAAI,IAAI,SAASA,CAAK,EAAIA,CAAK,EAEhG8a,EAAM,WAAanD,GAAS,WAE5BmD,EAAM,eAAiBJ,GAEvBI,EAAM,QAAUA,EChFhB,KAAM,CACJ,MAAAjB,GACA,WAAApT,GACA,cAAAqI,GACA,SAAAD,GACA,YAAAoL,GACA,QAAA/B,GACA,IAAA6C,GACA,OAAAC,GACA,aAAAR,GACA,OAAAD,GACA,WAAA9S,GACA,aAAA+G,GACA,eAAAkM,GACA,WAAAO,GACA,WAAAC,GACA,YAAA/I,EACF,EAAI2I,ECFJ,MAAMK,EAAO,CACH,MACA,cAER,aAAc,CACZ,KAAK,cAAgB,GACrB,KAAK,MAAQ,KAAK,cAAgB,EAAiB,CACrD,CAEQ,cAAcC,EAAe1U,EAAiB1L,EAA8B,CAClF,MAAMiV,EAAY,IAAI,OAAO,cACvBoL,EAAargB,EAAU,MAAM,KAAK,UAAUA,CAAO,CAAC,GAAK,GAC/D,MAAO,IAAIiV,CAAS,KAAKmL,EAAM,aAAa,KAAK1U,CAAO,GAAG2U,CAAU,EACvE,CAEQ,UAAUD,EAA0B,CAC1C,OAAOA,GAAS,KAAK,KACvB,CAEA,MAAM1U,EAAiBxO,EAAyB8C,EAA4B,CAC1E,GAAI,CAAC,KAAK,UAAU,GAAiB,OAErC,MAAMsgB,EAAa,KAAK,cAAc,QAAS5U,EAAS1L,CAAO,EAC/D,QAAQ,MAAMsgB,CAAU,EAEpBpjB,GACF,QAAQ,MAAMA,CAAK,EAIjB,CAAC,KAAK,eAAiB,OAAO,OAAW,KAE3C,KAAK,mBAAmBwO,EAASxO,EAAO8C,CAAO,CAEnD,CAEA,KAAK0L,EAAiB1L,EAA4B,CAChD,GAAI,CAAC,KAAK,UAAU,GAAgB,OACpC,MAAMsgB,EAAa,KAAK,cAAc,OAAQ5U,EAAS1L,CAAO,EAC9D,QAAQ,KAAKsgB,CAAU,CACzB,CAEA,KAAK5U,EAAiB1L,EAA4B,CAChD,GAAI,CAAC,KAAK,UAAU,GAAgB,OACpC,MAAMsgB,EAAa,KAAK,cAAc,OAAQ5U,EAAS1L,CAAO,EAC9D,QAAQ,KAAKsgB,CAAU,CACzB,CAEA,MAAM5U,EAAiB1L,EAA4B,CACjD,GAAI,CAAC,KAAK,UAAU,GAAiB,OACrC,MAAMsgB,EAAa,KAAK,cAAc,QAAS5U,EAAS1L,CAAO,EAC/D,QAAQ,MAAMsgB,CAAU,CAC1B,CAGA,KAAKC,EAAqB,CACpB,KAAK,eACP,QAAQ,KAAKA,CAAK,CAEtB,CAEA,QAAQA,EAAqB,CACvB,KAAK,eACP,QAAQ,QAAQA,CAAK,CAEzB,CAGA,MAAMA,EAAqB,CACrB,KAAK,eACP,QAAQ,MAAMA,CAAK,CAEvB,CAEA,UAAiB,CACX,KAAK,eACP,QAAQ,UAEZ,CAEQ,mBAAmB7U,EAAiBxO,EAAyB8C,EAA4B,CAG/F,GAAI,CAEF,MAAMyf,EAAU,CACd,QAAA/T,EACA,MAAOxO,aAAiB,MAAQ,CAC9B,KAAMA,EAAM,KACZ,QAASA,EAAM,QACf,MAAOA,EAAM,OACXA,EACJ,QAAA8C,EACA,UAAW,IAAI,OAAO,cACtB,IAAK,OAAO,SAAS,KACrB,UAAW,UAAU,WAKvB,QAAQ,MAAM,0BAA2Byf,CAAO,CAClD,OAASe,EAAgB,CAEvB,QAAQ,MAAM,+BAAgCA,CAAc,CAC9D,CACF,CACF,CAGO,MAAMC,EAAS,IAAIN,GC7GpBO,GAAsB,CAC1B,CACE,GAAI,IACJ,KAAM,4BACN,YAAa,sFACb,OAAQ,IACR,YAAa,KACb,WAAY,CACV,IAAK,IACL,IAAK,IACL,SAAU,MACV,WAAY,IACZ,cAAe,KAEjB,OAAQ,CACN,CACE,GAAI,MACJ,IAAK,oFACL,IAAK,+BACL,SAAU,WACV,UAAW,IAEb,CACE,GAAI,MACJ,IAAK,oFACL,IAAK,uBACL,SAAU,OACV,UAAW,GACb,EAEF,UAAW,CACT,CAAE,GAAI,OAAQ,KAAM,OAAQ,SAAU,cACtC,CAAE,GAAI,MAAO,KAAM,MAAO,SAAU,YACpC,CAAE,GAAI,MAAO,KAAM,MAAO,SAAU,WACpC,CAAE,GAAI,aAAc,KAAM,aAAc,SAAU,UAClD,CAAE,GAAI,OAAQ,KAAM,OAAQ,SAAU,cACtC,CAAE,GAAI,eAAgB,KAAM,eAAgB,SAAU,UAAU,EAElE,SAAU,CACR,QAAS,mCACT,KAAM,cACN,QAAS,MACT,YAAa,CAAE,IAAK,QAAS,IAAK,SAAS,EAE7C,aAAc,CAAE,OAAQ,IAAM,MAAO,IAAM,SAAU,KACrD,aAAc,CACZ,UAAW,GACX,YAAa,IAAI,OAAO,cACxB,gBAAiB,GACnB,EAEF,CACE,GAAI,IACJ,KAAM,uBACN,YAAa,mFACb,OAAQ,IACR,YAAa,KACb,WAAY,CACV,IAAK,IACL,IAAK,IACL,SAAU,MACV,WAAY,IACZ,cAAe,KAEjB,OAAQ,CACN,CACE,GAAI,MACJ,IAAK,oFACL,IAAK,6BACL,SAAU,WACV,UAAW,IAEb,CACE,GAAI,MACJ,IAAK,oFACL,IAAK,mBACL,SAAU,OACV,UAAW,GACb,EAEF,UAAW,CACT,CAAE,GAAI,OAAQ,KAAM,OAAQ,SAAU,cACtC,CAAE,GAAI,MAAO,KAAM,MAAO,SAAU,WACpC,CAAE,GAAI,aAAc,KAAM,aAAc,SAAU,UAClD,CAAE,GAAI,MAAO,KAAM,MAAO,SAAU,UACpC,CAAE,GAAI,YAAa,KAAM,YAAa,SAAU,UAAU,EAE5D,SAAU,CACR,QAAS,gCACT,KAAM,WACN,QAAS,MACT,YAAa,CAAE,IAAK,QAAS,IAAK,QAAS,EAE7C,aAAc,CAAE,MAAO,IAAM,SAAU,GAAM,QAAS,KACtD,aAAc,CACZ,UAAW,GACX,YAAa,IAAI,OAAO,cACxB,gBAAiB,GACnB,EAEF,CACE,GAAI,IACJ,KAAM,yBACN,YAAa,yEACb,OAAQ,IACR,YAAa,IACb,WAAY,CACV,IAAK,IACL,IAAK,IACL,SAAU,MACV,WAAY,IACZ,cAAe,KAEjB,OAAQ,CACN,CACE,GAAI,MACJ,IAAK,oFACL,IAAK,0BACL,SAAU,WACV,UAAW,IAEb,CACE,GAAI,MACJ,IAAK,iFACL,IAAK,qBACL,SAAU,OACV,UAAW,GACb,EAEF,UAAW,CACT,CAAE,GAAI,SAAU,KAAM,gBAAiB,SAAU,cACjD,CAAE,GAAI,MAAO,KAAM,MAAO,SAAU,YACpC,CAAE,GAAI,aAAc,KAAM,aAAc,SAAU,UAClD,CAAE,GAAI,OAAQ,KAAM,OAAQ,SAAU,cACtC,CAAE,GAAI,YAAa,KAAM,YAAa,SAAU,UAAU,EAE5D,SAAU,CACR,QAAS,+BACT,KAAM,QACN,QAAS,MACT,YAAa,CAAE,IAAK,QAAS,IAAK,UAAU,EAE9C,aAAc,CAAE,OAAQ,IAAM,SAAU,IAAM,UAAW,KACzD,aAAc,CACZ,UAAW,GACX,YAAa,IAAI,OAAO,cACxB,gBAAiB,GACnB,CAEJ,EAEA,MAAMC,EAAc,CACV,QAAW,iCACX,QAAU,IAElB,MAAM,aAAalT,EAA+C,CAChE,GAAI,CAEF,MAAM5B,EAAW,MAAMiU,EAAM,KAAK,GAAG,KAAK,OAAO,iBAAkB,CACjE,YAAarS,EAAO,YACpB,QAASA,EAAO,QAChB,SAAUA,EAAO,SACjB,OAAQ,KAAK,YAAYA,EAAO,MAAM,EACtC,MAAO,SAASA,EAAO,KAAK,GAAK,GAChC,CACD,QAAS,KAAK,QACd,QAAS,CACP,eAAgB,mBAChB,OAAU,mBACZ,CACD,EAED,MAAO,CACL,OAAQ5B,EAAS,KAAK,QAAU,GAChC,MAAOA,EAAS,KAAK,OAAS,EAC9B,KAAMA,EAAS,KAAK,MAAQ,EAC5B,MAAOA,EAAS,KAAK,OAAS,GAElC,OAAS3O,EAAO,CACdujB,EAAO,KAAK,uEAAwE,CAClF,UAAW,gBACX,OAAQ,eACR,YAAahT,EAAO,YACpB,MAAOvQ,aAAiB,MAAQA,EAAM,QAAU,gBAChD,iBAAkB,qBACnB,EAGD,MAAM0jB,EAAiB,KAAK,iBAAiBnT,EAAO,WAAW,EAE/D,MAAO,CACL,OAAQmT,EACR,MAAOA,EAAe,OACtB,KAAM,EACN,MAAO,GAEX,CACF,CAEQ,YAAYC,EAA4D,CAG9E,MAAO,CAAE,OADM,SAASA,EAAa,MAAM,gBAAgB,IAAI,CAAC,GAAK,GAAG,EACvD,SAAU,EAC7B,CAEQ,iBAAiBC,EAA8B,CACrD,GAAI,CAACA,EAAY,OACf,OAAOJ,GAGT,MAAMK,EAAaD,EAAY,cAGzBE,EAAWN,GAAW,OAAOO,GAAS,CAC1C,MAAMC,EAAYD,EAAM,KAAK,cACvBE,EAAgBF,EAAM,SAAS,QAAQ,cACvCG,EAAmBH,EAAM,YAAY,cAE3C,OAAOC,EAAU,SAASH,CAAU,GAC7BI,EAAc,SAASJ,CAAU,GACjCK,EAAiB,SAASL,CAAU,GACpC,KAAK,uBAAuBA,EAAYE,CAAK,CACtD,CAAC,EAED,OAAOD,EAAS,OAAS,EAAIA,EAAWN,EAC1C,CAEQ,uBAAuBK,EAAoBE,EAAuB,CACxE,MAAMI,EAAa,CAAC,QAAS,QAAS,UAAW,UAAW,YAAY,EAClEC,EAAY,CAAC,OAAQ,QAAS,WAAY,cAAc,EACxDC,EAAgB,CAAC,WAAY,SAAU,aAAc,SAAU,SAAS,EAExEC,EAAgBH,EAAW,QAAaN,EAAW,SAASU,CAAI,CAAC,EACjEC,EAAeJ,EAAU,QAAaP,EAAW,SAASU,CAAI,CAAC,EAC/DE,EAAmBJ,EAAc,QAAaR,EAAW,SAASU,CAAI,CAAC,EAEvEG,EAAY,KAAK,aAAaX,CAAK,EAEzC,OAAQO,GAAiBI,IAAc,SAC/BF,GAAgBE,IAAc,QAC9BD,GAAoBC,IAAc,UAC5C,CAEQ,aAAaX,EAAsB,CACzC,MAAMlX,EAAOkX,EAAM,KAAK,cAClBY,EAAcZ,EAAM,YAAY,cAEtC,OAAIlX,EAAK,SAAS,QAAQ,GAAK8X,EAAY,SAAS,OAAO,GAAKA,EAAY,SAAS,OAAO,EACnF,QAEL9X,EAAK,SAAS,OAAO,GAAKA,EAAK,SAAS,UAAU,GAAK8X,EAAY,SAAS,UAAU,EACjF,OAEL9X,EAAK,SAAS,OAAO,GAAKA,EAAK,SAAS,SAAS,GAAK8X,EAAY,SAAS,UAAU,EAChF,WAGF,SACT,CAEA,MAAM,gBAAgBC,EAAwC,CAC5D,GAAI,CAIF,OAHiB,MAAMhC,EAAM,IAAI,GAAG,KAAK,OAAO,WAAWgC,CAAO,GAAI,CACpE,QAAS,KAAK,QACf,GACe,KAAK,KACvB,OAAS5kB,EAAO,CACd,OAAAujB,EAAO,KAAK,0DAA2D,CACrE,UAAW,gBACX,OAAQ,kBACR,QAAAqB,EACA,MAAO5kB,aAAiB,MAAQA,EAAM,QAAU,gBAChD,iBAAkB,kBACnB,EACMwjB,GAAW,KAAKrS,GAAKA,EAAE,KAAOyT,CAAO,GAAK,IACnD,CACF,CAEA,MAAM,eAAehrB,EAAkC,CACrD,GAAI,CAACA,GAASA,EAAM,OAAS,EAC3B,MAAO,GAGT,GAAI,CAKF,OAJiB,MAAMgpB,EAAM,IAAI,GAAG,KAAK,OAAO,sBAAuB,CACrE,OAAQ,CAAE,EAAGhpB,CAAA,EACb,QAAS,IACV,GACe,KAAK,aAAe,EACtC,MAAgB,CAed,MAbwB,CACtB,eACA,kBACA,kBACA,gBACA,aACA,eACA,mBACA,aACA,oBACA,eAGqB,UACrBirB,EAAW,cAAc,SAASjrB,EAAM,aAAa,GACrD,MAAM,EAAG,CAAC,CACd,CACF,CACF,CAEO,MAAMkrB,GAAgB,IAAIrB,SC3U3BsB,GAAmBC,GAAgB,CACvC,IAAI9iB,EACJ,MAAM+iB,MAAgC,IAChCC,EAAW,CAACC,EAASC,IAAY,CACrC,MAAMC,EAAY,OAAOF,GAAY,WAAaA,EAAQjjB,CAAK,EAAIijB,EACnE,GAAI,CAAC,OAAO,GAAGE,EAAWnjB,CAAK,EAAG,CAChC,MAAMojB,EAAgBpjB,EACtBA,EAASkjB,IAA4B,OAAOC,GAAc,UAAYA,IAAc,MAAQA,EAAY,OAAO,OAAO,GAAInjB,EAAOmjB,CAAS,EAC1IJ,EAAU,QAASjsB,GAAaA,EAASkJ,EAAOojB,CAAa,CAAC,CAChE,CACF,EACMC,EAAW,IAAMrjB,EAcjBsjB,EAAM,CAAE,SAAAN,EAAU,SAAAK,EAAU,gBAbV,IAAME,EAaqB,UAZhCzsB,IACjBisB,EAAU,IAAIjsB,CAAQ,EACf,IAAMisB,EAAU,OAAOjsB,CAAQ,GAUsB,QAR9C,IAAM,EACf0sB,GAAkB,aAAuB,UAAY,cACxD,QAAQ,KACN,0MAGJT,EAAU,OACZ,CAC8D,EACxDQ,EAAevjB,EAAQ8iB,EAAYE,EAAUK,EAAUC,CAAG,EAChE,OAAOA,CACT,EACMG,GAAeX,GAAgBA,EAAcD,GAAgBC,CAAW,EAAID;;;;;;;;6CClBlF,IAAIa,EAAQ5tB,GAAA,EACZ,SAAS6tB,EAAGvjB,EAAGwjB,EAAG,CAChB,OAAQxjB,IAAMwjB,IAAYxjB,IAAN,GAAW,EAAIA,IAAM,EAAIwjB,IAAQxjB,IAAMA,GAAKwjB,IAAMA,CACxE,CACA,IAAIC,EAA0B,OAAO,OAAO,IAA7B,WAAkC,OAAO,GAAKF,EAC3DG,EAAWJ,EAAM,SACjBK,EAAYL,EAAM,UAClBM,EAAkBN,EAAM,gBACxBO,EAAgBP,EAAM,cACxB,SAASQ,EAAuBC,EAAWC,EAAa,CACtD,IAAI/sB,EAAQ+sB,EAAW,EACrBC,EAAYP,EAAS,CAAE,KAAM,CAAE,MAAOzsB,EAAO,YAAa+sB,CAAW,EAAI,EACzEE,EAAOD,EAAU,CAAC,EAAE,KACpBE,EAAcF,EAAU,CAAC,EAC3B,OAAAL,EACE,UAAY,CACVM,EAAK,MAAQjtB,EACbitB,EAAK,YAAcF,EACnBI,EAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAI,CAAE,CAChE,EACI,CAACH,EAAW9sB,EAAO+sB,CAAW,GAEhCL,EACE,UAAY,CACV,OAAAS,EAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAI,CAAE,EACnDH,EAAU,UAAY,CAC3BK,EAAuBF,CAAI,GAAKC,EAAY,CAAE,KAAMD,CAAI,CAAE,CAClE,CAAO,CACP,EACI,CAACH,CAAS,GAEZF,EAAc5sB,CAAK,EACZA,CACT,CACA,SAASmtB,EAAuBF,EAAM,CACpC,IAAIG,EAAoBH,EAAK,YAC7BA,EAAOA,EAAK,MACZ,GAAI,CACF,IAAII,EAAYD,EAAiB,EACjC,MAAO,CAACZ,EAASS,EAAMI,CAAS,CACpC,MAAkB,CACd,MAAO,EACX,CACA,CACA,SAASC,EAAuBR,EAAWC,EAAa,CACtD,OAAOA,EAAW,CACpB,CACA,IAAIQ,EACc,OAAO,OAAvB,KACgB,OAAO,OAAO,SAA9B,KACgB,OAAO,OAAO,SAAS,cAAvC,IACID,EACAT,EACN,OAAAW,GAAA,qBACanB,EAAM,uBAAjB,OAAwCA,EAAM,qBAAuBkB,2CC9DrEE,GAAA,QAAiBhvB,GAAA;;;;;;;;6CCQnB,IAAI4tB,EAAQ5tB,GAAA,EACV8uB,EAAOG,GAAA,EACT,SAASpB,EAAGvjB,EAAGwjB,EAAG,CAChB,OAAQxjB,IAAMwjB,IAAYxjB,IAAN,GAAW,EAAIA,IAAM,EAAIwjB,IAAQxjB,IAAMA,GAAKwjB,IAAMA,CACxE,CACA,IAAIC,EAA0B,OAAO,OAAO,IAA7B,WAAkC,OAAO,GAAKF,EAC3DqB,EAAuBJ,EAAK,qBAC5BK,EAASvB,EAAM,OACfK,EAAYL,EAAM,UAClBwB,EAAUxB,EAAM,QAChBO,EAAgBP,EAAM,cACxB,OAAAyB,GAAA,iCAA2C,SACzChB,EACAC,EACAgB,EACAC,EACAC,EACA,CACA,IAAIC,EAAUN,EAAO,IAAI,EACzB,GAAaM,EAAQ,UAAjB,KAA0B,CAC5B,IAAIjB,EAAO,CAAE,SAAU,GAAI,MAAO,IAAI,EACtCiB,EAAQ,QAAUjB,CACtB,MAASA,EAAOiB,EAAQ,QACtBA,EAAUL,EACR,UAAY,CACV,SAASM,EAAiBC,EAAc,CACtC,GAAI,CAACC,EAAS,CAIZ,GAHAA,EAAU,GACVC,EAAmBF,EACnBA,EAAeJ,EAASI,CAAY,EACrBH,IAAX,QAAsBhB,EAAK,SAAU,CACvC,IAAIsB,EAAmBtB,EAAK,MAC5B,GAAIgB,EAAQM,EAAkBH,CAAY,EACxC,OAAQI,EAAoBD,CAC1C,CACU,OAAQC,EAAoBJ,CACtC,CAEQ,GADAG,EAAmBC,EACfhC,EAAS8B,EAAkBF,CAAY,EAAG,OAAOG,EACrD,IAAIE,EAAgBT,EAASI,CAAY,EACzC,OAAeH,IAAX,QAAsBA,EAAQM,EAAkBE,CAAa,GACvDH,EAAmBF,EAAeG,IAC5CD,EAAmBF,EACXI,EAAoBC,EACpC,CACM,IAAIJ,EAAU,GACZC,EACAE,EACAE,EACaX,IAAX,OAA+B,KAAOA,EAC1C,MAAO,CACL,UAAY,CACV,OAAOI,EAAiBpB,GAAa,CAC/C,EACiB2B,IAAT,KACI,OACA,UAAY,CACV,OAAOP,EAAiBO,GAAwB,CAC9D,EAEA,EACI,CAAC3B,EAAagB,EAAmBC,EAAUC,CAAO,GAEpD,IAAIjuB,EAAQ2tB,EAAqBb,EAAWoB,EAAQ,CAAC,EAAGA,EAAQ,CAAC,CAAC,EAClE,OAAAxB,EACE,UAAY,CACVO,EAAK,SAAW,GAChBA,EAAK,MAAQjtB,CACnB,EACI,CAACA,CAAK,GAER4sB,EAAc5sB,CAAK,EACZA,CACT,2CCjFE2uB,GAAA,QAAiBlwB,GAAA,gDCEb,CAAE,cAAAmuB,IAAkBgC,EACpB,CAAE,iCAAAC,IAAqCC,GAC7C,IAAIC,GAAyB,GAC7B,MAAMC,GAAYC,GAAQA,EAC1B,SAASC,GAASjD,EAAK+B,EAAWgB,GAAUG,EAAY,EACjDhD,GAAkB,aAAuB,UAAY,cAAgBgD,GAAc,CAACJ,KACvF,QAAQ,KACN,0NAEFA,GAAyB,IAE3B,MAAMK,EAAQP,GACZ5C,EAAI,UACJA,EAAI,SACJA,EAAI,gBAAkBA,EAAI,gBAC1B+B,EACAmB,CAAA,EAEF,OAAAvC,GAAcwC,CAAK,EACZA,CACT,CACA,MAAMC,GAAc5D,GAAgB,EAC7BU,GAAkB,aAAuB,UAAY,cAAgB,OAAOV,GAAgB,YAC/F,QAAQ,KACN,mIAGJ,MAAMQ,EAAM,OAAOR,GAAgB,WAAaW,GAAYX,CAAW,EAAIA,EACrE6D,EAAgB,CAACtB,EAAUmB,IAAeD,GAASjD,EAAK+B,EAAUmB,CAAU,EAClF,cAAO,OAAOG,EAAerD,CAAG,EACzBqD,CACT,EACMC,GAAU9D,GAAwD4D,wlBC3BlEG,OAAyC,IACzCC,GAA6Bnc,GAAS,CAC1C,MAAM2Y,EAAMuD,GAAmB,IAAIlc,CAAI,EACvC,OAAK2Y,EACE,OAAO,YACZ,OAAO,QAAQA,EAAI,MAAM,EAAE,IAAI,CAAC,CAACpqB,EAAK6tB,CAAI,IAAM,CAAC7tB,EAAK6tB,EAAK,UAAU,CAAC,GAFvD,EAInB,EACMC,GAA+B,CAACC,EAAOC,EAAoBruB,IAAY,CAC3E,GAAIouB,IAAU,OACZ,MAAO,CACL,KAAM,YACN,WAAYC,EAAmB,QAAQruB,CAAO,GAGlD,MAAMsuB,EAAqBN,GAAmB,IAAIhuB,EAAQ,IAAI,EAC9D,GAAIsuB,EACF,MAAO,CAAE,KAAM,UAAW,MAAAF,EAAO,GAAGE,CAAA,EAEtC,MAAMC,EAAgB,CACpB,WAAYF,EAAmB,QAAQruB,CAAO,EAC9C,OAAQ,EAAC,EAEX,OAAAguB,GAAmB,IAAIhuB,EAAQ,KAAMuuB,CAAa,EAC3C,CAAE,KAAM,UAAW,MAAAH,EAAO,GAAGG,CAAA,CACtC,EACMC,GAAe,CAACroB,EAAIsoB,EAAkB,KAAO,CAACC,EAAKC,EAAKlE,IAAQ,CACpE,KAAM,CAAE,QAAA1rB,EAAS,oBAAA6vB,EAAqB,MAAAR,EAAO,GAAGpuB,GAAYyuB,EAC5D,IAAIJ,EACJ,GAAI,CACFA,GAAsBtvB,IAA6B4rB,GAAkB,aAAuB,UAAY,eAAiB,OAAO,4BAClI,MAAa,CACb,CACA,GAAI,CAAC0D,EACH,OAAK1D,GAAkB,aAAuB,UAAY,cAAgB5rB,GACxE,QAAQ,KACN,gFAGGoH,EAAGuoB,EAAKC,EAAKlE,CAAG,EAEzB,KAAM,CAAE,WAAAoE,EAAY,GAAGC,CAAA,EAA0BX,GAA6BC,EAAOC,EAAoBruB,CAAO,EAChH,IAAI+uB,EAAc,GAClBtE,EAAI,SAAW,CAACtjB,EAAOkjB,EAAS2E,IAAiB,CAC/C,MAAMC,EAAIP,EAAIvnB,EAAOkjB,CAAO,EAC5B,GAAI,CAAC0E,EAAa,OAAOE,EACzB,MAAM/mB,EAAS8mB,IAAiB,OAAS,CAAE,KAAMJ,GAAuB,aAAgB,OAAOI,GAAiB,SAAW,CAAE,KAAMA,GAAiBA,EACpJ,OAAIZ,IAAU,QACkBS,GAAW,KAAK3mB,EAAQymB,GAAK,EACpDM,IAEqBJ,GAAW,KACvC,CACE,GAAG3mB,EACH,KAAM,GAAGkmB,CAAK,IAAIlmB,EAAO,IAAI,IAE/B,CACE,GAAG+lB,GAA0BjuB,EAAQ,IAAI,EACzC,CAACouB,CAAK,EAAG3D,EAAI,UAAS,CACxB,EAEKwE,EACT,EACA,MAAMC,EAAuB,IAAI1xB,IAAM,CACrC,MAAM2xB,EAAsBJ,EAC5BA,EAAc,GACdL,EAAI,GAAGlxB,CAAC,EACRuxB,EAAcI,CAChB,EACMzE,EAAevkB,EAAGskB,EAAI,SAAUkE,EAAKlE,CAAG,EAc9C,GAbIqE,EAAsB,OAAS,YACHD,GAAW,KAAKnE,CAAY,GAE1DoE,EAAsB,OAAOA,EAAsB,KAAK,EAAIrE,EAC9BoE,GAAW,KACvC,OAAO,YACL,OAAO,QAAQC,EAAsB,MAAM,EAAE,IAAI,CAAC,CAACzuB,EAAK+uB,CAAM,IAAM,CAClE/uB,EACAA,IAAQyuB,EAAsB,MAAQpE,EAAe0E,EAAO,UAAS,CACtE,EACH,GAGA3E,EAAI,sBAAwB,OAAOA,EAAI,UAAa,WAAY,CAClE,IAAI4E,EAAiC,GACrC,MAAMC,EAAmB7E,EAAI,SAC7BA,EAAI,SAAW,IAAIjtB,IAAM,EAClBmtB,GAAkB,aAAuB,UAAY,cAAgBntB,EAAE,CAAC,EAAE,OAAS,cAAgB,CAAC6xB,IACvG,QAAQ,KACN,sHAEFA,EAAiC,IAEnCC,EAAiB,GAAG9xB,CAAC,CACvB,CACF,CACA,OAAAqxB,EAAW,UAAWpb,GAAY,CAChC,IAAI8b,EACJ,OAAQ9b,EAAQ,MACd,IAAK,SACH,GAAI,OAAOA,EAAQ,SAAY,SAAU,CACvC,QAAQ,MACN,2DAEF,MACF,CACA,OAAO+b,GACL/b,EAAQ,QACPvL,GAAW,CACV,GAAIA,EAAO,OAAS,aAAc,CAChC,GAAIkmB,IAAU,OAAQ,CACpBc,EAAqBhnB,EAAO,KAAK,EACjC,MACF,CACI,OAAO,KAAKA,EAAO,KAAK,EAAE,SAAW,GACvC,QAAQ,MACN;AAAA;AAAA;AAAA;AAAA,uBAOJ,MAAMunB,EAAoBvnB,EAAO,MAAMkmB,CAAK,EAC5C,GAAoCqB,GAAsB,KACxD,OAEE,KAAK,UAAUhF,EAAI,UAAU,IAAM,KAAK,UAAUgF,CAAiB,GACrEP,EAAqBO,CAAiB,EAExC,MACF,CACKhF,EAAI,sBACL,OAAOA,EAAI,UAAa,YAC5BA,EAAI,SAASviB,CAAM,CACrB,GAEJ,IAAK,WACH,OAAQuL,EAAQ,QAAQ,MACtB,IAAK,QAEH,OADAyb,EAAqBxE,CAAY,EAC7B0D,IAAU,OACyBS,GAAW,KAAKpE,EAAI,UAAU,EAEhCoE,GAAW,KAAKZ,GAA0BjuB,EAAQ,IAAI,CAAC,EAC9F,IAAK,SACH,GAAIouB,IAAU,OAAQ,CACUS,GAAW,KAAKpE,EAAI,UAAU,EAC5D,MACF,CACA,OAAqCoE,GAAW,KAAKZ,GAA0BjuB,EAAQ,IAAI,CAAC,EAC9F,IAAK,WACH,OAAOwvB,GAAc/b,EAAQ,MAAQtM,GAAU,CAC7C,GAAIinB,IAAU,OAAQ,CACpBc,EAAqB/nB,CAAK,EACI0nB,GAAW,KAAKpE,EAAI,UAAU,EAC5D,MACF,CACAyE,EAAqB/nB,EAAMinB,CAAK,CAAC,EACHS,GAAW,KAAKZ,GAA0BjuB,EAAQ,IAAI,CAAC,CACvF,CAAC,EACH,IAAK,gBACL,IAAK,iBACH,OAAOwvB,GAAc/b,EAAQ,MAAQtM,GAAU,CAC7C,GAAIinB,IAAU,OAAQ,CACpBc,EAAqB/nB,CAAK,EAC1B,MACF,CACI,KAAK,UAAUsjB,EAAI,UAAU,IAAM,KAAK,UAAUtjB,EAAMinB,CAAK,CAAC,GAChEc,EAAqB/nB,EAAMinB,CAAK,CAAC,CAErC,CAAC,EACH,IAAK,eAAgB,CACnB,KAAM,CAAE,gBAAAsB,GAAoBjc,EAAQ,QAC9Bkc,GAAqBJ,EAAKG,EAAgB,eAAe,MAAM,EAAE,EAAE,CAAC,IAAM,KAAO,OAASH,EAAG,MACnG,GAAI,CAACI,EAAmB,OAEtBT,EADEd,IAAU,OACSuB,EAEAA,EAAkBvB,CAAK,CAFN,EAIVS,GAAW,KACvC,KAEAa,CAAA,EAEF,MACF,CACA,IAAK,kBACH,OAAOX,EAAc,CAACA,CAAA,CAE1B,OAEN,CAAC,EACMrE,CACT,EACMkF,GAAWpB,GACXgB,GAAgB,CAACK,EAAa7yB,IAAM,CACxC,IAAI2b,EACJ,GAAI,CACFA,EAAS,KAAK,MAAMkX,CAAW,CACjC,OAASjyB,EAAG,CACV,QAAQ,MACN,kEACAA,CAAA,CAEJ,CACI+a,IAAW,QAAQ3b,EAAE2b,CAAM,CACjC,EA6BA,SAASmX,GAAkBC,EAAY/vB,EAAS,CAC9C,IAAIgwB,EACJ,GAAI,CACFA,EAAUD,EAAA,CACZ,MAAa,CACX,MACF,CAsBA,MArBuB,CACrB,QAAUje,GAAS,CACjB,IAAIyd,EACJ,MAAMU,EAASC,GACTA,IAAS,KACJ,KAEF,KAAK,MAAMA,EAAwB,MAAwB,EAE9DljB,GAAOuiB,EAAKS,EAAQ,QAAQle,CAAI,IAAM,KAAOyd,EAAK,KACxD,OAAIviB,aAAe,QACVA,EAAI,KAAKijB,CAAK,EAEhBA,EAAMjjB,CAAG,CAClB,EACA,QAAS,CAAC8E,EAAMqe,IAAaH,EAAQ,QACnCle,EACA,KAAK,UAAUqe,EAA4B,MAAyB,GAEtE,WAAare,GAASke,EAAQ,WAAWle,CAAI,EAGjD,CACA,MAAMse,GAAcjqB,GAAQ7H,GAAU,CACpC,GAAI,CACF,MAAM8B,EAAS+F,EAAG7H,CAAK,EACvB,OAAI8B,aAAkB,QACbA,EAEF,CACL,KAAKqmB,EAAa,CAChB,OAAO2J,GAAW3J,CAAW,EAAErmB,CAAM,CACvC,EACA,MAAMiwB,EAAa,CACjB,OAAO,IACT,EAEJ,OAASzyB,EAAG,CACV,MAAO,CACL,KAAK0yB,EAAc,CACjB,OAAO,IACT,EACA,MAAM5J,EAAY,CAChB,OAAO0J,GAAW1J,CAAU,EAAE9oB,CAAC,CACjC,EAEJ,CACF,EACM2yB,GAAU,CAACrsB,EAAQssB,IAAgB,CAAC9B,EAAKC,EAAKlE,IAAQ,CAC1D,IAAIzqB,EAAU,CACZ,WAAY,IAAM,aAClB,UAAW,KAAK,UAChB,YAAa,KAAK,MAClB,WAAamH,GAAUA,EACvB,QAAS,EACT,MAAO,CAACspB,EAAgBC,KAAkB,CACxC,GAAGA,EACH,GAAGD,CAAA,GAEL,GAAGD,CAAA,EAEDG,EAAc,GAClB,MAAMC,MAAyC,IACzCC,MAA+C,IACrD,IAAIb,EACJ,GAAI,CACFA,EAAUhwB,EAAQ,YACpB,MAAa,CACb,CACA,GAAI,CAACgwB,EACH,OAAO9rB,EACL,IAAIgC,IAAS,CACX,QAAQ,KACN,uDAAuDlG,EAAQ,IAAI,kDAErE0uB,EAAI,GAAGxoB,CAAI,CACb,EACAyoB,EACAlE,CAAA,EAGJ,MAAMqG,EAAoBV,GAAWpwB,EAAQ,SAAS,EAChD+wB,EAAU,IAAM,CACpB,MAAM5pB,EAAQnH,EAAQ,WAAW,CAAE,GAAG2uB,EAAA,EAAO,EAC7C,IAAIqC,EACJ,MAAM1tB,EAAWwtB,EAAkB,CAAE,MAAA3pB,EAAO,QAASnH,EAAQ,QAAS,EAAE,KACrEixB,GAAoBjB,EAAQ,QAAQhwB,EAAQ,KAAMixB,CAAe,GAClE,MAAOrzB,GAAM,CACbozB,EAAcpzB,CAChB,CAAC,EACD,GAAIozB,EACF,MAAMA,EAER,OAAO1tB,CACT,EACM4tB,EAAgBzG,EAAI,SAC1BA,EAAI,SAAW,CAACtjB,EAAOkjB,IAAY,CACjC6G,EAAc/pB,EAAOkjB,CAAO,EACvB0G,EAAA,CACP,EACA,MAAMI,EAAejtB,EACnB,IAAIgC,IAAS,CACXwoB,EAAI,GAAGxoB,CAAI,EACN6qB,EAAA,CACP,EACApC,EACAlE,CAAA,EAEF,IAAI2G,EACJ,MAAMC,EAAU,IAAM,CACpB,IAAI9B,EACJ,GAAI,CAACS,EAAS,OACdW,EAAc,GACdC,EAAmB,QAASrrB,GAAOA,EAAGopB,EAAA,CAAK,CAAC,EAC5C,MAAM2C,IAA4B/B,EAAKvvB,EAAQ,qBAAuB,KAAO,OAASuvB,EAAG,KAAKvvB,EAAS2uB,EAAA,CAAK,IAAM,OAClH,OAAOyB,GAAWJ,EAAQ,QAAQ,KAAKA,CAAO,CAAC,EAAEhwB,EAAQ,IAAI,EAAE,KAAMuxB,GAAiB,CACpF,GAAIA,EACF,OAAOvxB,EAAQ,YAAYuxB,CAAY,CAE3C,CAAC,EAAE,KAAMC,GAA6B,CACpC,GAAIA,EACF,GAAI,OAAOA,EAAyB,SAAY,UAAYA,EAAyB,UAAYxxB,EAAQ,QAAS,CAChH,GAAIA,EAAQ,QACV,OAAOA,EAAQ,QACbwxB,EAAyB,MACzBA,EAAyB,SAG7B,QAAQ,MACN,wFAEJ,KACE,QAAOA,EAAyB,KAGtC,CAAC,EAAE,KAAMC,GAAkB,CACzB,IAAIC,EACJ,OAAAN,EAAmBpxB,EAAQ,MACzByxB,GACCC,EAAM/C,MAAU,KAAO+C,EAAMP,CAAA,EAEhCzC,EAAI0C,EAAkB,EAAI,EACnBL,EAAA,CACT,CAAC,EAAE,KAAK,IAAM,CAC+BO,IAAwBF,EAAkB,MAAM,EAC3FT,EAAc,GACdE,EAAyB,QAAStrB,GAAOA,EAAG6rB,CAAgB,CAAC,CAC/D,CAAC,EAAE,MAAOxzB,GAAM,CAC6B0zB,IAAwB,OAAQ1zB,CAAC,CAC9E,CAAC,CACH,EACA,OAAA6sB,EAAI,QAAU,CACZ,WAAakH,GAAe,CAC1B3xB,EAAU,CACR,GAAGA,EACH,GAAG2xB,CAAA,EAEDA,EAAW,aACb3B,EAAU2B,EAAW,aAEzB,EACA,aAAc,IAAM,CACS3B,GAAQ,WAAWhwB,EAAQ,IAAI,CAC5D,EACA,WAAY,IAAMA,EAClB,UAAW,IAAMqxB,EAAA,EACjB,YAAa,IAAMV,EACnB,UAAYprB,IACVqrB,EAAmB,IAAIrrB,CAAE,EAClB,IAAM,CACXqrB,EAAmB,OAAOrrB,CAAE,CAC9B,GAEF,kBAAoBA,IAClBsrB,EAAyB,IAAItrB,CAAE,EACxB,IAAM,CACXsrB,EAAyB,OAAOtrB,CAAE,CACpC,EACF,EAEF8rB,EAAA,EACOD,GAAoBD,CAC7B,EACMS,GAAU,CAAC1tB,EAAQssB,IAAgB,CAAC9B,EAAKC,EAAKlE,IAAQ,CAC1D,IAAIzqB,EAAU,CACZ,QAAS8vB,GAAkB,IAAM,YAAY,EAC7C,WAAa3oB,GAAUA,EACvB,QAAS,EACT,MAAO,CAACspB,EAAgBC,KAAkB,CACxC,GAAGA,EACH,GAAGD,CAAA,GAEL,GAAGD,CAAA,EAEDG,EAAc,GAClB,MAAMC,MAAyC,IACzCC,MAA+C,IACrD,IAAIb,EAAUhwB,EAAQ,QACtB,GAAI,CAACgwB,EACH,OAAO9rB,EACL,IAAIgC,IAAS,CACX,QAAQ,KACN,uDAAuDlG,EAAQ,IAAI,kDAErE0uB,EAAI,GAAGxoB,CAAI,CACb,EACAyoB,EACAlE,CAAA,EAGJ,MAAMsG,EAAU,IAAM,CACpB,MAAM5pB,EAAQnH,EAAQ,WAAW,CAAE,GAAG2uB,EAAA,EAAO,EAC7C,OAAOqB,EAAQ,QAAQhwB,EAAQ,KAAM,CACnC,MAAAmH,EACA,QAASnH,EAAQ,QAClB,CACH,EACMkxB,EAAgBzG,EAAI,SAC1BA,EAAI,SAAW,CAACtjB,EAAOkjB,IAAY,CACjC6G,EAAc/pB,EAAOkjB,CAAO,EACvB0G,EAAA,CACP,EACA,MAAMI,EAAejtB,EACnB,IAAIgC,IAAS,CACXwoB,EAAI,GAAGxoB,CAAI,EACN6qB,EAAA,CACP,EACApC,EACAlE,CAAA,EAEFA,EAAI,gBAAkB,IAAM0G,EAC5B,IAAIC,EACJ,MAAMC,EAAU,IAAM,CACpB,IAAI9B,EAAIsC,EACR,GAAI,CAAC7B,EAAS,OACdW,EAAc,GACdC,EAAmB,QAASrrB,GAAO,CACjC,IAAImsB,EACJ,OAAOnsB,GAAImsB,EAAM/C,EAAA,IAAU,KAAO+C,EAAMP,CAAY,CACtD,CAAC,EACD,MAAMG,IAA4BO,EAAK7xB,EAAQ,qBAAuB,KAAO,OAAS6xB,EAAG,KAAK7xB,GAAUuvB,EAAKZ,EAAA,IAAU,KAAOY,EAAK4B,CAAY,IAAM,OACrJ,OAAOf,GAAWJ,EAAQ,QAAQ,KAAKA,CAAO,CAAC,EAAEhwB,EAAQ,IAAI,EAAE,KAAMwxB,GAA6B,CAChG,GAAIA,EACF,GAAI,OAAOA,EAAyB,SAAY,UAAYA,EAAyB,UAAYxxB,EAAQ,QAAS,CAChH,GAAIA,EAAQ,QACV,MAAO,CACL,GACAA,EAAQ,QACNwxB,EAAyB,MACzBA,EAAyB,QAC3B,EAGJ,QAAQ,MACN,wFAEJ,KACE,OAAO,CAAC,GAAOA,EAAyB,KAAK,EAGjD,MAAO,CAAC,GAAO,MAAM,CACvB,CAAC,EAAE,KAAMM,GAAoB,CAC3B,IAAIJ,EACJ,KAAM,CAACK,EAAUN,CAAa,EAAIK,EAMlC,GALAV,EAAmBpxB,EAAQ,MACzByxB,GACCC,EAAM/C,MAAU,KAAO+C,EAAMP,CAAA,EAEhCzC,EAAI0C,EAAkB,EAAI,EACtBW,EACF,OAAOhB,EAAA,CAEX,CAAC,EAAE,KAAK,IAAM,CAC+BO,IAAwBF,EAAkB,MAAM,EAC3FA,EAAmBzC,EAAA,EACnBgC,EAAc,GACdE,EAAyB,QAAStrB,GAAOA,EAAG6rB,CAAgB,CAAC,CAC/D,CAAC,EAAE,MAAOxzB,GAAM,CAC6B0zB,IAAwB,OAAQ1zB,CAAC,CAC9E,CAAC,CACH,EACA,OAAA6sB,EAAI,QAAU,CACZ,WAAakH,GAAe,CAC1B3xB,EAAU,CACR,GAAGA,EACH,GAAG2xB,CAAA,EAEDA,EAAW,UACb3B,EAAU2B,EAAW,QAEzB,EACA,aAAc,IAAM,CACS3B,GAAQ,WAAWhwB,EAAQ,IAAI,CAC5D,EACA,WAAY,IAAMA,EAClB,UAAW,IAAMqxB,EAAA,EACjB,YAAa,IAAMV,EACnB,UAAYprB,IACVqrB,EAAmB,IAAIrrB,CAAE,EAClB,IAAM,CACXqrB,EAAmB,OAAOrrB,CAAE,CAC9B,GAEF,kBAAoBA,IAClBsrB,EAAyB,IAAItrB,CAAE,EACxB,IAAM,CACXsrB,EAAyB,OAAOtrB,CAAE,CACpC,EACF,EAEGvF,EAAQ,eACXqxB,EAAA,EAEKD,GAAoBD,CAC7B,EACMa,GAAc,CAAC9tB,EAAQssB,IACvB,eAAgBA,GAAe,cAAeA,GAAe,gBAAiBA,IAC3E7F,GAAkB,aAAuB,UAAY,cACxD,QAAQ,KACN,kHAGG4F,GAAQrsB,EAAQssB,CAAW,GAE7BoB,GAAQ1tB,EAAQssB,CAAW,EAE9ByB,GAAUD,GC/jBVE,GAAgC,CACpC,WAAY,CAAC,EAAG,GAAI,EACpB,WAAY,GACZ,UAAW,GACX,SAAU,GACV,cAAe,CACb,qBAAsB,GACtB,kBAAmB,GACnB,iBAAkB,IAEpB,eAAgB,GAChB,SAAU,EACZ,EAEaC,GAAiBpE,GAAA,EAC5B6B,GACEqC,GACGvD,IAAS,CAER,MAAO,GACP,qBAAsB,GACtB,QAASwD,GACT,QAAS,GACT,QAAS,GACT,MAAO,KACP,WAAY,KACZ,iBAAkB,KAClB,kBAAmB,CACjB,QAAS,GACT,SAAU,IAEZ,WAAY,CACV,OAAQ,EACR,SAAU,EACV,MAAO,GAIT,SAAWrzB,GAAkB6vB,EAAI,CAAE,MAAA7vB,EAAO,EAE1C,wBAA0BA,GACxB6vB,EAAI,CAAE,qBAAsB7vB,EAAO,EAErC,WAAauzB,GACX1D,EAAKvnB,IAAW,CACd,QAAS,CAAE,GAAGA,EAAM,QAAS,GAAGirB,CAAA,CAAW,EAC3C,EAEJ,WAAaC,GAAY3D,EAAI,CAAE,QAAA2D,EAAS,EAExC,WAAaC,GAAY5D,EAAI,CAAE,QAAA4D,EAAS,EAExC,SAAWrtB,GAAUypB,EAAI,CAAE,MAAAzpB,EAAO,EAElC,cAAgBstB,GAAe7D,EAAI,CAAE,WAAA6D,EAAY,EAEjD,oBAAsBC,GAAqB9D,EAAI,CAAE,iBAAA8D,EAAkB,EAEnE,aAAc,CAACC,EAAiBC,IAC9BhE,EAAI,CAAE,kBAAmB,CAAE,QAAA+D,EAAS,SAAAC,CAAA,EAAY,EAElD,cAAe,CAACC,EAAgBvmB,EAAkBwmB,IAChDlE,EAAI,CAAE,WAAY,CAAE,OAAAiE,EAAQ,SAAAvmB,EAAU,MAAAwmB,CAAA,EAAS,EAEjD,YAAa,IACXlE,EAAI,CACF,MAAO,GACP,qBAAsB,GACtB,QAAS,GACT,MAAO,KACP,WAAY,KACZ,iBAAkB,KACnB,EAEH,aAAemE,GACbnE,EAAKvnB,IAAW,CACd,QAAS,CAAC,GAAGA,EAAM,QAAS,GAAG0rB,CAAM,GACrC,IAEN,CACE,KAAM,eACN,WAAa1rB,IAAW,CACtB,QAASA,EAAM,QACf,kBAAmBA,EAAM,kBACzB,WAAYA,EAAM,YACpB,CACF,EAEF,CAAE,KAAM,cAAc,CAE1B,ECxFM2rB,GAAsB,CAC1B,CAAE,KAAM,WAAY,QAAS,MAAO,SAAU,IAC9C,CAAE,KAAM,QAAS,QAAS,SAAU,SAAU,IAC9C,CAAE,KAAM,QAAS,QAAS,QAAS,SAAU,IAC7C,CAAE,KAAM,QAAS,QAAS,MAAO,SAAU,IAC3C,CAAE,KAAM,SAAU,QAAS,KAAM,SAAU,IAC3C,CAAE,KAAM,OAAQ,QAAS,YAAa,SAAU,IAChD,CAAE,KAAM,QAAS,QAAS,MAAO,SAAU,IAC3C,CAAE,KAAM,YAAa,QAAS,QAAS,SAAU,GACnD,EAGMC,GAAiB,CACrB,qBACA,sBACA,uBACF,EAOO,SAASC,GAAoB,CAAE,UAAAC,EAAY,GAAI,QAAAC,EAAU,IAAmC,CACjG,MAAMC,EAAWC,GAAA,EACXC,EAAYjH,SAAuB,IAAI,EACvCkH,EAAWlH,SAAyB,IAAI,EAExC,CAACvD,EAAa0K,CAAc,EAAItI,WAAS,EAAE,EAC3C,CAACwH,EAASe,CAAU,EAAIvI,WAAS,EAAE,EACnC,CAACyH,EAAUe,CAAW,EAAIxI,WAAS,EAAE,EACrC,CAACyI,EAAQC,CAAS,EAAI1I,WAAS,kBAAkB,EACjD,CAAC2I,EAAiBC,CAAkB,EAAI5I,WAAS,EAAK,EACtD,CAAC6I,EAAaC,CAAc,EAAI9I,WAAmB,EAAE,EACrD,CAAC+I,EAAoBC,CAAqB,EAAIhJ,WAAS,EAAE,EACzD,CAACiJ,EAAYC,CAAa,EAAIlJ,WAAS,EAAK,EAGlDC,YAAU,IAAM,CAuBd,MAAMkJ,EAAgB,WAtBC,SAAY,CACjC,GAAIvL,EAAY,OAAS,EACvB,GAAI,CACF,MAAMwL,EAAiB,MAAMtK,GAAc,eAAelB,CAAW,EACrEkL,EAAeM,CAAc,CAC/B,MAAgB,CAEd,MAAMtL,GAAW+J,GACd,WACCn1B,GAAE,KAAK,cAAc,SAASkrB,EAAY,aAAa,GACvDlrB,GAAE,QAAQ,cAAc,SAASkrB,EAAY,aAAa,GAE3D,IAAIlrB,IAAK,GAAGA,GAAE,IAAI,KAAKA,GAAE,OAAO,EAAE,EAClC,MAAM,EAAG,CAAC,EAEbo2B,EAAehL,EAAQ,CACzB,MAEAgL,EAAe,EAAE,CAErB,EAEiD,GAAG,EACpD,MAAO,IAAM,aAAaK,CAAa,CACzC,EAAG,CAACvL,CAAW,CAAC,EAGhBqC,YAAU,IAAM,CACd,MAAMoJ,EAAsBzrB,GAAsB,CAC5CwqB,EAAU,SAAW,CAACA,EAAU,QAAQ,SAASxqB,EAAM,MAAc,IACvEgrB,EAAmB,EAAK,EACxBM,EAAc,EAAK,EAEvB,EAEA,gBAAS,iBAAiB,YAAaG,CAAkB,EAClD,IAAM,SAAS,oBAAoB,YAAaA,CAAkB,CAC3E,EAAG,EAAE,EAEL,KAAM,CAAE,SAAAC,EAAU,WAAAC,EAAY,WAAAC,EAAY,SAAAC,CAAA,EAAavC,GAAA,EAEjDwC,EAAe,MAAO/2B,GAAwB,CAGlD,GAFAA,GAAG,iBAEC,CAACirB,EAAa,CAEhByK,EAAS,SAAS,QAClB,MACF,CAEA,GAAI,CACFkB,EAAW,EAAI,EACfE,EAAS,IAAI,EACbH,EAAS1L,CAAW,EAGpB,MAAM+L,EAAgB,MAAM7K,GAAc,aAAa,CACrD,YAAAlB,EACA,QAAS4J,GAAW,GACpB,SAAUC,GAAY,GACtB,OAAQgB,GAAU,mBAClB,MAAO,IACR,EAEDe,EAAWG,EAAc,MAAM,EAG/B,MAAM7B,EAAiB,KAAK,MAAM,aAAa,QAAQ,gBAAgB,GAAK,IAAI,EAC1E8B,GAAY,GAAGhM,CAAW,UAC3BkK,EAAe,SAAS8B,EAAS,IACpC9B,EAAe,QAAQ8B,EAAS,EAChC,aAAa,QAAQ,iBAAkB,KAAK,UAAU9B,EAAe,MAAM,EAAG,CAAC,CAAC,CAAC,GAInF,MAAMvd,GAAS,IAAI,gBAAgB,CACjC,YAAAqT,EACA,QAAS4J,GAAW,GACpB,SAAUC,GAAY,GACtB,OAAQgB,GAAU,mBAClB,MAAO,IACR,EAEDP,EAAS,WAAW3d,GAAO,UAAU,EAAE,CACzC,OAASvQ,EAAO,CACd,QAAQ,MAAM,iBAAkBA,CAAK,EACrCyvB,EAAS,kCAAkC,CAC7C,SACEF,EAAW,EAAK,EAChBX,EAAmB,EAAK,EACxBM,EAAc,EAAK,CACrB,CACF,EAEMW,EAAyBhL,GAAuB,CACpD,KAAM,CAACiL,CAAI,EAAIjL,EAAW,MAAM,GAAG,EACnCyJ,EAAewB,EAAK,MAAM,EAC1BlB,EAAmB,EAAK,EACxBc,EAAA,CACF,EAEMK,EAAmB,IAAM,CAC7BnB,EAAmB,EAAI,EACnBX,GAAW,CAACgB,GACdC,EAAc,EAAI,CAEtB,EAEMc,EAAiBr3B,GAA2B,CAC5CA,EAAE,MAAQ,aACZA,EAAE,iBACFq2B,EAAsBiB,GACpBA,GAAQpB,EAAY,OAAS,EAAIA,EAAY,OAAS,EAAIf,GAAe,OAAS,GAAKmC,EAAO,EAAIA,CAAA,GAE3Ft3B,EAAE,MAAQ,WACnBA,EAAE,iBACFq2B,EAAsBiB,GAAQA,EAAO,EAAIA,EAAO,EAAI,EAAE,GAC7Ct3B,EAAE,MAAQ,SACnBA,EAAE,iBACEo2B,GAAsB,EACpBF,EAAY,OAAS,EACvBgB,EAAsBhB,EAAYE,CAAkB,CAAC,EAC5CjB,GAAeiB,CAAkB,IAC1CT,EAAeR,GAAeiB,CAAkB,EAAE,QAAQ,UAAW,EAAE,CAAC,EACxEW,EAAA,GAGFA,EAAA,GAEO/2B,EAAE,MAAQ,WACnBi2B,EAAmB,EAAK,EACxBM,EAAc,EAAK,EACnBb,EAAS,SAAS,OAEtB,EAGM6B,MAAY,OAAO,cAAc,MAAM,GAAG,EAAE,CAAC,EAEnD,cACG,OAAI,IAAK9B,EAAW,UAAW,YAAYJ,CAAS,GACnD,UAAA3mB,MAAC,QAAK,SAAUqoB,EAAc,UAAU,SAErC,SAAAzB,GAAW,CAACgB,EACXkB,OAAC,OAAI,UAAU,0BAEb,UAAAA,OAAC,OAAI,UAAU,4MACb,UAAA9oB,MAAC+oB,GAAA,CAAO,UAAU,wBAAwB,cAAY,OAAO,EAC7D/oB,MAAC,SACC,IAAKgnB,EACL,GAAG,4BACH,KAAK,cACL,KAAK,OACL,MAAOzK,EACP,SAAWjrB,GAAM21B,EAAe31B,EAAE,OAAO,KAAK,EAC9C,QAASo3B,EACT,UAAWC,EACX,YAAY,iCACZ,aAAW,iCACX,gBAAerB,EACf,gBAAc,UACd,aAAa,cACb,UAAU,oEAEX/K,GACCvc,MAAC,UACC,KAAK,SACL,QAAS,IAAMinB,EAAe,EAAE,EAChC,aAAW,eACX,UAAU,wCAEV,SAAAjnB,MAACgpB,GAAA,CAAE,UAAU,UAAU,GACzB,EAEJ,EAGAF,OAAC,UACC,KAAK,SACL,aAAW,gBACX,UAAU,qJAEV,UAAA9oB,MAACipB,GAAA,CAAO,UAAU,UAAU,EAC5BjpB,MAAC,QAAK,UAAU,mBAAmB,kBAAM,IAC3C,EACF,EAGA8oB,OAAC,OAAI,UAAU,YAEb,UAAAA,OAAC,OAAI,UAAU,kCAEb,UAAAA,OAAC,OAAI,UAAU,kBACb,UAAA9oB,MAAC,SAAM,QAAQ,oBAAoB,UAAU,UAAU,qCAEvD,EACA8oB,OAAC,OAAI,UAAU,qMACb,UAAA9oB,MAAC+oB,GAAA,CAAO,UAAU,wBAAwB,cAAY,OAAO,EAC7D/oB,MAAC,SACC,GAAG,oBACH,KAAK,cACL,IAAKgnB,EACL,KAAK,OACL,MAAOzK,EACP,SAAWjrB,GAAM21B,EAAe31B,EAAE,OAAO,KAAK,EAC9C,QAASo3B,EACT,UAAWC,EACX,YAAY,gCACZ,aAAW,4BACX,gBAAerB,EACf,gBAAc,UACd,aAAa,cACb,UAAU,sEAEX/K,GACCvc,MAAC,UACC,KAAK,SACL,QAAS,IAAMinB,EAAe,EAAE,EAChC,aAAW,oBACX,UAAU,mGAEV,SAAAjnB,MAACgpB,GAAA,CAAE,UAAU,UAAU,GACzB,EAEJ,GACF,EAGAF,OAAC,OAAI,UAAU,UACb,UAAA9oB,MAAC,SAAM,QAAQ,gBAAgB,UAAU,UAAU,yBAEnD,EACA8oB,OAAC,OAAI,UAAU,qMACb,UAAA9oB,MAACkpB,GAAA,CAAS,UAAU,wBAAwB,cAAY,OAAO,EAC/DJ,OAAC,OAAI,UAAU,SACb,UAAA9oB,MAAC,OAAI,UAAU,6BAA6B,oBAAQ,EACpDA,MAAC,SACC,GAAG,gBACH,KAAK,UACL,KAAK,OACL,MAAOmmB,EACP,SAAW70B,GAAM41B,EAAW51B,EAAE,OAAO,KAAK,EAC1C,IAAKu3B,EACL,aAAW,gBACX,aAAa,UACb,UAAU,0DACZ,EACF,GACF,GACF,EAGAC,OAAC,OAAI,UAAU,UACb,UAAA9oB,MAAC,SAAM,QAAQ,iBAAiB,UAAU,UAAU,0BAEpD,EACA8oB,OAAC,OAAI,UAAU,qMACb,UAAA9oB,MAACkpB,GAAA,CAAS,UAAU,wBAAwB,cAAY,OAAO,EAC/DJ,OAAC,OAAI,UAAU,SACb,UAAA9oB,MAAC,OAAI,UAAU,6BAA6B,qBAAS,EACrDA,MAAC,SACC,GAAG,iBACH,KAAK,WACL,KAAK,OACL,MAAOomB,EACP,SAAW90B,GAAM61B,EAAY71B,EAAE,OAAO,KAAK,EAC3C,IAAK60B,GAAW0C,EAChB,aAAW,iBACX,aAAa,WACb,UAAU,0DACZ,EACF,GACF,GACF,EAGAC,OAAC,OAAI,UAAU,UACb,UAAA9oB,MAAC,SAAM,QAAQ,gBAAgB,UAAU,UAAU,sCAEnD,EACA8oB,OAAC,OAAI,UAAU,qMACb,UAAA9oB,MAACmpB,GAAA,CAAM,UAAU,wBAAwB,cAAY,OAAO,EAC5DL,OAAC,OAAI,UAAU,SACb,UAAA9oB,MAAC,OAAI,UAAU,6BAA6B,kBAAM,EAClD8oB,OAAC,UACC,GAAG,gBACH,KAAK,SACL,MAAO1B,EACP,SAAW91B,GAAM+1B,EAAU/1B,EAAE,OAAO,KAAK,EACzC,aAAW,6BACX,UAAU,wEAEV,UAAA0O,MAAC,UAAO,2BAAe,EACvBA,MAAC,UAAO,4BAAgB,EACxBA,MAAC,UAAO,6BAAiB,EACzBA,MAAC,UAAO,6BAAiB,EACzBA,MAAC,UAAO,6BAAiB,IAC3B,EACF,GACF,GACF,EAGA8oB,OAAC,UACC,KAAK,SACL,UAAU,sPACV,aAAW,oBAEX,UAAA9oB,MAACipB,GAAA,CAAO,UAAU,UAAU,EAC5BjpB,MAAC,QAAK,yBAAa,IACrB,EACF,EAGA8oB,OAAC,OAAI,UAAU,4CACb,UAAA9oB,MAAC,QAAK,UAAU,4BAA4B,yBAAa,EACxD,CAAC,eAAgB,aAAc,iBAAkB,YAAY,EAAE,IAAK8D,GACnE9D,MAAC,UAEC,KAAK,SACL,QAAS,IAAM,CACbinB,EAAenjB,CAAM,EACrBukB,EAAA,CACF,EACA,UAAU,0IACV,aAAY,cAAcvkB,EAAO,aAAa,GAE7C,SAAAA,CAAA,EATIA,CAAA,CAWR,GACH,GACF,EAEJ,EAGCwjB,GACCwB,OAAC,OACC,UAAU,2IACV,KAAK,UACL,aAAW,qBAGV,UAAAtB,EAAY,OAAS,GACpBsB,OAAC,OAAI,UAAU,MACb,UAAA9oB,MAAC,OAAI,UAAU,yEAAyE,uBAExF,EACCwnB,EAAY,IAAI,CAAChK,EAAYlgB,IAC5BwrB,OAAC,UAEC,KAAK,SACL,QAAS,IAAMN,EAAsBhL,CAAU,EAC/C,KAAK,SACL,gBAAekK,IAAuBpqB,EACtC,UAAW;AAAA;AAAA,sBAEPoqB,IAAuBpqB,EAAQ,cAAgB,kBAAkB;AAAA,oBAGrE,UAAA0C,MAAC+oB,GAAA,CAAO,UAAU,wBAAwB,cAAY,OAAO,EAC7D/oB,MAAC,QAAK,UAAU,UAAW,SAAAwd,EAAW,EACrCgJ,GAAoB,KAAKn1B,GAAKmsB,EAAW,SAASnsB,EAAE,IAAI,CAAC,GAAG,UAC3Dy3B,OAAC,QAAK,UAAU,sEACd,UAAA9oB,MAACopB,GAAA,CAAW,UAAU,UAAU,EAAE,YAEpC,IAhBG5L,CAAA,CAmBR,GACH,EAID,CAACjB,GAAekK,GAAe,OAAS,GACvCqC,OAAC,OAAI,UAAU,+BACb,UAAAA,OAAC,OAAI,UAAU,iGACb,UAAA9oB,MAACqpB,GAAA,CAAM,UAAU,UAAU,EAAE,mBAE/B,EACC5C,GAAe,IAAI,CAAC6C,EAAQhsB,IAC3B0C,MAAC,UAEC,KAAK,SACL,QAAS,IAAM,CACbinB,EAAeqC,EAAO,QAAQ,UAAW,EAAE,CAAC,EAC5CjB,EAAA,CACF,EACA,KAAK,SACL,gBAAeX,IAAuBF,EAAY,OAASlqB,EAC3D,UAAW;AAAA;AAAA,sBAEPoqB,IAAuBF,EAAY,OAASlqB,EAAQ,cAAgB,EAAE;AAAA,oBAGzE,SAAAgsB,CAAA,EAbIA,CAAA,CAeR,GACH,EAID,CAAC/M,GACAuM,OAAC,OAAI,UAAU,+BACb,UAAA9oB,MAAC,OAAI,UAAU,yEAAyE,gCAExF,EACAA,MAAC,OAAI,UAAU,yBACZ,SAAAwmB,GAAoB,MAAM,EAAG,CAAC,EAAE,IAAKpY,GACpC0a,OAAC,UAEC,KAAK,SACL,QAAS,IAAM,CACb7B,EAAe7Y,EAAK,IAAI,EACxBia,EAAA,CACF,EACA,UAAU,uFACV,aAAY,oBAAoBja,EAAK,IAAI,KAAKA,EAAK,OAAO,GAE1D,UAAApO,MAAC,OAAI,UAAU,8DACZ,SAAAoO,EAAK,KACR,EACApO,MAAC,OAAI,UAAU,wBAAyB,WAAK,QAAQ,IAZhDoO,EAAK,KAcb,EACH,GACF,IAEJ,EAEJ,CAEJ,CCzdO,SAASmb,IAAgB,CAC9B,MAAMC,EAAWC,GAAA,EACX,CAACC,EAAYC,CAAa,EAAIhL,WAAS,EAAK,EAC5C,CAACiL,EAAkBC,CAAmB,EAAIlL,WAAS,EAAK,EAE9DC,YAAU,IAAM,CACd,MAAMkL,EAAe,IAAM,CACzBH,EAAc,OAAO,QAAU,EAAE,CACnC,EACA,cAAO,iBAAiB,SAAUG,CAAY,EACvC,IAAM,OAAO,oBAAoB,SAAUA,CAAY,CAChE,EAAG,EAAE,EAGL,MAAMC,EAAW,CACf,CAAE,KAAM,gBAAiB,MAAO,gBAChC,CAAE,KAAM,SAAU,MAAO,UACzB,CAAE,KAAM,eAAgB,MAAO,eAC/B,CAAE,KAAM,WAAY,MAAO,UAAU,EAIvC,OACEjB,OAAAkB,WAAA,CAEE,UAAAhqB,MAAC,OAAI,UAAU,iDACb,SAAAA,MAAC,OAAI,UAAU,gCACb,SAAA8oB,OAAC,OAAI,UAAU,wCAEb,UAAAA,OAAC,OAAI,UAAU,0BACb,UAAAA,OAAC,KAAE,KAAK,mBAAmB,UAAU,kEACnC,UAAA9oB,MAACiqB,GAAA,CAAM,UAAU,UAAU,EAC3BjqB,MAAC,QAAK,wBAAY,GACpB,EACAA,MAAC,QAAK,UAAU,gBAAgB,aAAC,QAChC,KAAE,KAAK,IAAI,UAAU,wCAAwC,4BAE9D,GACF,EAGA8oB,OAAC,OAAI,UAAU,0BACb,UAAAA,OAAC,UAAO,UAAU,kEAChB,UAAA9oB,MAACkqB,GAAA,CAAM,UAAU,UAAU,EAC3BlqB,MAAC,QAAK,mBAAO,EACbA,MAACmqB,GAAA,CAAY,UAAU,UAAU,GACnC,EACAnqB,MAAC,QAAK,UAAU,gBAAgB,aAAC,EACjCA,MAAC,UAAO,UAAU,wCAAwC,eAE1D,GACF,GACF,EACF,EACF,EAGA8oB,OAAC,UACC,UAAW;AAAA;AAAA,YAEPY,EAAa,YAAc,0BAA0B;AAAA,UAGzD,UAAA1pB,MAAC,OAAI,UAAU,gCACb,SAAA8oB,OAAC,OAAI,UAAU,yCAEb,UAAAA,OAACsB,GAAA,CAAK,GAAG,IAAI,UAAU,4CAErB,UAAAtB,OAAC,OAAI,UAAU,wBAEb,UAAA9oB,MAAC,OAAI,UAAU,iDAAiD,cAEhE,EAEAA,MAAC,OAAI,UAAU,kDAAkD,cAEjE,EAEAA,MAAC,OAAI,UAAU,iDAAiD,cAEhE,GACF,EAGA8oB,OAAC,OAAI,UAAU,gBAEb,UAAA9oB,MAAC,OAAI,UAAU,mBACb,SAAAA,MAAC,QAAK,UAAU,mEAAmE,uBAEnF,EACF,EAEAA,MAAC,OAAI,UAAU,yCAAyC,+BAExD,GACF,GACF,QAGC,OAAI,UAAU,qCACZ,SAAA+pB,EAAS,IAAKx0B,GACbyK,MAACoqB,GAAA,CAEC,GAAI70B,EAAK,KACT,UAAW;AAAA;AAAA,sBAEPi0B,EAAS,WAAaj0B,EAAK,KACzB,gDACA,mCACJ;AAAA,oBAGD,SAAAA,EAAK,OAVDA,EAAK,KAYb,EACH,EAGAuzB,OAAC,OAAI,UAAU,0BAGb,UAAAA,OAAC,OAAI,UAAU,oCACb,UAAA9oB,MAACoqB,GAAA,CACC,GAAG,UACH,UAAU,yFACX,qBAGDpqB,MAAC,QAAK,UAAU,gBAAgB,aAAC,EACjCA,MAACoqB,GAAA,CACC,GAAG,QACH,UAAU,yFACX,iBAED,EACF,EAGApqB,MAACoqB,GAAA,CACC,GAAG,UACH,UAAU,0HACX,sBAKDpqB,MAAC,UACC,QAAS,IAAM6pB,EAAoB,CAACD,CAAgB,EACpD,UAAU,gBACV,aAAW,OAEV,SAAAA,QACEZ,GAAA,CAAE,UAAU,wBAAwB,EAErChpB,MAACqqB,GAAA,CAAK,UAAU,wBAAwB,GAE5C,EACF,GACF,EACF,EAGArqB,MAAC,OAAI,UAAU,2BACb,SAAAA,MAAC,OAAI,UAAU,qCACb,SAAAA,MAAC0mB,GAAA,CAAoB,UAAU,SAAS,EAC1C,EACF,EAGCkD,SACE,OAAI,UAAU,2CAA2C,QAAS,IAAMC,EAAoB,EAAK,EAChG,SAAAf,OAAC,OACC,UAAU,wDACV,QAAUx3B,GAAMA,EAAE,kBAGlB,UAAAw3B,OAAC,OAAI,UAAU,iEACb,UAAA9oB,MAAC,QAAK,UAAU,oCAAoC,gBAAI,EACxDA,MAAC,UACC,QAAS,IAAM6pB,EAAoB,EAAK,EACxC,UAAU,MAEV,SAAA7pB,MAACgpB,GAAA,CAAE,UAAU,wBAAwB,GACvC,EACF,EAGAF,OAAC,OAAI,UAAU,MACb,UAAA9oB,MAAC,OAAI,UAAU,YACZ,SAAA+pB,EAAS,IAAKx0B,GACbyK,MAACoqB,GAAA,CAEC,GAAI70B,EAAK,KACT,QAAS,IAAMs0B,EAAoB,EAAK,EACxC,UAAW;AAAA;AAAA,0BAEPL,EAAS,WAAaj0B,EAAK,KACzB,gBACA,eACJ;AAAA,wBAGD,SAAAA,EAAK,OAXDA,EAAK,KAab,EACH,EAGAuzB,OAAC,OAAI,UAAU,+CACb,UAAA9oB,MAACoqB,GAAA,CACC,GAAG,UACH,QAAS,IAAMP,EAAoB,EAAK,EACxC,UAAU,yDACX,qBAGD7pB,MAACoqB,GAAA,CACC,GAAG,QACH,QAAS,IAAMP,EAAoB,EAAK,EACxC,UAAU,yDACX,0BAGD7pB,MAACoqB,GAAA,CACC,GAAG,UACH,QAAS,IAAMP,EAAoB,EAAK,EACxC,UAAU,+FACX,qBAED,EACF,EAGA7pB,MAAC,OAAI,UAAU,qCACb,gBAAC,KAAE,KAAK,mBAAmB,UAAU,gDACnC,UAAAA,MAACiqB,GAAA,CAAM,UAAU,UAAU,EAC3BjqB,MAAC,QAAK,wBAAY,GACpB,EACF,GACF,IACF,CACF,IAEJ,EACF,CAEJ,CCxPO,SAASsqB,IAAqB,CAEnC,MAAMC,EAAiB,CACrB,CAAE,KAAM,OAAQ,KAAM,MACtB,CAAE,KAAM,aAAc,KAAM,MAC5B,CAAE,KAAM,OAAQ,KAAM,MACtB,CAAE,KAAM,SAAU,KAAM,MACxB,CAAE,KAAM,YAAa,KAAM,MAC3B,CAAE,KAAM,aAAc,KAAM,IAAI,EAG5BC,EAAc,CAClB,CAAE,KAAMC,GAAQ,MAAO,iBAAkB,YAAa,0BACtD,CAAE,KAAMC,GAAM,MAAO,kBAAmB,YAAa,kBACrD,CAAE,KAAMC,GAAO,MAAO,aAAc,YAAa,cACjD,CAAE,KAAMV,GAAO,MAAO,eAAgB,YAAa,sBAAsB,EAG3E,OACEnB,OAAC,UAAO,UAAU,kDAEhB,UAAA9oB,MAAC,OAAI,UAAU,oBACb,SAAAA,MAAC,OAAI,UAAU,8BACb,SAAAA,MAAC,OAAI,UAAU,wCACZ,SAAAwqB,EAAY,IAAKI,GAAU,CAC1B,MAAMC,EAAOD,EAAM,KACnB,OACE9B,OAAC,OAAsB,UAAU,yBAC/B,UAAA9oB,MAAC,OAAI,UAAU,4BACb,eAAC6qB,EAAA,CAAK,UAAU,wBAAwB,EAC1C,SACC,OACC,UAAA7qB,MAAC,MAAG,UAAU,sCAAuC,SAAA4qB,EAAM,MAAM,EACjE5qB,MAAC,KAAE,UAAU,6BAA8B,WAAM,YAAY,GAC/D,IAPQ4qB,EAAM,KAQhB,CAEJ,CAAC,EACH,EACF,EACF,EAGA9B,OAAC,OAAI,UAAU,+BACb,UAAAA,OAAC,OAAI,UAAU,uDAEb,UAAAA,OAAC,OAAI,UAAU,0BACb,UAAAA,OAAC,OACC,UAAA9oB,MAAC,MAAG,UAAU,wCAAwC,uBAAW,EACjEA,MAAC,KAAE,UAAU,wCAAwC,+JAGrD,GACF,EAGA8oB,OAAC,OAAI,UAAU,4BACb,UAAA9oB,MAAC,MAAG,UAAU,2CAA2C,+BAEzD,EACAA,MAAC,KAAE,UAAU,6BAA6B,sDAE1C,EACA8oB,OAAC,OAAI,UAAU,aACb,UAAA9oB,MAAC,SACC,KAAK,QACL,YAAY,qBACZ,UAAU,yHAEZA,MAAC,UAAO,UAAU,kFAChB,eAAC8qB,GAAA,CAAa,UAAU,UAAU,EACpC,GACF,GACF,EAGAhC,OAAC,OAAI,UAAU,aACb,UAAAA,OAAC,UAAO,UAAU,uGAChB,UAAA9oB,MAAC,QAAK,UAAU,UAAU,cAAE,EAC5B8oB,OAAC,OAAI,UAAU,YACb,UAAA9oB,MAAC,OAAI,UAAU,qBAAqB,2BAAe,EACnDA,MAAC,OAAI,UAAU,wBAAwB,qBAAS,GAClD,GACF,EACA8oB,OAAC,UAAO,UAAU,uGAChB,UAAA9oB,MAAC,QAAK,UAAU,UAAU,aAAC,EAC3B8oB,OAAC,OAAI,UAAU,YACb,UAAA9oB,MAAC,OAAI,UAAU,qBAAqB,qBAAS,EAC7CA,MAAC,OAAI,UAAU,wBAAwB,uBAAW,GACpD,GACF,GACF,GACF,SAGC,OACC,UAAAA,MAAC,MAAG,UAAU,oEAAoE,mBAElF,EACAA,MAAC,MAAG,UAAU,YACX,UAAC,eAAgB,iBAAkB,mBAAoB,kBAAmB,oBAAqB,iBAAiB,EAAE,IAAKzK,GACtHyK,MAAC,MACC,SAAAA,MAACoqB,GAAA,CAAK,GAAG,IAAI,UAAU,8DACpB,SAAA70B,CAAA,CACH,GAHOA,CAIT,CACD,EACH,GACF,SAGC,OACC,UAAAyK,MAAC,MAAG,UAAU,oEAAoE,oBAElF,EACAA,MAAC,MAAG,UAAU,YACX,UAAC,kBAAmB,aAAc,iBAAkB,gBAAiB,iBAAkB,kBAAkB,EAAE,IAAKzK,GAC/GyK,MAAC,MACC,SAAAA,MAACoqB,GAAA,CAAK,GAAG,IAAI,UAAU,8DACpB,SAAA70B,CAAA,CACH,GAHOA,CAIT,CACD,EACH,GACF,SAGC,OACC,UAAAyK,MAAC,MAAG,UAAU,oEAAoE,mBAElF,EACAA,MAAC,MAAG,UAAU,YACX,UAAC,cAAe,aAAc,iBAAkB,iBAAkB,OAAQ,UAAU,EAAE,IAAKzK,GAC1FyK,MAAC,MACC,SAAAA,MAACoqB,GAAA,CAAK,GAAG,IAAI,UAAU,8DACpB,SAAA70B,CAAA,CACH,GAHOA,CAIT,CACD,EACH,EAGAuzB,OAAC,OAAI,UAAU,iBACb,UAAAA,OAAC,OAAI,UAAU,gDACb,UAAA9oB,MAACiqB,GAAA,CAAM,UAAU,UAAU,EAC3BjqB,MAAC,QAAK,wBAAY,GACpB,EACA8oB,OAAC,OAAI,UAAU,gDACb,UAAA9oB,MAAC+qB,GAAA,CAAK,UAAU,UAAU,EAC1B/qB,MAAC,QAAK,kCAAsB,GAC9B,GACF,GACF,GACF,EAGA8oB,OAAC,OAAI,UAAU,sCACb,UAAAA,OAAC,OAAI,UAAU,+DAEb,UAAAA,OAAC,OAAI,UAAU,0BACb,UAAA9oB,MAAC,QAAK,UAAU,iDAAiD,qBAAS,QACzE,OAAI,UAAU,0BACZ,SAAAuqB,EAAe,IAAKte,GACnBjM,MAAC,OAEC,UAAU,qFACV,MAAOiM,EAAO,KAEd,SAAAjM,MAAC,QAAK,UAAU,UAAW,WAAO,KAAK,GAJlCiM,EAAO,KAMf,EACH,GACF,EAGA6c,OAAC,OAAI,UAAU,0BACb,UAAAA,OAAC,UAAO,UAAU,sFAChB,UAAA9oB,MAACkqB,GAAA,CAAM,UAAU,UAAU,EAC3BlqB,MAAC,QAAK,wBAAY,GACpB,EACAA,MAAC,UAAO,UAAU,8DAA8D,iBAEhF,GACF,GACF,EAGA8oB,OAAC,OAAI,UAAU,kGACb,UAAA9oB,MAAC,OAAI,UAAU,wBAAwB,0GAEvC,EACAA,MAAC,OAAI,UAAU,kCACZ,UAAC,iBAAkB,eAAgB,qBAAsB,UAAW,eAAe,EAAE,IAAKgrB,GACzFhrB,MAACoqB,GAAA,CAEC,GAAG,IACH,UAAU,sDAET,SAAAY,CAAA,EAJIA,CAAA,CAMR,EACH,GACF,EAGAlC,OAAC,OAAI,UAAU,mEACb,UAAA9oB,MAAC,QAAK,UAAU,wBAAwB,yBAAa,EACrDA,MAAC,QAAK,UAAU,sCAAsC,uBAAW,EACjEA,MAAC,QAAK,UAAU,sCAAsC,iBAAK,EAC3DA,MAAC,QAAK,UAAU,sCAAsC,mBAAO,EAC7DA,MAAC,QAAK,UAAU,sCAAsC,sBAAU,GAClE,GACF,GACF,GACF,CAEJ,CCnNO,SAASirB,GAAO,CAAE,SAAAnrB,GAAyB,CAChD,OACEgpB,OAAC,OAAI,UAAU,6BACb,UAAA9oB,MAACupB,GAAA,EAAc,EACfvpB,MAAC,QAAK,UAAU,SACb,SAAAF,CAAA,CACH,QACCwqB,GAAA,EAAmB,GACtB,CAEJ,CClBA,SAAS3H,GAAErxB,EAAE,CAAC,IAAI45B,EAAEx6B,EAAEK,EAAE,GAAG,GAAa,OAAOO,GAAjB,UAA8B,OAAOA,GAAjB,SAAmBP,GAAGO,UAAoB,OAAOA,GAAjB,SAAmB,GAAG,MAAM,QAAQA,CAAC,EAAE,CAAC,IAAIqD,EAAErD,EAAE,OAAO,IAAI45B,EAAE,EAAEA,EAAEv2B,EAAEu2B,IAAI55B,EAAE45B,CAAC,IAAIx6B,EAAEiyB,GAAErxB,EAAE45B,CAAC,CAAC,KAAKn6B,IAAIA,GAAG,KAAKA,GAAGL,EAAE,KAAM,KAAIA,KAAKY,EAAEA,EAAEZ,CAAC,IAAIK,IAAIA,GAAG,KAAKA,GAAGL,GAAG,OAAOK,CAAC,CAAQ,SAASo6B,IAAM,CAAC,QAAQ75B,EAAE45B,EAAEx6B,EAAE,EAAEK,EAAE,GAAG4D,EAAE,UAAU,OAAOjE,EAAEiE,EAAEjE,KAAKY,EAAE,UAAUZ,CAAC,KAAKw6B,EAAEvI,GAAErxB,CAAC,KAAKP,IAAIA,GAAG,KAAKA,GAAGm6B,GAAG,OAAOn6B,CAAC,CCA/W,MAAMq6B,GAAuB,IACvBC,GAAwBzzB,GAAU,CACtC,MAAM0zB,EAAWC,GAAe3zB,CAAM,EAChC,CACJ,uBAAA4zB,EACA,+BAAAC,CACJ,EAAM7zB,EAgBJ,MAAO,CACL,gBAhBsB+uB,GAAa,CACnC,MAAM+E,EAAa/E,EAAU,MAAMyE,EAAoB,EAEvD,OAAIM,EAAW,CAAC,IAAM,IAAMA,EAAW,SAAW,GAChDA,EAAW,MAAK,EAEXC,GAAkBD,EAAYJ,CAAQ,GAAKM,GAA+BjF,CAAS,CAC5F,EAUE,4BATkC,CAACkF,EAAcC,IAAuB,CACxE,MAAMC,EAAYP,EAAuBK,CAAY,GAAK,GAC1D,OAAIC,GAAsBL,EAA+BI,CAAY,EAC5D,CAAC,GAAGE,EAAW,GAAGN,EAA+BI,CAAY,CAAC,EAEhEE,CACT,CAIF,CACA,EACMJ,GAAoB,CAACD,EAAYM,IAAoB,CACzD,GAAIN,EAAW,SAAW,EACxB,OAAOM,EAAgB,aAEzB,MAAMC,EAAmBP,EAAW,CAAC,EAC/BQ,EAAsBF,EAAgB,SAAS,IAAIC,CAAgB,EACnEE,EAA8BD,EAAsBP,GAAkBD,EAAW,MAAM,CAAC,EAAGQ,CAAmB,EAAI,OACxH,GAAIC,EACF,OAAOA,EAET,GAAIH,EAAgB,WAAW,SAAW,EACxC,OAEF,MAAMI,EAAYV,EAAW,KAAKN,EAAoB,EACtD,OAAOY,EAAgB,WAAW,KAAK,CAAC,CACtC,UAAAlT,CACJ,IAAQA,EAAUsT,CAAS,CAAC,GAAG,YAC/B,EACMC,GAAyB,aACzBT,GAAiCjF,GAAa,CAClD,GAAI0F,GAAuB,KAAK1F,CAAS,EAAG,CAC1C,MAAM2F,EAA6BD,GAAuB,KAAK1F,CAAS,EAAE,CAAC,EACrE4F,EAAWD,GAA4B,UAAU,EAAGA,EAA2B,QAAQ,GAAG,CAAC,EACjG,GAAIC,EAEF,MAAO,cAAgBA,CAE3B,CACF,EAIMhB,GAAiB3zB,GAAU,CAC/B,KAAM,CACJ,MAAA40B,EACA,OAAAC,CACJ,EAAM70B,EACE0zB,EAAW,CACf,SAAU,IAAI,IACd,WAAY,EAChB,EAEE,OADkCoB,GAA6B,OAAO,QAAQ90B,EAAO,WAAW,EAAG60B,CAAM,EAC/E,QAAQ,CAAC,CAACZ,EAAcc,CAAU,IAAM,CAChEC,GAA0BD,EAAYrB,EAAUO,EAAcW,CAAK,CACrE,CAAC,EACMlB,CACT,EACMsB,GAA4B,CAACD,EAAYX,EAAiBH,EAAcW,IAAU,CACtFG,EAAW,QAAQE,GAAmB,CACpC,GAAI,OAAOA,GAAoB,SAAU,CACvC,MAAMC,EAAwBD,IAAoB,GAAKb,EAAkBe,GAAQf,EAAiBa,CAAe,EACjHC,EAAsB,aAAejB,EACrC,MACF,CACA,GAAI,OAAOgB,GAAoB,WAAY,CACzC,GAAIG,GAAcH,CAAe,EAAG,CAClCD,GAA0BC,EAAgBL,CAAK,EAAGR,EAAiBH,EAAcW,CAAK,EACtF,MACF,CACAR,EAAgB,WAAW,KAAK,CAC9B,UAAWa,EACX,aAAAhB,CACR,CAAO,EACD,MACF,CACA,OAAO,QAAQgB,CAAe,EAAE,QAAQ,CAAC,CAAC94B,EAAK44B,CAAU,IAAM,CAC7DC,GAA0BD,EAAYI,GAAQf,EAAiBj4B,CAAG,EAAG83B,EAAcW,CAAK,CAC1F,CAAC,CACH,CAAC,CACH,EACMO,GAAU,CAACf,EAAiBlkB,IAAS,CACzC,IAAImlB,EAAyBjB,EAC7B,OAAAlkB,EAAK,MAAMsjB,EAAoB,EAAE,QAAQ8B,GAAY,CAC9CD,EAAuB,SAAS,IAAIC,CAAQ,GAC/CD,EAAuB,SAAS,IAAIC,EAAU,CAC5C,SAAU,IAAI,IACd,WAAY,EACpB,CAAO,EAEHD,EAAyBA,EAAuB,SAAS,IAAIC,CAAQ,CACvE,CAAC,EACMD,CACT,EACMD,GAAgBG,GAAQA,EAAK,cAC7BT,GAA+B,CAACU,EAAmBX,IAClDA,EAGEW,EAAkB,IAAI,CAAC,CAACvB,EAAcc,CAAU,IAAM,CAC3D,MAAMU,EAAqBV,EAAW,IAAIE,GACpC,OAAOA,GAAoB,SACtBJ,EAASI,EAEd,OAAOA,GAAoB,SACtB,OAAO,YAAY,OAAO,QAAQA,CAAe,EAAE,IAAI,CAAC,CAAC94B,EAAK7B,CAAK,IAAM,CAACu6B,EAAS14B,EAAK7B,CAAK,CAAC,CAAC,EAEjG26B,CACR,EACD,MAAO,CAAChB,EAAcwB,CAAkB,CAC1C,CAAC,EAbQD,EAiBLE,GAAiBC,GAAgB,CACrC,GAAIA,EAAe,EACjB,MAAO,CACL,IAAK,OACL,IAAK,IAAM,CAAC,CAClB,EAEE,IAAIC,EAAY,EACZhtB,EAAQ,IAAI,IACZitB,EAAgB,IAAI,IACxB,MAAMC,EAAS,CAAC35B,EAAK7B,IAAU,CAC7BsO,EAAM,IAAIzM,EAAK7B,CAAK,EACpBs7B,IACIA,EAAYD,IACdC,EAAY,EACZC,EAAgBjtB,EAChBA,EAAQ,IAAI,IAEhB,EACA,MAAO,CACL,IAAIzM,EAAK,CACP,IAAI7B,EAAQsO,EAAM,IAAIzM,CAAG,EACzB,GAAI7B,IAAU,OACZ,OAAOA,EAET,IAAKA,EAAQu7B,EAAc,IAAI15B,CAAG,KAAO,OACvC,OAAA25B,EAAO35B,EAAK7B,CAAK,EACVA,CAEX,EACA,IAAI6B,EAAK7B,EAAO,CACVsO,EAAM,IAAIzM,CAAG,EACfyM,EAAM,IAAIzM,EAAK7B,CAAK,EAEpBw7B,EAAO35B,EAAK7B,CAAK,CAErB,CACJ,CACA,EACMy7B,GAAqB,IACrBC,GAAuBh2B,GAAU,CACrC,KAAM,CACJ,UAAAi2B,EACA,2BAAAC,CACJ,EAAMl2B,EACEm2B,EAA6BF,EAAU,SAAW,EAClDG,EAA0BH,EAAU,CAAC,EACrCI,EAAkBJ,EAAU,OAE5BK,EAAiBvH,GAAa,CAClC,MAAMwH,EAAY,GAClB,IAAIC,EAAe,EACfC,EAAgB,EAChBC,EACJ,QAAShxB,EAAQ,EAAGA,EAAQqpB,EAAU,OAAQrpB,IAAS,CACrD,IAAIixB,EAAmB5H,EAAUrpB,CAAK,EACtC,GAAI8wB,IAAiB,EAAG,CACtB,GAAIG,IAAqBP,IAA4BD,GAA8BpH,EAAU,MAAMrpB,EAAOA,EAAQ2wB,CAAe,IAAMJ,GAAY,CACjJM,EAAU,KAAKxH,EAAU,MAAM0H,EAAe/wB,CAAK,CAAC,EACpD+wB,EAAgB/wB,EAAQ2wB,EACxB,QACF,CACA,GAAIM,IAAqB,IAAK,CAC5BD,EAA0BhxB,EAC1B,QACF,CACF,CACIixB,IAAqB,IACvBH,IACSG,IAAqB,KAC9BH,GAEJ,CACA,MAAMI,EAAqCL,EAAU,SAAW,EAAIxH,EAAYA,EAAU,UAAU0H,CAAa,EAC3GI,EAAuBD,EAAmC,WAAWb,EAAkB,EACvFe,EAAgBD,EAAuBD,EAAmC,UAAU,CAAC,EAAIA,EACzFG,EAA+BL,GAA2BA,EAA0BD,EAAgBC,EAA0BD,EAAgB,OACpJ,MAAO,CACL,UAAAF,EACA,qBAAAM,EACA,cAAAC,EACA,6BAAAC,CACN,CACE,EACA,OAAIb,EACKnH,GAAamH,EAA2B,CAC7C,UAAAnH,EACA,eAAAuH,CACN,CAAK,EAEIA,CACT,EAMMU,GAAgBT,GAAa,CACjC,GAAIA,EAAU,QAAU,EACtB,OAAOA,EAET,MAAMU,EAAkB,GACxB,IAAIC,EAAoB,GACxB,OAAAX,EAAU,QAAQY,GAAY,CACDA,EAAS,CAAC,IAAM,KAEzCF,EAAgB,KAAK,GAAGC,EAAkB,KAAI,EAAIC,CAAQ,EAC1DD,EAAoB,IAEpBA,EAAkB,KAAKC,CAAQ,CAEnC,CAAC,EACDF,EAAgB,KAAK,GAAGC,EAAkB,KAAI,CAAE,EACzCD,CACT,EACMG,GAAoBp3B,IAAW,CACnC,MAAO01B,GAAe11B,EAAO,SAAS,EACtC,eAAgBg2B,GAAqBh2B,CAAM,EAC3C,GAAGyzB,GAAsBzzB,CAAM,CACjC,GACMq3B,GAAsB,MACtBC,GAAiB,CAACC,EAAWC,IAAgB,CACjD,KAAM,CACJ,eAAAlB,EACA,gBAAAmB,EACA,4BAAAC,CACJ,EAAMF,EAQEG,EAAwB,GACxBC,EAAaL,EAAU,KAAI,EAAG,MAAMF,EAAmB,EAC7D,IAAIn7B,EAAS,GACb,QAASwJ,EAAQkyB,EAAW,OAAS,EAAGlyB,GAAS,EAAGA,GAAS,EAAG,CAC9D,MAAMmyB,EAAoBD,EAAWlyB,CAAK,EACpC,CACJ,UAAA6wB,EACA,qBAAAM,EACA,cAAAC,EACA,6BAAAC,CACN,EAAQT,EAAeuB,CAAiB,EACpC,IAAI3D,EAAqB,EAAQ6C,EAC7B9C,EAAewD,EAAgBvD,EAAqB4C,EAAc,UAAU,EAAGC,CAA4B,EAAID,CAAa,EAChI,GAAI,CAAC7C,EAAc,CACjB,GAAI,CAACC,EAAoB,CAEvBh4B,EAAS27B,GAAqB37B,EAAO,OAAS,EAAI,IAAMA,EAASA,GACjE,QACF,CAEA,GADA+3B,EAAewD,EAAgBX,CAAa,EACxC,CAAC7C,EAAc,CAEjB/3B,EAAS27B,GAAqB37B,EAAO,OAAS,EAAI,IAAMA,EAASA,GACjE,QACF,CACAg4B,EAAqB,EACvB,CACA,MAAM4D,EAAkBd,GAAcT,CAAS,EAAE,KAAK,GAAG,EACnDwB,EAAalB,EAAuBiB,EAAkB/B,GAAqB+B,EAC3EE,EAAUD,EAAa9D,EAC7B,GAAI0D,EAAsB,SAASK,CAAO,EAExC,SAEFL,EAAsB,KAAKK,CAAO,EAClC,MAAMC,EAAiBP,EAA4BzD,EAAcC,CAAkB,EACnF,QAASp3B,EAAI,EAAGA,EAAIm7B,EAAe,OAAQ,EAAEn7B,EAAG,CAC9C,MAAMo7B,EAAQD,EAAen7B,CAAC,EAC9B66B,EAAsB,KAAKI,EAAaG,CAAK,CAC/C,CAEAh8B,EAAS27B,GAAqB37B,EAAO,OAAS,EAAI,IAAMA,EAASA,EACnE,CACA,OAAOA,CACT,EAWA,SAASi8B,IAAS,CAChB,IAAIzyB,EAAQ,EACR0yB,EACAC,EACAC,EAAS,GACb,KAAO5yB,EAAQ,UAAU,SACnB0yB,EAAW,UAAU1yB,GAAO,KAC1B2yB,EAAgBE,GAAQH,CAAQ,KAClCE,IAAWA,GAAU,KACrBA,GAAUD,GAIhB,OAAOC,CACT,CACA,MAAMC,GAAUC,GAAO,CACrB,GAAI,OAAOA,GAAQ,SACjB,OAAOA,EAET,IAAIH,EACAC,EAAS,GACb,QAASt/B,EAAI,EAAGA,EAAIw/B,EAAI,OAAQx/B,IAC1Bw/B,EAAIx/B,CAAC,IACHq/B,EAAgBE,GAAQC,EAAIx/B,CAAC,CAAC,KAChCs/B,IAAWA,GAAU,KACrBA,GAAUD,GAIhB,OAAOC,CACT,EACA,SAASG,GAAoBC,KAAsBC,EAAkB,CACnE,IAAInB,EACAoB,EACAC,EACAC,EAAiBC,EACrB,SAASA,EAAkBxB,EAAW,CACpC,MAAMv3B,EAAS24B,EAAiB,OAAO,CAACK,EAAgBC,IAAwBA,EAAoBD,CAAc,EAAGN,GAAmB,EACxI,OAAAlB,EAAcJ,GAAkBp3B,CAAM,EACtC44B,EAAWpB,EAAY,MAAM,IAC7BqB,EAAWrB,EAAY,MAAM,IAC7BsB,EAAiBI,EACVA,EAAc3B,CAAS,CAChC,CACA,SAAS2B,EAAc3B,EAAW,CAChC,MAAM4B,EAAeP,EAASrB,CAAS,EACvC,GAAI4B,EACF,OAAOA,EAET,MAAMj9B,EAASo7B,GAAeC,EAAWC,CAAW,EACpD,OAAAqB,EAAStB,EAAWr7B,CAAM,EACnBA,CACT,CACA,OAAO,UAA6B,CAClC,OAAO48B,EAAeX,GAAO,MAAM,KAAM,SAAS,CAAC,CACrD,CACF,CACA,MAAMiB,EAAYj9B,GAAO,CACvB,MAAMk9B,EAAczE,GAASA,EAAMz4B,CAAG,GAAK,GAC3C,OAAAk9B,EAAY,cAAgB,GACrBA,CACT,EACMC,GAAsB,6BACtBC,GAAgB,aAChBC,GAA6B,IAAI,IAAI,CAAC,KAAM,OAAQ,QAAQ,CAAC,EAC7DC,GAAkB,mCAClBC,GAAkB,4HAClBC,GAAqB,2CAErBC,GAAc,kEACdC,GAAa,+FACbC,GAAWx/B,GAASkP,GAASlP,CAAK,GAAKk/B,GAAc,IAAIl/B,CAAK,GAAKi/B,GAAc,KAAKj/B,CAAK,EAC3Fy/B,GAAoBz/B,GAAS0/B,GAAoB1/B,EAAO,SAAU2/B,EAAY,EAC9EzwB,GAAWlP,GAAS,EAAQA,GAAU,CAAC,OAAO,MAAM,OAAOA,CAAK,CAAC,EACjE4/B,GAAoB5/B,GAAS0/B,GAAoB1/B,EAAO,SAAUkP,EAAQ,EAC1E2wB,GAAY7/B,GAAS,EAAQA,GAAU,OAAO,UAAU,OAAOA,CAAK,CAAC,EACrE8/B,GAAY9/B,GAASA,EAAM,SAAS,GAAG,GAAKkP,GAASlP,EAAM,MAAM,EAAG,EAAE,CAAC,EACvE+/B,EAAmB//B,GAASg/B,GAAoB,KAAKh/B,CAAK,EAC1DggC,GAAehgC,GAASm/B,GAAgB,KAAKn/B,CAAK,EAClDigC,GAA0B,IAAI,IAAI,CAAC,SAAU,OAAQ,YAAY,CAAC,EAClEC,GAAkBlgC,GAAS0/B,GAAoB1/B,EAAOigC,GAAYE,EAAO,EACzEC,GAAsBpgC,GAAS0/B,GAAoB1/B,EAAO,WAAYmgC,EAAO,EAC7EE,GAA2B,IAAI,IAAI,CAAC,QAAS,KAAK,CAAC,EACnDC,GAAmBtgC,GAAS0/B,GAAoB1/B,EAAOqgC,GAAaE,EAAO,EAC3EC,GAAoBxgC,GAAS0/B,GAAoB1/B,EAAO,GAAIygC,EAAQ,EACpEC,GAAQ,IAAM,GACdhB,GAAsB,CAAC1/B,EAAO8pB,EAAO6W,IAAc,CACvD,MAAM/+B,EAASo9B,GAAoB,KAAKh/B,CAAK,EAC7C,OAAI4B,EACEA,EAAO,CAAC,EACH,OAAOkoB,GAAU,SAAWloB,EAAO,CAAC,IAAMkoB,EAAQA,EAAM,IAAIloB,EAAO,CAAC,CAAC,EAEvE++B,EAAU/+B,EAAO,CAAC,CAAC,EAErB,EACT,EACM+9B,GAAe3/B,GAIrBo/B,GAAgB,KAAKp/B,CAAK,GAAK,CAACq/B,GAAmB,KAAKr/B,CAAK,EACvDmgC,GAAU,IAAM,GAChBM,GAAWzgC,GAASs/B,GAAY,KAAKt/B,CAAK,EAC1CugC,GAAUvgC,GAASu/B,GAAW,KAAKv/B,CAAK,EAmBxC4gC,GAAmB,IAAM,CAC7B,MAAMC,EAAS/B,EAAU,QAAQ,EAC3BgC,EAAUhC,EAAU,SAAS,EAC7BiC,EAAOjC,EAAU,MAAM,EACvBkC,EAAalC,EAAU,YAAY,EACnCmC,EAAcnC,EAAU,aAAa,EACrCoC,EAAepC,EAAU,cAAc,EACvCqC,EAAgBrC,EAAU,eAAe,EACzCsC,EAActC,EAAU,aAAa,EACrCuC,EAAWvC,EAAU,UAAU,EAC/BwC,EAAYxC,EAAU,WAAW,EACjCyC,EAAYzC,EAAU,WAAW,EACjC0C,EAAS1C,EAAU,QAAQ,EAC3B2C,EAAM3C,EAAU,KAAK,EACrB4C,EAAqB5C,EAAU,oBAAoB,EACnD6C,EAA6B7C,EAAU,4BAA4B,EACnE8C,EAAQ9C,EAAU,OAAO,EACzB+C,EAAS/C,EAAU,QAAQ,EAC3BgD,EAAUhD,EAAU,SAAS,EAC7BiD,EAAUjD,EAAU,SAAS,EAC7BkD,EAAWlD,EAAU,UAAU,EAC/BmD,EAAQnD,EAAU,OAAO,EACzBoD,EAAQpD,EAAU,OAAO,EACzBqD,EAAOrD,EAAU,MAAM,EACvBsD,EAAQtD,EAAU,OAAO,EACzBuD,EAAYvD,EAAU,WAAW,EACjCwD,EAAgB,IAAM,CAAC,OAAQ,UAAW,MAAM,EAChDC,EAAc,IAAM,CAAC,OAAQ,SAAU,OAAQ,UAAW,QAAQ,EAClEC,EAAiC,IAAM,CAAC,OAAQzC,EAAkBe,CAAO,EACzE2B,EAA0B,IAAM,CAAC1C,EAAkBe,CAAO,EAC1D4B,EAAiC,IAAM,CAAC,GAAIlD,GAAUC,EAAiB,EACvEkD,EAAgC,IAAM,CAAC,OAAQzzB,GAAU6wB,CAAgB,EACzE6C,EAAe,IAAM,CAAC,SAAU,SAAU,OAAQ,cAAe,WAAY,QAAS,eAAgB,YAAa,KAAK,EACxHC,EAAgB,IAAM,CAAC,QAAS,SAAU,SAAU,SAAU,MAAM,EACpEC,GAAgB,IAAM,CAAC,SAAU,WAAY,SAAU,UAAW,SAAU,UAAW,cAAe,aAAc,aAAc,aAAc,aAAc,YAAa,MAAO,aAAc,QAAS,YAAY,EACrNC,GAAW,IAAM,CAAC,QAAS,MAAO,SAAU,UAAW,SAAU,SAAU,SAAS,EACpFC,EAAkB,IAAM,CAAC,GAAI,IAAKjD,CAAgB,EAClDkD,EAAY,IAAM,CAAC,OAAQ,QAAS,MAAO,aAAc,OAAQ,OAAQ,QAAS,QAAQ,EAC1FC,EAAwB,IAAM,CAACh0B,GAAU6wB,CAAgB,EAC/D,MAAO,CACL,UAAW,IACX,UAAW,IACX,MAAO,CACL,OAAQ,CAACW,EAAK,EACd,QAAS,CAAClB,GAAUC,EAAiB,EACrC,KAAM,CAAC,OAAQ,GAAIO,GAAcD,CAAgB,EACjD,WAAYmD,EAAqB,EACjC,YAAa,CAACrC,CAAM,EACpB,aAAc,CAAC,OAAQ,GAAI,OAAQb,GAAcD,CAAgB,EACjE,cAAe0C,EAAuB,EACtC,YAAaC,EAA8B,EAC3C,SAAUQ,EAAqB,EAC/B,UAAWF,EAAe,EAC1B,UAAWE,EAAqB,EAChC,OAAQF,EAAe,EACvB,IAAKP,EAAuB,EAC5B,mBAAoB,CAAC5B,CAAM,EAC3B,2BAA4B,CAACf,GAAWL,EAAiB,EACzD,MAAO+C,EAA8B,EACrC,OAAQA,EAA8B,EACtC,QAASU,EAAqB,EAC9B,QAAST,EAAuB,EAChC,SAAUS,EAAqB,EAC/B,MAAOA,EAAqB,EAC5B,MAAOF,EAAe,EACtB,KAAME,EAAqB,EAC3B,MAAOT,EAAuB,EAC9B,UAAWA,EAAuB,CACxC,EACI,YAAa,CAMX,OAAQ,CAAC,CACP,OAAQ,CAAC,OAAQ,SAAU,QAAS1C,CAAgB,CAC5D,CAAO,EAKD,UAAW,CAAC,WAAW,EAKvB,QAAS,CAAC,CACR,QAAS,CAACC,EAAY,CAC9B,CAAO,EAKD,cAAe,CAAC,CACd,cAAeiD,EAAS,CAChC,CAAO,EAKD,eAAgB,CAAC,CACf,eAAgBA,EAAS,CACjC,CAAO,EAKD,eAAgB,CAAC,CACf,eAAgB,CAAC,OAAQ,QAAS,aAAc,cAAc,CACtE,CAAO,EAKD,iBAAkB,CAAC,CACjB,iBAAkB,CAAC,QAAS,OAAO,CAC3C,CAAO,EAKD,IAAK,CAAC,CACJ,IAAK,CAAC,SAAU,SAAS,CACjC,CAAO,EAKD,QAAS,CAAC,QAAS,eAAgB,SAAU,OAAQ,cAAe,QAAS,eAAgB,gBAAiB,aAAc,eAAgB,qBAAsB,qBAAsB,qBAAsB,kBAAmB,YAAa,YAAa,OAAQ,cAAe,WAAY,YAAa,QAAQ,EAKnT,MAAO,CAAC,CACN,MAAO,CAAC,QAAS,OAAQ,OAAQ,QAAS,KAAK,CACvD,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAAC,OAAQ,QAAS,OAAQ,OAAQ,QAAS,KAAK,CAC/D,CAAO,EAKD,UAAW,CAAC,UAAW,gBAAgB,EAKvC,aAAc,CAAC,CACb,OAAQ,CAAC,UAAW,QAAS,OAAQ,OAAQ,YAAY,CACjE,CAAO,EAKD,kBAAmB,CAAC,CAClB,OAAQ,CAAC,GAAGL,EAAY,EAAI7C,CAAgB,CACpD,CAAO,EAKD,SAAU,CAAC,CACT,SAAUwC,EAAW,CAC7B,CAAO,EAKD,aAAc,CAAC,CACb,aAAcA,EAAW,CACjC,CAAO,EAKD,aAAc,CAAC,CACb,aAAcA,EAAW,CACjC,CAAO,EAKD,WAAY,CAAC,CACX,WAAYD,EAAa,CACjC,CAAO,EAKD,eAAgB,CAAC,CACf,eAAgBA,EAAa,CACrC,CAAO,EAKD,eAAgB,CAAC,CACf,eAAgBA,EAAa,CACrC,CAAO,EAKD,SAAU,CAAC,SAAU,QAAS,WAAY,WAAY,QAAQ,EAK9D,MAAO,CAAC,CACN,MAAO,CAACV,CAAK,CACrB,CAAO,EAKD,UAAW,CAAC,CACV,UAAW,CAACA,CAAK,CACzB,CAAO,EAKD,UAAW,CAAC,CACV,UAAW,CAACA,CAAK,CACzB,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAACA,CAAK,CACrB,CAAO,EAKD,IAAK,CAAC,CACJ,IAAK,CAACA,CAAK,CACnB,CAAO,EAKD,IAAK,CAAC,CACJ,IAAK,CAACA,CAAK,CACnB,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAACA,CAAK,CACrB,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQ,CAACA,CAAK,CACtB,CAAO,EAKD,KAAM,CAAC,CACL,KAAM,CAACA,CAAK,CACpB,CAAO,EAKD,WAAY,CAAC,UAAW,YAAa,UAAU,EAK/C,EAAG,CAAC,CACF,EAAG,CAAC,OAAQ/B,GAAWE,CAAgB,CAC/C,CAAO,EAMD,MAAO,CAAC,CACN,MAAOyC,EAA8B,CAC7C,CAAO,EAKD,iBAAkB,CAAC,CACjB,KAAM,CAAC,MAAO,cAAe,MAAO,aAAa,CACzD,CAAO,EAKD,YAAa,CAAC,CACZ,KAAM,CAAC,OAAQ,eAAgB,QAAQ,CAC/C,CAAO,EAKD,KAAM,CAAC,CACL,KAAM,CAAC,IAAK,OAAQ,UAAW,OAAQzC,CAAgB,CAC/D,CAAO,EAKD,KAAM,CAAC,CACL,KAAMiD,EAAe,CAC7B,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQA,EAAe,CAC/B,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAAC,QAAS,OAAQ,OAAQnD,GAAWE,CAAgB,CACpE,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACW,EAAK,CAC3B,CAAO,EAKD,gBAAiB,CAAC,CAChB,IAAK,CAAC,OAAQ,CACZ,KAAM,CAAC,OAAQb,GAAWE,CAAgB,CACpD,EAAWA,CAAgB,CAC3B,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa4C,EAA6B,CAClD,CAAO,EAKD,UAAW,CAAC,CACV,UAAWA,EAA6B,CAChD,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACjC,EAAK,CAC3B,CAAO,EAKD,gBAAiB,CAAC,CAChB,IAAK,CAAC,OAAQ,CACZ,KAAM,CAACb,GAAWE,CAAgB,CAC5C,EAAWA,CAAgB,CAC3B,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa4C,EAA6B,CAClD,CAAO,EAKD,UAAW,CAAC,CACV,UAAWA,EAA6B,CAChD,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAAC,MAAO,MAAO,QAAS,YAAa,WAAW,CACrE,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAAC,OAAQ,MAAO,MAAO,KAAM5C,CAAgB,CAClE,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAAC,OAAQ,MAAO,MAAO,KAAMA,CAAgB,CAClE,CAAO,EAKD,IAAK,CAAC,CACJ,IAAK,CAAC0B,CAAG,CACjB,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAACA,CAAG,CACrB,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAACA,CAAG,CACrB,CAAO,EAKD,kBAAmB,CAAC,CAClB,QAAS,CAAC,SAAU,GAAGsB,GAAQ,CAAE,CACzC,CAAO,EAKD,gBAAiB,CAAC,CAChB,gBAAiB,CAAC,QAAS,MAAO,SAAU,SAAS,CAC7D,CAAO,EAKD,eAAgB,CAAC,CACf,eAAgB,CAAC,OAAQ,QAAS,MAAO,SAAU,SAAS,CACpE,CAAO,EAKD,gBAAiB,CAAC,CAChB,QAAS,CAAC,SAAU,GAAGA,GAAQ,EAAI,UAAU,CACrD,CAAO,EAKD,cAAe,CAAC,CACd,MAAO,CAAC,QAAS,MAAO,SAAU,WAAY,SAAS,CAC/D,CAAO,EAKD,aAAc,CAAC,CACb,KAAM,CAAC,OAAQ,QAAS,MAAO,SAAU,UAAW,UAAU,CACtE,CAAO,EAKD,gBAAiB,CAAC,CAChB,gBAAiB,CAAC,GAAGA,GAAQ,EAAI,UAAU,CACnD,CAAO,EAKD,cAAe,CAAC,CACd,cAAe,CAAC,QAAS,MAAO,SAAU,WAAY,SAAS,CACvE,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAAC,OAAQ,QAAS,MAAO,SAAU,SAAS,CAClE,CAAO,EAMD,EAAG,CAAC,CACF,EAAG,CAAChB,CAAO,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAO,CACpB,CAAO,EAKD,EAAG,CAAC,CACF,EAAG,CAACF,CAAM,CAClB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,GAAI,CAAC,CACH,GAAI,CAACA,CAAM,CACnB,CAAO,EAKD,UAAW,CAAC,CACV,UAAW,CAACO,CAAK,CACzB,CAAO,EAKD,kBAAmB,CAAC,iBAAiB,EAKrC,UAAW,CAAC,CACV,UAAW,CAACA,CAAK,CACzB,CAAO,EAKD,kBAAmB,CAAC,iBAAiB,EAMrC,EAAG,CAAC,CACF,EAAG,CAAC,OAAQ,MAAO,MAAO,MAAO,MAAO,MAAO,MAAOrC,EAAkBe,CAAO,CACvF,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAACf,EAAkBe,EAAS,MAAO,MAAO,KAAK,CAChE,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAACf,EAAkBe,EAAS,OAAQ,OAAQ,MAAO,MAAO,MAAO,QAAS,CACjF,OAAQ,CAACd,EAAY,CAC/B,EAAWA,EAAY,CACvB,CAAO,EAKD,EAAG,CAAC,CACF,EAAG,CAACD,EAAkBe,EAAS,OAAQ,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,CACvF,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAACf,EAAkBe,EAAS,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,CACrF,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAACf,EAAkBe,EAAS,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,CACrF,CAAO,EAKD,KAAM,CAAC,CACL,KAAM,CAACf,EAAkBe,EAAS,OAAQ,MAAO,MAAO,KAAK,CACrE,CAAO,EAMD,YAAa,CAAC,CACZ,KAAM,CAAC,OAAQd,GAAcP,EAAiB,CACtD,CAAO,EAKD,iBAAkB,CAAC,cAAe,sBAAsB,EAKxD,aAAc,CAAC,SAAU,YAAY,EAKrC,cAAe,CAAC,CACd,KAAM,CAAC,OAAQ,aAAc,QAAS,SAAU,SAAU,WAAY,OAAQ,YAAa,QAASG,EAAiB,CAC7H,CAAO,EAKD,cAAe,CAAC,CACd,KAAM,CAACc,EAAK,CACpB,CAAO,EAKD,aAAc,CAAC,aAAa,EAK5B,cAAe,CAAC,SAAS,EAKzB,mBAAoB,CAAC,cAAc,EAKnC,aAAc,CAAC,cAAe,eAAe,EAK7C,cAAe,CAAC,oBAAqB,cAAc,EAKnD,eAAgB,CAAC,qBAAsB,mBAAmB,EAK1D,SAAU,CAAC,CACT,SAAU,CAAC,UAAW,QAAS,SAAU,OAAQ,QAAS,SAAUX,CAAgB,CAC5F,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAAC,OAAQ7wB,GAAU0wB,EAAiB,CAC1D,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAAC,OAAQ,QAAS,OAAQ,SAAU,UAAW,QAASJ,GAAUO,CAAgB,CACnG,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAAC,OAAQA,CAAgB,CAC/C,CAAO,EAKD,kBAAmB,CAAC,CAClB,KAAM,CAAC,OAAQ,OAAQ,UAAWA,CAAgB,CAC1D,CAAO,EAKD,sBAAuB,CAAC,CACtB,KAAM,CAAC,SAAU,SAAS,CAClC,CAAO,EAMD,oBAAqB,CAAC,CACpB,YAAa,CAACc,CAAM,CAC5B,CAAO,EAKD,sBAAuB,CAAC,CACtB,sBAAuB,CAACiB,CAAO,CACvC,CAAO,EAKD,iBAAkB,CAAC,CACjB,KAAM,CAAC,OAAQ,SAAU,QAAS,UAAW,QAAS,KAAK,CACnE,CAAO,EAKD,aAAc,CAAC,CACb,KAAM,CAACjB,CAAM,CACrB,CAAO,EAKD,eAAgB,CAAC,CACf,eAAgB,CAACiB,CAAO,CAChC,CAAO,EAKD,kBAAmB,CAAC,YAAa,WAAY,eAAgB,cAAc,EAK3E,wBAAyB,CAAC,CACxB,WAAY,CAAC,GAAGe,EAAa,EAAI,MAAM,CAC/C,CAAO,EAKD,4BAA6B,CAAC,CAC5B,WAAY,CAAC,OAAQ,YAAarD,GAAUC,EAAiB,CACrE,CAAO,EAKD,mBAAoB,CAAC,CACnB,mBAAoB,CAAC,OAAQD,GAAUO,CAAgB,CAC/D,CAAO,EAKD,wBAAyB,CAAC,CACxB,WAAY,CAACc,CAAM,CAC3B,CAAO,EAKD,iBAAkB,CAAC,YAAa,YAAa,aAAc,aAAa,EAKxE,gBAAiB,CAAC,WAAY,gBAAiB,WAAW,EAK1D,YAAa,CAAC,CACZ,KAAM,CAAC,OAAQ,SAAU,UAAW,QAAQ,CACpD,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQ4B,EAAuB,CACvC,CAAO,EAKD,iBAAkB,CAAC,CACjB,MAAO,CAAC,WAAY,MAAO,SAAU,SAAU,WAAY,cAAe,MAAO,QAAS1C,CAAgB,CAClH,CAAO,EAKD,WAAY,CAAC,CACX,WAAY,CAAC,SAAU,SAAU,MAAO,WAAY,WAAY,cAAc,CACtF,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAAC,SAAU,QAAS,MAAO,MAAM,CAChD,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAAC,OAAQ,SAAU,MAAM,CAC1C,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAAC,OAAQA,CAAgB,CAC1C,CAAO,EAMD,gBAAiB,CAAC,CAChB,GAAI,CAAC,QAAS,QAAS,QAAQ,CACvC,CAAO,EAKD,UAAW,CAAC,CACV,UAAW,CAAC,SAAU,UAAW,UAAW,MAAM,CAC1D,CAAO,EAMD,aAAc,CAAC,CACb,aAAc,CAAC+B,CAAO,CAC9B,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAAC,SAAU,UAAW,SAAS,CACpD,CAAO,EAKD,cAAe,CAAC,CACd,GAAI,CAAC,GAAGc,EAAY,EAAIxC,EAAmB,CACnD,CAAO,EAKD,YAAa,CAAC,CACZ,GAAI,CAAC,YAAa,CAChB,OAAQ,CAAC,GAAI,IAAK,IAAK,QAAS,OAAO,CACjD,CAAS,CACT,CAAO,EAKD,UAAW,CAAC,CACV,GAAI,CAAC,OAAQ,QAAS,UAAWF,EAAe,CACxD,CAAO,EAKD,WAAY,CAAC,CACX,GAAI,CAAC,OAAQ,CACX,cAAe,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,IAAI,CACpE,EAAWI,EAAgB,CAC3B,CAAO,EAKD,WAAY,CAAC,CACX,GAAI,CAACO,CAAM,CACnB,CAAO,EAKD,oBAAqB,CAAC,CACpB,KAAM,CAACc,CAA0B,CACzC,CAAO,EAKD,mBAAoB,CAAC,CACnB,IAAK,CAACA,CAA0B,CACxC,CAAO,EAKD,kBAAmB,CAAC,CAClB,GAAI,CAACA,CAA0B,CACvC,CAAO,EAKD,gBAAiB,CAAC,CAChB,KAAM,CAACD,CAAkB,CACjC,CAAO,EAKD,eAAgB,CAAC,CACf,IAAK,CAACA,CAAkB,CAChC,CAAO,EAKD,cAAe,CAAC,CACd,GAAI,CAACA,CAAkB,CAC/B,CAAO,EAMD,QAAS,CAAC,CACR,QAAS,CAACR,CAAY,CAC9B,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACA,CAAY,CAClC,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACA,CAAY,CAClC,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACA,CAAY,CAClC,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACA,CAAY,CAClC,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACA,CAAY,CAClC,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAACA,CAAY,CAClC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACA,CAAY,CACnC,CAAO,EAKD,WAAY,CAAC,CACX,OAAQ,CAACE,CAAW,CAC5B,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,aAAc,CAAC,CACb,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,iBAAkB,CAACU,CAAO,CAClC,CAAO,EAKD,eAAgB,CAAC,CACf,OAAQ,CAAC,GAAGe,EAAa,EAAI,QAAQ,CAC7C,CAAO,EAKD,WAAY,CAAC,CACX,WAAY,CAACzB,CAAW,CAChC,CAAO,EAKD,mBAAoB,CAAC,kBAAkB,EAKvC,WAAY,CAAC,CACX,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,mBAAoB,CAAC,kBAAkB,EAKvC,iBAAkB,CAAC,CACjB,iBAAkB,CAACU,CAAO,CAClC,CAAO,EAKD,eAAgB,CAAC,CACf,OAAQe,EAAa,CAC7B,CAAO,EAKD,eAAgB,CAAC,CACf,OAAQ,CAAC5B,CAAW,CAC5B,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,iBAAkB,CAAC,CACjB,WAAY,CAACA,CAAW,CAChC,CAAO,EAKD,eAAgB,CAAC,CACf,OAAQ,CAACA,CAAW,CAC5B,CAAO,EAKD,gBAAiB,CAAC,CAChB,QAAS,CAAC,GAAI,GAAG4B,EAAa,CAAE,CACxC,CAAO,EAKD,iBAAkB,CAAC,CACjB,iBAAkB,CAACrD,GAAUO,CAAgB,CACrD,CAAO,EAKD,YAAa,CAAC,CACZ,QAAS,CAACP,GAAUC,EAAiB,CAC7C,CAAO,EAKD,gBAAiB,CAAC,CAChB,QAAS,CAACoB,CAAM,CACxB,CAAO,EAKD,SAAU,CAAC,CACT,KAAM6B,EAA8B,CAC5C,CAAO,EAKD,eAAgB,CAAC,YAAY,EAK7B,aAAc,CAAC,CACb,KAAM,CAAC7B,CAAM,CACrB,CAAO,EAKD,eAAgB,CAAC,CACf,eAAgB,CAACiB,CAAO,CAChC,CAAO,EAKD,gBAAiB,CAAC,CAChB,cAAe,CAACtC,GAAUC,EAAiB,CACnD,CAAO,EAKD,oBAAqB,CAAC,CACpB,cAAe,CAACoB,CAAM,CAC9B,CAAO,EAMD,OAAQ,CAAC,CACP,OAAQ,CAAC,GAAI,QAAS,OAAQb,GAAcQ,EAAiB,CACrE,CAAO,EAKD,eAAgB,CAAC,CACf,OAAQ,CAACE,EAAK,CACtB,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAACoB,CAAO,CACzB,CAAO,EAKD,YAAa,CAAC,CACZ,YAAa,CAAC,GAAGgB,GAAa,EAAI,eAAgB,aAAa,CACvE,CAAO,EAKD,WAAY,CAAC,CACX,WAAYA,GAAa,CACjC,CAAO,EAOD,OAAQ,CAAC,CACP,OAAQ,CAAC,GAAI,MAAM,CAC3B,CAAO,EAKD,KAAM,CAAC,CACL,KAAM,CAAC/B,CAAI,CACnB,CAAO,EAKD,WAAY,CAAC,CACX,WAAY,CAACC,CAAU,CAC/B,CAAO,EAKD,SAAU,CAAC,CACT,SAAU,CAACK,CAAQ,CAC3B,CAAO,EAKD,cAAe,CAAC,CACd,cAAe,CAAC,GAAI,OAAQrB,GAAcD,CAAgB,CAClE,CAAO,EAKD,UAAW,CAAC,CACV,UAAW,CAACuB,CAAS,CAC7B,CAAO,EAKD,aAAc,CAAC,CACb,aAAc,CAACC,CAAS,CAChC,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQ,CAACC,CAAM,CACvB,CAAO,EAKD,SAAU,CAAC,CACT,SAAU,CAACQ,CAAQ,CAC3B,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAACE,CAAK,CACrB,CAAO,EAMD,kBAAmB,CAAC,CAClB,kBAAmB,CAAC,GAAI,MAAM,CACtC,CAAO,EAKD,gBAAiB,CAAC,CAChB,gBAAiB,CAACnB,CAAI,CAC9B,CAAO,EAKD,sBAAuB,CAAC,CACtB,sBAAuB,CAACC,CAAU,CAC1C,CAAO,EAKD,oBAAqB,CAAC,CACpB,oBAAqB,CAACK,CAAQ,CACtC,CAAO,EAKD,qBAAsB,CAAC,CACrB,qBAAsB,CAACC,CAAS,CACxC,CAAO,EAKD,sBAAuB,CAAC,CACtB,sBAAuB,CAACC,CAAS,CACzC,CAAO,EAKD,kBAAmB,CAAC,CAClB,kBAAmB,CAACC,CAAM,CAClC,CAAO,EAKD,mBAAoB,CAAC,CACnB,mBAAoB,CAACM,CAAO,CACpC,CAAO,EAKD,oBAAqB,CAAC,CACpB,oBAAqB,CAACE,CAAQ,CACtC,CAAO,EAKD,iBAAkB,CAAC,CACjB,iBAAkB,CAACE,CAAK,CAChC,CAAO,EAMD,kBAAmB,CAAC,CAClB,OAAQ,CAAC,WAAY,UAAU,CACvC,CAAO,EAKD,iBAAkB,CAAC,CACjB,iBAAkB,CAACf,CAAa,CACxC,CAAO,EAKD,mBAAoB,CAAC,CACnB,mBAAoB,CAACA,CAAa,CAC1C,CAAO,EAKD,mBAAoB,CAAC,CACnB,mBAAoB,CAACA,CAAa,CAC1C,CAAO,EAKD,eAAgB,CAAC,CACf,MAAO,CAAC,OAAQ,OAAO,CAC/B,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAAC,MAAO,QAAQ,CACjC,CAAO,EAMD,WAAY,CAAC,CACX,WAAY,CAAC,OAAQ,MAAO,GAAI,SAAU,UAAW,SAAU,YAAapB,CAAgB,CACpG,CAAO,EAKD,SAAU,CAAC,CACT,SAAUmD,EAAqB,CACvC,CAAO,EAKD,KAAM,CAAC,CACL,KAAM,CAAC,SAAU,KAAM,MAAO,SAAUnD,CAAgB,CAChE,CAAO,EAKD,MAAO,CAAC,CACN,MAAOmD,EAAqB,CACpC,CAAO,EAKD,QAAS,CAAC,CACR,QAAS,CAAC,OAAQ,OAAQ,OAAQ,QAAS,SAAUnD,CAAgB,CAC7E,CAAO,EAMD,UAAW,CAAC,CACV,UAAW,CAAC,GAAI,MAAO,MAAM,CACrC,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAACkC,CAAK,CACrB,CAAO,EAKD,UAAW,CAAC,CACV,UAAW,CAACA,CAAK,CACzB,CAAO,EAKD,UAAW,CAAC,CACV,UAAW,CAACA,CAAK,CACzB,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQ,CAACpC,GAAWE,CAAgB,CAC5C,CAAO,EAKD,cAAe,CAAC,CACd,cAAe,CAACsC,CAAS,CACjC,CAAO,EAKD,cAAe,CAAC,CACd,cAAe,CAACA,CAAS,CACjC,CAAO,EAKD,SAAU,CAAC,CACT,SAAU,CAACF,CAAI,CACvB,CAAO,EAKD,SAAU,CAAC,CACT,SAAU,CAACA,CAAI,CACvB,CAAO,EAKD,mBAAoB,CAAC,CACnB,OAAQ,CAAC,SAAU,MAAO,YAAa,QAAS,eAAgB,SAAU,cAAe,OAAQ,WAAYpC,CAAgB,CACrI,CAAO,EAMD,OAAQ,CAAC,CACP,OAAQ,CAAC,OAAQc,CAAM,CAC/B,CAAO,EAKD,WAAY,CAAC,CACX,WAAY,CAAC,OAAQ,MAAM,CACnC,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQ,CAAC,OAAQ,UAAW,UAAW,OAAQ,OAAQ,OAAQ,OAAQ,cAAe,OAAQ,eAAgB,WAAY,OAAQ,YAAa,gBAAiB,QAAS,OAAQ,UAAW,OAAQ,WAAY,aAAc,aAAc,aAAc,WAAY,WAAY,WAAY,WAAY,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,cAAe,cAAe,UAAW,WAAYd,CAAgB,CACrc,CAAO,EAKD,cAAe,CAAC,CACd,MAAO,CAACc,CAAM,CACtB,CAAO,EAKD,iBAAkB,CAAC,CACjB,iBAAkB,CAAC,OAAQ,MAAM,CACzC,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQ,CAAC,OAAQ,IAAK,IAAK,EAAE,CACrC,CAAO,EAKD,kBAAmB,CAAC,CAClB,OAAQ,CAAC,OAAQ,QAAQ,CACjC,CAAO,EAKD,WAAY,CAAC,CACX,WAAY4B,EAAuB,CAC3C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,WAAY,CAAC,CACX,WAAYA,EAAuB,CAC3C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,YAAa,CAAC,CACZ,YAAaA,EAAuB,CAC5C,CAAO,EAKD,aAAc,CAAC,CACb,KAAM,CAAC,QAAS,MAAO,SAAU,YAAY,CACrD,CAAO,EAKD,YAAa,CAAC,CACZ,KAAM,CAAC,SAAU,QAAQ,CACjC,CAAO,EAKD,YAAa,CAAC,CACZ,KAAM,CAAC,OAAQ,IAAK,IAAK,MAAM,CACvC,CAAO,EAKD,kBAAmB,CAAC,CAClB,KAAM,CAAC,YAAa,WAAW,CACvC,CAAO,EAKD,MAAO,CAAC,CACN,MAAO,CAAC,OAAQ,OAAQ,cAAc,CAC9C,CAAO,EAKD,UAAW,CAAC,CACV,YAAa,CAAC,IAAK,OAAQ,OAAO,CAC1C,CAAO,EAKD,UAAW,CAAC,CACV,YAAa,CAAC,IAAK,KAAM,MAAM,CACvC,CAAO,EAKD,WAAY,CAAC,kBAAkB,EAK/B,OAAQ,CAAC,CACP,OAAQ,CAAC,OAAQ,OAAQ,MAAO,MAAM,CAC9C,CAAO,EAKD,cAAe,CAAC,CACd,cAAe,CAAC,OAAQ,SAAU,WAAY,YAAa1C,CAAgB,CACnF,CAAO,EAMD,KAAM,CAAC,CACL,KAAM,CAACc,EAAQ,MAAM,CAC7B,CAAO,EAKD,WAAY,CAAC,CACX,OAAQ,CAACrB,GAAUC,GAAmBG,EAAiB,CAC/D,CAAO,EAKD,OAAQ,CAAC,CACP,OAAQ,CAACiB,EAAQ,MAAM,CAC/B,CAAO,EAMD,GAAI,CAAC,UAAW,aAAa,EAK7B,sBAAuB,CAAC,CACtB,sBAAuB,CAAC,OAAQ,MAAM,CAC9C,CAAO,CACP,EACI,uBAAwB,CACtB,SAAU,CAAC,aAAc,YAAY,EACrC,WAAY,CAAC,eAAgB,cAAc,EAC3C,MAAO,CAAC,UAAW,UAAW,QAAS,MAAO,MAAO,QAAS,SAAU,MAAM,EAC9E,UAAW,CAAC,QAAS,MAAM,EAC3B,UAAW,CAAC,MAAO,QAAQ,EAC3B,KAAM,CAAC,QAAS,OAAQ,QAAQ,EAChC,IAAK,CAAC,QAAS,OAAO,EACtB,EAAG,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EAClD,GAAI,CAAC,KAAM,IAAI,EACf,GAAI,CAAC,KAAM,IAAI,EACf,EAAG,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EAClD,GAAI,CAAC,KAAM,IAAI,EACf,GAAI,CAAC,KAAM,IAAI,EACf,KAAM,CAAC,IAAK,GAAG,EACf,YAAa,CAAC,SAAS,EACvB,aAAc,CAAC,cAAe,mBAAoB,aAAc,cAAe,cAAc,EAC7F,cAAe,CAAC,YAAY,EAC5B,mBAAoB,CAAC,YAAY,EACjC,aAAc,CAAC,YAAY,EAC3B,cAAe,CAAC,YAAY,EAC5B,eAAgB,CAAC,YAAY,EAC7B,aAAc,CAAC,UAAW,UAAU,EACpC,QAAS,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,aAAc,YAAY,EACtM,YAAa,CAAC,aAAc,YAAY,EACxC,YAAa,CAAC,aAAc,YAAY,EACxC,YAAa,CAAC,aAAc,YAAY,EACxC,YAAa,CAAC,aAAc,YAAY,EACxC,YAAa,CAAC,aAAc,YAAY,EACxC,YAAa,CAAC,aAAc,YAAY,EACxC,iBAAkB,CAAC,mBAAoB,kBAAkB,EACzD,WAAY,CAAC,aAAc,aAAc,aAAc,aAAc,aAAc,YAAY,EAC/F,aAAc,CAAC,aAAc,YAAY,EACzC,aAAc,CAAC,aAAc,YAAY,EACzC,eAAgB,CAAC,iBAAkB,iBAAkB,iBAAkB,iBAAkB,iBAAkB,gBAAgB,EAC3H,iBAAkB,CAAC,iBAAkB,gBAAgB,EACrD,iBAAkB,CAAC,iBAAkB,gBAAgB,EACrD,WAAY,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,WAAW,EACnH,YAAa,CAAC,YAAa,WAAW,EACtC,YAAa,CAAC,YAAa,WAAW,EACtC,WAAY,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,WAAW,EACnH,YAAa,CAAC,YAAa,WAAW,EACtC,YAAa,CAAC,YAAa,WAAW,EACtC,MAAO,CAAC,UAAW,UAAW,UAAU,EACxC,UAAW,CAAC,OAAO,EACnB,UAAW,CAAC,OAAO,EACnB,WAAY,CAAC,OAAO,CAC1B,EACI,+BAAgC,CAC9B,YAAa,CAAC,SAAS,CAC7B,CACA,CACA,EAiDMsC,GAAuBhF,GAAoByC,EAAgB,ECz/E1D,SAASwC,KAAMC,EAAsB,CAC1C,OAAOF,GAAQlK,GAAKoK,CAAM,CAAC,CAC7B,CCKO,MAAMC,GAAiB,CAC5B,KAAM,8RACN,SAAU,CACR,QAAS,oKACT,UAAW,oKACX,QAAS,uLACT,MAAO,kFACP,YAAa,0JACb,OAAQ,+KAEV,MAAO,CACL,GAAI,+BACJ,GAAI,sBACJ,GAAI,8BACJ,KAAM,cAEV,EAEaC,GAASC,aACpB,CAAC,CAAE,UAAA/O,EAAW,QAAAgP,EAAU,UAAW,KAAAC,EAAO,KAAM,QAAA5P,EAAS,SAAAlmB,EAAU,SAAA+1B,EAAU,GAAGpyB,CAAA,EAASqyB,IAErFhN,OAAC,UACC,IAAAgN,EACA,UAAWR,EACTE,GAAe,KACfA,GAAe,SAASG,CAAO,EAC/BH,GAAe,MAAMI,CAAI,EACzBjP,CAAA,EAEF,SAAUkP,GAAY7P,EACrB,GAAGviB,EAEH,UAAAuiB,GACC8C,OAAC,OAAI,UAAU,kCAAkC,MAAM,6BAA6B,KAAK,OAAO,QAAQ,YACtG,UAAA9oB,MAAC,UAAO,UAAU,aAAa,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,OAAO,eAAe,YAAY,IAAI,QAC3F,QAAK,UAAU,aAAa,KAAK,eAAe,EAAE,kHAAkH,GACvK,EAEDF,CAAA,GAIT,EAEA21B,GAAO,YAAc,SCnDrB,MAAMM,GAAOxX,EAAM,WAGjB,CAAC,CAAE,UAAAoI,EAAW,GAAGljB,CAAA,EAASqyB,IAC1B91B,MAAC,OACC,IAAA81B,EACA,UAAWR,EACT,2DACA3O,CAAA,EAED,GAAGljB,CAAA,CACN,CACD,EACDsyB,GAAK,YAAc,OAEnB,MAAMC,GAAazX,EAAM,WAGvB,CAAC,CAAE,UAAAoI,EAAW,GAAGljB,CAAA,EAASqyB,IAC1B91B,MAAC,OACC,IAAA81B,EACA,UAAWR,EAAG,gCAAiC3O,CAAS,EACvD,GAAGljB,CAAA,CACN,CACD,EACDuyB,GAAW,YAAc,aAEzB,MAAMC,GAAY1X,EAAM,WAGtB,CAAC,CAAE,UAAAoI,EAAW,GAAGljB,CAAA,EAASqyB,IAC1B91B,MAAC,MACC,IAAA81B,EACA,UAAWR,EACT,qDACA3O,CAAA,EAED,GAAGljB,CAAA,CACN,CACD,EACDwyB,GAAU,YAAc,YAExB,MAAMC,GAAkB3X,EAAM,WAG5B,CAAC,CAAE,UAAAoI,EAAW,GAAGljB,CAAA,EAASqyB,IAC1B91B,MAAC,KACC,IAAA81B,EACA,UAAWR,EAAG,gCAAiC3O,CAAS,EACvD,GAAGljB,CAAA,CACN,CACD,EACDyyB,GAAgB,YAAc,kBAE9B,MAAMC,GAAc5X,EAAM,WAGxB,CAAC,CAAE,UAAAoI,EAAW,GAAGljB,GAASqyB,UACzB,OAAI,IAAAA,EAAU,UAAWR,EAAG,WAAY3O,CAAS,EAAI,GAAGljB,EAAO,CACjE,EACD0yB,GAAY,YAAc,cAE1B,MAAMC,GAAa7X,EAAM,WAGvB,CAAC,CAAE,UAAAoI,EAAW,GAAGljB,CAAA,EAASqyB,IAC1B91B,MAAC,OACC,IAAA81B,EACA,UAAWR,EAAG,6BAA8B3O,CAAS,EACpD,GAAGljB,CAAA,CACN,CACD,EACD2yB,GAAW,YAAc,aCvElB,MAAMC,GAAgB5U,GAAA,EAC3B6B,GACE,CAAClB,EAAKC,KAAS,CAEb,cAAe,KACf,aAAc,GACd,aAAc,GACd,MAAO,CACL,OAAQ,GACR,YAAa,EAAC,EAEhB,QAAS,GACT,OAAQ,GAGR,iBAAmB3F,GAAU0F,EAAI,CAAE,cAAe1F,EAAO,EAEzD,gBAAiB,CAACa,EAAS+Y,IACzBlU,EAAKvnB,IAAW,CACd,aAAc,CACZ,GAAGA,EAAM,aACT,CAAC0iB,CAAO,EAAG+Y,CAAA,CACb,EACA,EAEJ,gBAAiB,CAAC/Y,EAASgZ,IACzBnU,EAAKvnB,IAAW,CACd,aAAc,CACZ,GAAGA,EAAM,aACT,CAAC0iB,CAAO,EAAGgZ,CAAA,CACb,EACA,EAEJ,eAAiB7Z,GACf0F,EAAKvnB,IAAW,CACd,MAAO,CACL,GAAGA,EAAM,MACT,OAAQ,CACN,GAAGA,EAAM,MAAM,OACf,CAAC6hB,EAAM,EAAE,EAAGA,CAAA,EAEd,YAAa,CACX,GAAG7hB,EAAM,MAAM,YACf,CAAC6hB,EAAM,EAAE,EAAG,IAAI,OAAO,aAAY,CACrC,CACF,EACA,EAEJ,WAAY,CAACa,EAASyI,IACpB5D,EAAKvnB,IAAW,CACd,QAAS,CACP,GAAGA,EAAM,QACT,CAAC0iB,CAAO,EAAGyI,CAAA,CACb,EACA,EAEJ,SAAU,CAACzI,EAAS5kB,IAClBypB,EAAKvnB,IAAW,CACd,OAAQ,CACN,GAAGA,EAAM,OACT,CAAC0iB,CAAO,EAAG5kB,GAAS,GACtB,EACA,EAEJ,WAAY,IACVypB,EAAI,CACF,MAAO,CACL,OAAQ,GACR,YAAa,EAAC,CAChB,CACD,EAEH,eAAiB7E,GACD8E,EAAA,EACD,MAAM,OAAO9E,CAAO,GAAK,KAGxC,cAAe,CAACA,EAASiZ,EAAS,IAAS,MAAS,CAElD,MAAMC,EADQpU,EAAA,EACY,MAAM,YAAY9E,CAAO,EACnD,OAAKkZ,EAIO,KAAK,MAAQ,IAAI,KAAKA,CAAW,EAAE,UAClCD,EAJd,EAKD,IAEF,CAAE,KAAM,aAAa,CAEzB,ECvDME,GAA4C,CAAC,CAEjD,MAAOC,EACP,UAAAC,EAAY,GACZ,WAAAC,EACA,gBAAAC,EACA,UAAAnQ,EAAY,EACd,IAAM,CACJ,MAAME,EAAWC,GAAA,EACX,CAAE,cAAAiQ,EAAe,QAASC,EAAc,iBAAAC,CAAA,EAAqBZ,GAAA,EAC7D,CAAE,kBAAAa,EAAmB,WAAAC,CAAA,EAAetR,GAAA,EAEpCnJ,EAASia,GAAiBI,EAC1B/Q,EAAU4Q,GAAaI,EAEvB,CAACI,EAAoBC,CAAqB,EAAI1Y,WAAS,CAAC,EACxD,CAAC2Y,EAAWC,CAAY,EAAI5Y,WAAsE,OAAO,EACzG,CAAC6Y,EAAeC,CAAgB,EAAI9Y,WAAS,EAAK,EAElD+Y,EAAeC,GAEjB7O,OAAC,OAAI,UAAU,0BAClB,WAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAACn1B,EAAGe,IACfsL,MAAC43B,GAAA,CAEC,UAAWtC,EACT,UACA5gC,EAAI,KAAK,MAAMijC,CAAM,EACjB,+BACZ,gBACM,EANKjjC,CAAA,CAQR,QACA,QAAK,UAAU,4DACb,SAAAijC,EAAO,QAAQ,CAAC,EACnB,GACF,EAIEE,EAAwBC,GACxBA,GAAS,GACJ,8BAELA,GAAS,GACJ,mCAELA,GAAS,GACJ,mCAEF,4BAGHC,EAAc,CAACC,EAAeC,EAAmB,QAC9C,IAAI,KAAK,aAAa,QAAS,CACpC,MAAO,WACP,SAAAA,CAAA,CACD,EAAE,OAAOD,CAAK,EAGjB,GAAI,CAACtb,EACH,OACE1c,MAAC,OAAI,UAAWs1B,EAAG,oBAAqB3O,CAAS,EAC/C,SAAAmC,OAAC,OAAI,UAAU,mBACb,UAAA9oB,MAAC,OAAI,UAAU,oGACb,eAAC+oB,GAAA,CAAO,UAAU,wBAAwB,EAC5C,EACA/oB,MAAC,MAAG,UAAU,2DAA2D,2BAEzE,EACAA,MAAC,KAAE,UAAU,wCAAwC,2EAErD,QACCy1B,GAAA,CAAO,QAASqB,EAAiB,QAAQ,UAAU,2BAEpD,GACF,EACF,EAKJ,GAAI9Q,EACF,cACG,OAAI,UAAWsP,EAAG,0BAA2B3O,CAAS,EACrD,UAAA3mB,MAAC,OAAI,UAAU,+CAA+C,EAC9D8oB,OAAC,OAAI,UAAU,YACb,UAAA9oB,MAAC,OAAI,UAAU,iDAAiD,EAChEA,MAAC,OAAI,UAAU,iDAAiD,EAChEA,MAAC,OAAI,UAAU,4CAA4C,GAC7D,GACF,EAIJ,MAAMk4B,EAAkBxb,EAAM,aAC1B,KAAK,IAAI,GAAG,OAAO,OAAOA,EAAM,YAAY,CAAC,EAC7C,EAEEyb,EACJjB,EAAkB,SAAWA,EAAkB,SAC3C,KAAK,MACF,IAAI,KAAKA,EAAkB,QAAQ,EAAE,UACpC,IAAI,KAAKA,EAAkB,OAAO,EAAE,YACnC,IAAO,GAAK,GAAK,KAEtB,EAEN,cACG,OAAI,UAAW5B,EAAG,oBAAqB3O,CAAS,EAE/C,UAAAmC,OAAC,OAAI,UAAU,yCACZ,UAAAgO,GACChO,OAAC2M,GAAA,CACC,QAASqB,EACT,QAAQ,QACR,UAAU,0CAEV,UAAA92B,MAACo4B,GAAA,CAAU,UAAU,eAAe,EAAE,qBAK1CtP,OAAC,OAAI,UAAU,0BACZ,UAAAoP,EAAkB,IACjBpP,OAAC,OACC,UAAWwM,EACT,iGACAuC,EAAqBK,CAAe,GAGtC,UAAAl4B,MAACq4B,GAAA,CAAS,UAAU,UAAU,EAC7B,KAAK,MAAMH,EAAkB,GAAG,EAAE,qBAItCxb,EAAM,qBAAuBA,EAAM,oBAAsB,IACxDoM,OAAC,OAAI,UAAU,iGACb,UAAA9oB,MAACs4B,GAAA,CAAK,UAAU,UAAU,EAAE,gBAE9B,EAGFt4B,MAACy1B,GAAA,CAAO,QAAQ,UAAU,KAAK,OAC7B,SAAAz1B,MAACu4B,GAAA,CAAM,UAAU,UAAU,EAC7B,EAEAv4B,MAACy1B,GAAA,CAAO,QAAQ,UAAU,KAAK,OAC7B,SAAAz1B,MAACw4B,GAAA,CAAO,UAAU,UAAU,EAC9B,GACF,GACF,EAGA1P,OAAC,OAAI,UAAU,gBACZ,UAAC0O,EA0FAx3B,MAAC,OAAI,UAAU,uDACZ,SAAA0c,EAAM,OAAO,IAAI,CAAC+b,EAAOn7B,IACxB0C,MAAC,OAAgB,UAAU,gCACzB,SAAAA,MAAC,OACC,IAAKy4B,EAAM,IACX,IAAKA,EAAM,IACX,UAAU,gFACV,QAAS,IAAM,CACbpB,EAAsB/5B,CAAK,EAC3Bm6B,EAAiB,EAAK,CACxB,EACA,QAAUnmC,GAAM,CACbA,EAAE,OAA4B,IAAM,wBACvC,KAXMgM,CAaV,CACD,EACH,EA1GAwrB,OAAC,OAAI,UAAU,wCACb,UAAAA,OAAC,OAAI,UAAU,+BACb,UAAA9oB,MAAC,OACC,IAAK0c,EAAM,OAAO0a,CAAkB,GAAG,KAAO,yBAC9C,IAAK1a,EAAM,OAAO0a,CAAkB,GAAG,KAAO1a,EAAM,KACpD,UAAU,sCACV,QAAUprB,GAAM,CACbA,EAAE,OAA4B,IAAM,wBACvC,IAIDorB,EAAM,OAAO,OAAS,GACrBoM,OAAAkB,WAAA,CACE,UAAAhqB,MAACy1B,GAAA,CACC,QAAQ,YACR,KAAK,OACL,UAAU,yIACV,QAAS,IACP4B,EACED,EAAqB,EACjBA,EAAqB,EACrB1a,EAAM,OAAO,OAAS,GAI9B,SAAA1c,MAAC04B,GAAA,CAAY,UAAU,UAAU,IAEnC14B,MAACy1B,GAAA,CACC,QAAQ,YACR,KAAK,OACL,UAAU,0IACV,QAAS,IACP4B,EACED,EAAqB1a,EAAM,OAAO,OAAS,EACvC0a,EAAqB,EACrB,GAIR,SAAAp3B,MAAC8qB,GAAA,CAAa,UAAU,UAAU,GACpC,EACF,EAIDpO,EAAM,gBACLoM,OAAC2M,GAAA,CACC,QAAQ,YACR,UAAU,oEACV,QAAS,IAAM,OAAO,KAAK/Y,EAAM,eAAgB,QAAQ,EAEzD,UAAA1c,MAAC24B,GAAA,CAAK,UAAU,eAAe,EAAE,kBAMrC7P,OAAC,OAAI,UAAU,6EACZ,UAAAsO,EAAqB,EAAE,MAAI1a,EAAM,OAAO,QAC3C,GACF,QAEC,OAAI,UAAU,wCACZ,SAAAA,EAAM,OAAO,MAAM,EAAG,CAAC,EAAE,IAAI,CAAC+b,EAAOn7B,IACpCwrB,OAAC,OAAoB,UAAU,gCAC7B,UAAA9oB,MAAC,OACC,IAAKy4B,EAAM,IACX,IAAKA,EAAM,IACX,UAAU,wFACV,QAAS,IAAMpB,EAAsB/5B,EAAQ,CAAC,EAC9C,QAAUhM,GAAM,CACbA,EAAE,OAA4B,IAAM,wBACvC,IAEDgM,IAAU,GAAKof,EAAM,OAAO,OAAS,GACpCoM,OAAC,OACC,UAAU,iHACV,QAAS,IAAM2O,EAAiB,EAAI,EAEpC,UAAAz3B,MAAC44B,GAAA,CAAO,UAAU,eAAe,EAAE,YACzBlc,EAAM,OAAO,OAAO,YAChC,GAjBMpf,EAAQ,CAmBlB,CACD,EACH,GACF,EAsBDk6B,GACC1O,OAAC2M,GAAA,CACC,QAAS,IAAMgC,EAAiB,EAAK,EACrC,QAAQ,UACR,UAAU,OAEV,UAAAz3B,MAACgpB,GAAA,CAAE,UAAU,eAAe,EAAE,kBAEhC,EAEJ,QAGC,OAAI,UAAU,OACb,SAAAF,OAAC,OAAI,UAAU,oEACb,UAAAA,OAAC,OAAI,UAAU,SACb,UAAA9oB,MAAC,MAAG,UAAU,oEACX,SAAA0c,EAAM,KACT,EACAoM,OAAC,OAAI,UAAU,gEACb,UAAA9oB,MAAC+oB,GAAA,CAAO,UAAU,UAAU,EAC5BD,OAAC,QAAK,UAAU,UACb,UAAApM,EAAM,SAAS,QAAQ,KAAGA,EAAM,SAAS,KAAK,IAC9C,IACAA,EAAM,SAAS,SAClB,GACF,EACAoM,OAAC,OAAI,UAAU,+BACZ,UAAA4O,EAAYhb,EAAM,MAAM,EACzBoM,OAAC,QAAK,UAAU,mCAAmC,cAC/CpM,EAAM,YAAY,iBAAiB,aACvC,GACF,EAGAoM,OAAC,OAAI,UAAU,gEACb,UAAAA,OAAC,OAAI,UAAU,0BACb,UAAA9oB,MAACqpB,GAAA,CAAM,UAAU,UAAU,EAAE,aAClB3M,EAAM,aACnB,EACAoM,OAAC,OAAI,UAAU,0BACb,UAAA9oB,MAACqpB,GAAA,CAAM,UAAU,UAAU,EAAE,cACjB3M,EAAM,cACpB,GACF,GACF,EAGAoM,OAACiN,GAAA,CAAK,UAAU,wCACd,UAAAjN,OAAC,OAAI,UAAU,mBACb,UAAA9oB,MAAC,OAAI,UAAU,2CAA2C,gBAAI,EAC9DA,MAAC,OAAI,UAAU,sCACZ,SAAA+3B,EAAYrb,EAAM,WAAW,WAAYA,EAAM,WAAW,QAAQ,EACrE,EACA1c,MAAC,OAAI,UAAU,2CAA2C,qBAAS,EAClEm4B,EAAc,GACbrP,OAAC,OAAI,UAAU,2DAA2D,mBACjE,IACNiP,EACCrb,EAAM,WAAW,WAAayb,EAC9Bzb,EAAM,WAAW,SACnB,EACF,GAEJ,EAGCwa,EAAkB,SAAWA,EAAkB,UAC9Cl3B,MAAC,OAAI,UAAU,kDACb,SAAA8oB,OAAC,OAAI,UAAU,iCACb,UAAAA,OAAC,OACC,UAAA9oB,MAAC,OAAI,UAAU,mCAAmC,oBAAQ,EAC1DA,MAAC,OAAI,UAAU,cAAe,WAAkB,QAAQ,GAC1D,SACC,OACC,UAAAA,MAAC,OAAI,UAAU,mCAAmC,qBAAS,EAC3DA,MAAC,OAAI,UAAU,cAAe,WAAkB,SAAS,GAC3D,EACA8oB,OAAC,OAAI,UAAU,aACb,UAAA9oB,MAAC,OAAI,UAAU,mCAAmC,kBAAM,EACxD8oB,OAAC,OAAI,UAAU,cACZ,UAAAqO,EAAW,OAAO,UAAQA,EAAW,SAAW,GAAK,KAAKA,EAAW,QAAQ,YAAY,QAAMA,EAAW,MAAM,QAAMA,EAAW,MAAQ,EAAI,IAAM,IACtJ,GACF,GACF,EACF,EAGFrO,OAAC2M,GAAA,CACC,UAAU,cACV,KAAK,KACL,QAAS,IAAM,CACT/Y,IACFua,EAAiBva,CAAK,EACtBmK,EAAS,UAAU,EAEvB,EAEA,UAAA7mB,MAACkpB,GAAA,CAAS,UAAU,eAAe,EAAE,cAIvCJ,OAAC2M,GAAA,CAAO,QAAQ,UAAU,UAAU,SAClC,UAAAz1B,MAACmpB,GAAA,CAAM,UAAU,eAAe,EAAE,cAEpC,GACF,GACF,EACF,QAGC,OAAI,UAAU,qDACb,SAAAnpB,MAAC,OAAI,UAAU,iCACZ,UACC,CAAE,GAAI,WAAY,MAAO,WAAY,KAAM,MAC3C,CAAE,GAAI,QAAS,MAAO,gBAAiB,KAAM,MAC7C,CAAE,GAAI,YAAa,MAAO,YAAa,KAAM,MAC7C,CAAE,GAAI,WAAY,MAAO,WAAY,KAAM+oB,EAAA,EAC3C,CAAE,GAAI,UAAW,MAAO,UAAW,KAAM6O,EAAA,CAAK,EAC9C,IAAKiB,GACL/P,OAAC,UAEC,QAAS,IAAMyO,EAAasB,EAAI,EAAsB,EACtD,UAAWvD,EACT,uGACAgC,IAAcuB,EAAI,GACd,sCACA,qJAGL,UAAAA,EAAI,MAAQ74B,MAAC64B,EAAI,KAAJ,CAAS,UAAU,UAAU,EAC1CA,EAAI,QAVAA,EAAI,GAYZ,EACH,EACF,EAGA/P,OAAC,OAAI,UAAU,OACZ,UAAAwO,IAAc,YACbxO,OAAC,OAAI,UAAU,wCACb,UAAAA,OAAC,OAAI,UAAU,gBACb,UAAA9oB,MAAC,MAAG,UAAU,6BAA6B,4BAAgB,QAC1D,KAAE,UAAU,wDACV,SAAA0c,EAAM,iBAAmBA,EAAM,YAClC,EAGCA,EAAM,cAAgB,OAAO,KAAKA,EAAM,YAAY,EAAE,OAAS,GAC9DoM,OAAC,OAAI,UAAU,OACb,UAAA9oB,MAAC,MAAG,UAAU,2DAA2D,uBAAW,QACnF,OAAI,UAAU,wCACZ,gBAAO,QAAQ0c,EAAM,YAAY,EAC/B,OAAO,CAAC,CAAC/oB,EAAGmkC,CAAK,IAAMA,EAAQ,EAAG,EAClC,KAAK,CAAC,CAACnkC,EAAGzC,CAAC,EAAG,CAAC4nC,EAAI1nC,CAAC,IAAMA,EAAIF,CAAC,EAC/B,IAAI,CAAC,CAAC6nC,EAASjB,CAAK,IACnBhP,OAAC,OAAkB,UAAU,+EAC3B,UAAA9oB,MAAC,QAAK,UAAU,uDACb,SAAA+4B,EAAQ,QAAQ,WAAY,KAAK,EAAE,MAAK,CAC3C,EACAjQ,OAAC,OAAI,UAAU,0BACb,UAAA9oB,MAAC,OAAI,UAAU,qEACb,SAAAA,MAAC,OACC,UAAWs1B,EACT,kEACAuC,EAAqBC,CAAK,GAE5B,aAAYA,EAAQ,MAExB,EACAhP,OAAC,QAAK,UAAU,uDACb,eAAK,MAAMgP,EAAQ,GAAG,EAAE,KAC3B,GACF,IAjBQiB,CAkBV,CACD,EACL,GACF,EAGF/4B,MAAC,MAAG,UAAU,2DAA2D,0BAAc,EACvFA,MAAC,OAAI,UAAU,YACZ,WAAM,SAAS,IACd,CACEg5B,EACA17B,IAEFwrB,OAAC,OAAgB,UAAU,oEACxB,UAAAkQ,EAAO,OAAS,eACfh5B,MAACyqB,GAAA,CAAO,UAAU,kDAAkD,EAEpEzqB,MAACi5B,GAAA,CAAM,UAAU,8CAA8C,SAEhE,OACC,UAAAj5B,MAAC,OAAI,UAAU,4CAA6C,SAAAg5B,EAAO,MAAM,EACzEh5B,MAAC,OAAI,UAAU,2CAA4C,WAAO,YAAY,GAChF,IATQ1C,CAUV,EAEF,CACF,GACF,EAEAwrB,OAAC,OAAI,UAAU,YACb,UAAAA,OAACiN,GAAA,CAAK,UAAU,MACd,UAAA/1B,MAAC,MAAG,UAAU,2DAA2D,gCAAoB,EAC7F8oB,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OAAI,UAAU,oCACb,UAAA9oB,MAAC,QAAK,UAAU,mCAAmC,qBAAS,EAC5DA,MAAC,QAAK,UAAU,4CAA6C,WAAM,YAAY,GACjF,EACA8oB,OAAC,OAAI,UAAU,oCACb,UAAA9oB,MAAC,QAAK,UAAU,mCAAmC,sBAAU,EAC7DA,MAAC,QAAK,UAAU,4CAA6C,WAAM,aAAa,GAClF,GACF,GACF,EAEC0c,EAAM,qBAAuBA,EAAM,oBAAsB,IACxDoM,OAACiN,GAAA,CAAK,UAAU,MACd,UAAAjN,OAAC,OAAI,UAAU,+BACb,UAAA9oB,MAACs4B,GAAA,CAAK,UAAU,yBAAyB,EACzCt4B,MAAC,MAAG,UAAU,sDAAsD,0BAAc,GACpF,EACA8oB,OAAC,OAAI,UAAU,+BACb,UAAA9oB,MAAC,OAAI,UAAU,uEACb,SAAAA,MAAC,OACC,UAAU,8DACV,aAAY0c,EAAM,oBAAsB,MAE5C,EACAoM,OAAC,QAAK,UAAU,uDACb,eAAK,MAAMpM,EAAM,oBAAsB,GAAG,EAAE,KAC/C,GACF,EACA1c,MAAC,KAAE,UAAU,2CAA2C,kFAExD,GACF,GAEJ,GACF,EAGDs3B,IAAc,SACbt3B,MAAC,OAAI,UAAU,aACZ,WAAM,MAAM,IAAKk5B,SACf,OAAkB,UAAU,wCAC3B,SAAApQ,OAAC,OAAI,UAAU,kCACb,UAAA9oB,MAAC,OAAI,UAAU,WACb,SAAAA,MAAC,OACC,IAAKk5B,EAAK,OAAO,CAAC,GAAK,wBACvB,IAAKA,EAAK,KACV,UAAU,sCACV,QAAU5nC,GAAM,CACbA,EAAE,OAA4B,IAAM,uBACvC,IAEJ,EAEAw3B,OAAC,OAAI,UAAU,WACb,UAAAA,OAAC,OAAI,UAAU,wCACb,UAAAA,OAAC,OACC,UAAA9oB,MAAC,MAAG,UAAU,6BAA8B,SAAAk5B,EAAK,KAAK,EACtDl5B,MAAC,KAAE,UAAU,qBAAsB,WAAK,YAAY,EACpD8oB,OAAC,OAAI,UAAU,6CACb,UAAAA,OAAC,QAAK,wBAAYoQ,EAAK,SAAS,WAAO,SACtC,QAAK,qBAASA,EAAK,MAAK,GAC3B,GACF,EACApQ,OAAC,OAAI,UAAU,aACb,UAAA9oB,MAAC,OAAI,UAAU,wCACZ,SAAA+3B,EAAYmB,EAAK,MAAOA,EAAK,QAAQ,EACxC,EACAl5B,MAAC,OAAI,UAAU,wBAAwB,qBAAS,GAClD,GACF,EAEA8oB,OAAC,OAAI,UAAU,OACb,UAAA9oB,MAAC,MAAG,UAAU,mBAAmB,2BAAe,EAChDA,MAAC,OAAI,UAAU,uBACZ,WAAK,UAAU,IAAI,CAACm5B,EAAiB77B,IACpC0C,MAAC,QAEC,UAAU,qEAET,SAAAm5B,CAAA,EAHI77B,CAAA,CAKR,EACH,GACF,EAEA0C,MAAC,UACC,QAAS,IAAM62B,GAAcA,EAAWqC,EAAK,EAAE,EAC/C,SAAU,CAACA,EAAK,aAChB,UAAU,oIAET,SAAAA,EAAK,aAAe,iBAAmB,iBAC1C,EACF,GACF,GArDQA,EAAK,EAsDf,CACD,EACH,EAGD5B,IAAc,aACbt3B,MAAC,OAAI,UAAU,uDACZ,gBAAO,QACN0c,EAAM,UAAU,OAEd,CAAC0c,EAAKD,KACDC,EAAID,EAAQ,QAAQ,IACvBC,EAAID,EAAQ,QAAQ,EAAI,IAE1BC,EAAID,EAAQ,QAAQ,EAAE,KAAKA,CAAO,EAC3BC,GACN,EAAE,GACL,IAAI,CAAC,CAACC,EAAUC,CAAS,IACzBxQ,OAAC,OAAmB,UAAU,iDAC5B,UAAAA,OAAC,MAAG,UAAU,wCACX,UAAAuQ,EAAS,QAAQ,IAAK,GAAG,EAAE,cAC9B,EACAr5B,MAAC,OAAI,UAAU,YACZ,SAAAs5B,EAAU,IAAKH,GACdrQ,OAAC,OAAqB,UAAU,oBAC9B,UAAA9oB,MAAC,QAAK,UAAU,gBAAiB,SAAAm5B,EAAQ,KAAK,EAC9Cn5B,MAAC,QAAK,UAAU,gBAAiB,WAAQ,KAAK,IAFtCm5B,EAAQ,EAGlB,CACD,EACH,IAXQE,CAYV,CACD,EACH,EAGD/B,IAAc,YACbxO,OAAC,OAAI,UAAU,wCACb,UAAAA,OAAC,OACC,UAAA9oB,MAAC,MAAG,UAAU,6BAA6B,8BAAkB,EAC7DA,MAAC,OAAI,UAAU,YACZ,WAAM,kBAAkB,IACvB,CACEu5B,EACAj8B,IAEFwrB,OAAC,OAAgB,UAAU,8DACzB,UAAAA,OAAC,OACC,UAAA9oB,MAAC,OAAI,UAAU,4BAA6B,SAAAu5B,EAAW,KAAK,EAC5Dv5B,MAAC,OAAI,UAAU,wBAAyB,WAAW,KAAK,GAC1D,EACAA,MAAC,OAAI,UAAU,yCACZ,WAAW,SACd,IAPQ1C,CAQV,EAEF,CACF,GACF,SAEC,OACC,UAAA0C,MAAC,MAAG,UAAU,6BAA6B,wBAAY,EACvDA,MAAC,OAAI,UAAU,+DACb,eAAC,QAAK,UAAU,gBAAgB,uCAA2B,EAC7D,EACA8oB,OAAC,OAAI,UAAU,6BACb,UAAA9oB,MAAC,UAAO,oBAAQ,EAAS,IAAE0c,EAAM,SAAS,QAAQ,KAAGA,EAAM,SAAS,KAAK,IAAE,IAC1EA,EAAM,SAAS,SAClB,GACF,GACF,GAEJ,GACF,CAEJ,EAEA8c,GAAeC,OAAK/C,EAAY,ECrqBzB,SAASgD,IAAmB,CACjC,KAAM,CAAE,GAAA7vB,CAAA,EAAO8vB,GAAA,EAEf,OAAK9vB,QAKF,OAAI,UAAU,eACb,SAAA7J,MAAC02B,KAAa,EAChB,EANO12B,MAAC,OAAI,2BAAe,CAQ/B,CCJO,MAAM45B,GAAgB,CAC3B,KAAM,6VACN,SAAU,CACR,QAAS,eACT,QAAS,2CACT,OAAQ,yEAEV,MAAO,CACL,GAAI,mBACJ,GAAI,oBACJ,GAAI,sBAER,EAEaC,GAAQnE,aACnB,CAAC,CAAE,UAAA/O,EAAW,QAAAgP,EAAU,UAAW,KAAAC,EAAO,KAAM,KAAAhjC,EAAM,MAAAopB,EAAO,MAAArjB,EAAO,KAAAmhC,EAAM,GAAAjwB,EAAI,KAAArE,EAAM,GAAG/B,CAAA,EAASqyB,IAAQ,CAEtG,MAAMiE,EAAcC,QAAA,EACdC,EAAUpwB,GAAMkwB,EAChBG,EAAY10B,GAAQy0B,EAE1B,OAAIje,EAEA8M,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,SACC,QAASmR,EACT,UAAU,sCAET,UAAAje,EACAvY,EAAM,UAAYzD,MAAC,QAAK,UAAU,oBAAoB,aAAC,KAE1DA,MAAC,SACC,GAAIi6B,EACJ,KAAMC,EACN,KAAAtnC,EACA,UAAW0iC,EACTsE,GAAc,KACdA,GAAc,SAASjE,CAAO,EAC9BiE,GAAc,MAAMhE,CAAI,EACxBj9B,GAAS,yDACTguB,CAAA,EAEF,IAAAmP,EACA,eAAc,CAAC,CAACn9B,EAChB,mBAAkBA,EAAQ,GAAGshC,CAAO,SAAWH,EAAO,GAAGG,CAAO,QAAU,OACzE,GAAGx2B,CAAA,GAEL9K,SACE,KAAE,GAAI,GAAGshC,CAAO,SAAU,UAAU,4BAClC,SAAAthC,CAAA,CACH,EAEDmhC,GAAQ,CAACnhC,GACRqH,MAAC,KAAE,GAAI,GAAGi6B,CAAO,QAAS,UAAU,6BACjC,SAAAH,CAAA,CACH,GAEJ,EAKFhR,OAAAkB,WAAA,CACE,UAAAhqB,MAAC,SACC,GAAIi6B,EACJ,KAAMC,EACN,KAAAtnC,EACA,UAAW0iC,EACTsE,GAAc,KACdA,GAAc,SAASjE,CAAO,EAC9BiE,GAAc,MAAMhE,CAAI,EACxBj9B,GAAS,yDACTguB,CAAA,EAEF,IAAAmP,EACA,eAAc,CAAC,CAACn9B,EAChB,mBAAkBA,EAAQ,GAAGshC,CAAO,SAAWH,EAAO,GAAGG,CAAO,QAAU,OACzE,GAAGx2B,CAAA,GAEL9K,SACE,KAAE,GAAI,GAAGshC,CAAO,SAAU,UAAU,4BAClC,SAAAthC,CAAA,CACH,EAEDmhC,GAAQ,CAACnhC,GACRqH,MAAC,KAAE,GAAI,GAAGi6B,CAAO,QAAS,UAAU,6BACjC,SAAAH,CAAA,CACH,GAEJ,CAEJ,CACF,EAEAD,GAAM,YAAc,QC9Fb,MAAMM,EAAqB,CAChC,OAAe,SACP,OAA8B,KAE9B,aAAc,CACpB,KAAK,kBACP,CAEA,OAAO,aAAoC,CACzC,OAAKA,GAAqB,WACxBA,GAAqB,SAAW,IAAIA,IAE/BA,GAAqB,QAC9B,CAEQ,kBAAyB,CAC/B,MAAMC,EAAgB,8CAChBC,EAAa,gCAcbC,EAAcF,EAAc,WAAW,UAAU,EAAI,UAAY,aAEvE,KAAK,OAAS,CACZ,cAAAA,EACA,WAAAC,EACA,YAAAC,EACA,aAAc,IAIhB,KAAK,gBACP,CAEQ,gBAAuB,CAC7B,GAAI,CAAC,KAAK,OAAQ,OAElB,KAAM,CAAE,cAAAF,EAAe,YAAAE,CAAA,EAAgB,KAAK,OAGtCC,EAAgBH,EAAc,WAAW,UAAU,EAAI,UAAY,aACrEE,IAAgBC,GAClB,QAAQ,MAAM,2EAA4E,EAIxFD,IAAgB,WAAa,CAACF,EAAc,WAAW,iBAAiB,GAC1E,QAAQ,MAAM,uCAAuC,EAGnDE,IAAgB,cAAgB,CAACF,EAAc,WAAW,SAAS,GACrE,QAAQ,MAAM,0CAA0C,EAG1D,QAAQ,KAAK,UAAUE,CAAW,sCAAsC,CAC1E,CAEA,WAAiC,CAC/B,OAAO,KAAK,MACd,CAEA,cAAwB,CACtB,OAAO,KAAK,QAAQ,cAAgB,EACtC,CAEA,gBAAkD,CAChD,OAAO,KAAK,QAAQ,aAAe,IACrC,CAEA,eAAyB,CACvB,OAAK,KAAK,OAEH,KAAK,OAAO,cAAc,SAAS,UAAU,GAC7C,KAAK,OAAO,WAAW,SAAS,UAAU,GAC1C,KAAK,OAAO,gBAAkB,2CAC9B,KAAK,OAAO,aAAe,oBALT,EAM3B,CAEA,cAAwB,CACtB,OAAO,KAAK,QAAQ,cAAgB,YACtC,CAEA,WAAqB,CACnB,OAAO,KAAK,QAAQ,cAAgB,SACtC,CAKA,iBAA0B,CAExB,OADoB,KAAK,mBACF,aACnB,yCACA,gDACN,CAKA,MAAM,aAA8D,CAClE,OAAO,IAAI,QAASrlC,GAAY,CAE9B,GAAI,OAAO,OAAW,KAAgB,OAAe,OAAQ,CAC3DA,EAAQ,CAAE,SAAU,GAAM,EAC1B,MACF,CAGA,IAAIulC,EAAW,EACf,MAAMC,EAAc,GAEdC,EAAW,IAAM,CACrBF,IAEK,OAAe,OAClBvlC,EAAQ,CAAE,SAAU,GAAM,EACjBulC,GAAYC,EACrBxlC,EAAQ,CACN,SAAU,GACV,MAAO,0FACR,EAED,WAAWylC,EAAU,GAAG,CAE5B,EAEAA,EAAA,CACF,CAAC,CACH,CAKA,oBAAoC,CAClC,OAAI,KAAK,eACA,KAGF;AAAA;AAAA;AAAA,kCAIT,CAKA,cAAwE,CACtE,OAAK,KAAK,YAIH,CACL,CACE,KAAM,eACN,OAAQ,mBACR,YAAa,6BAEf,CACE,KAAM,qBACN,OAAQ,mBACR,YAAa,6BAEf,CACE,KAAM,2BACN,OAAQ,kBACR,YAAa,6BAEf,CACE,KAAM,kBACN,OAAQ,mBACR,YAAa,mBAEf,CACE,KAAM,qBACN,OAAQ,mBACR,YAAa,iCAEf,CACE,KAAM,YACN,OAAQ,mBACR,YAAa,uBACf,EAjCO,EAmCX,CACF,CAGO,MAAMC,GAAgBR,GAAqB,cC5K3C,MAAMS,EAAqB,CAChC,OAAe,SAEP,aAAc,CAAC,CAEvB,OAAO,aAAoC,CACzC,OAAKA,GAAqB,WACxBA,GAAqB,SAAW,IAAIA,IAE/BA,GAAqB,QAC9B,CAEA,MAAM,eAAevzB,EAAiD,CACpE,GAAI,CAEF,OAAI,KAAK,oBACA,KAAK,mBAAmBA,CAAO,EAIjC,KAAK,mBAAmBA,CAAO,CACxC,OAAS1O,EAAO,CACd,OAAAujB,EAAO,KAAK,uDAAwD,CAClE,UAAW,uBACX,OAAQ,iBACR,UAAW7U,EAAQ,UACnB,OAAQA,EAAQ,OAChB,SAAUA,EAAQ,SAClB,MAAO1O,aAAiB,MAAQA,EAAM,QAAU,gBAChD,iBAAkB,eACnB,EAGM,KAAK,mBAAmB0O,CAAO,CACxC,CACF,CAEQ,mBAA6B,CAOnC,MAAMwzB,EAAqBF,GAAc,gBACvC,CAAC,KAAK,2BAER,MAAO,EACT,CAEQ,0BAAoC,CAC1C,MAAM/iC,EAAS+iC,GAAc,YAC7B,OAAK/iC,EAEEA,EAAO,cAAc,SAAS,UAAU,GACxCA,EAAO,WAAW,SAAS,UAAU,GACrCA,EAAO,gBAAkB,2CACzBA,EAAO,aAAe,oBALT,EAMtB,CAEA,MAAc,mBAAmByP,EAAiD,CAGhF,MAAMC,EAAW,MAAM,MAAM,iDAAiC,CAC5D,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,OAAU,oBAEZ,KAAM,KAAK,UAAUD,CAAO,EAC7B,EAED,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,sBAAsBA,EAAS,MAAM,IAAIA,EAAS,UAAU,EAAE,EAGhF,MAAMlS,EAAO,MAAMkS,EAAS,OAE5B,GAAIlS,EAAK,QACP,MAAO,CACL,QAAS,GACT,UAAWA,EAAK,UAChB,WAAYA,EAAK,WACjB,cAAe,IAGjB,MAAM,IAAI,MAAMA,EAAK,cAAgB,2BAA2B,CAEpE,CAEA,MAAc,mBAAmBiS,EAAiD,CAChF6U,EAAO,KAAK,kDAAmD,CAC7D,UAAW,uBACX,OAAQ,qBACR,UAAW7U,EAAQ,UACnB,OAAQA,EAAQ,OAChB,SAAUA,EAAQ,SAClB,WAAY,GACb,EAGD,MAAM,IAAI,QAAQpS,GAAW,WAAWA,EAAS,GAAI,CAAC,EAGtD,MAAM6lC,EAAc,KAAK,sBAAsBzzB,CAAO,EAEtD,GAAIyzB,EAAY,QAAS,CACvB,MAAMC,EAAgB,gBAAgB,KAAK,KAAK,IAAI,KAAK,SAAS,SAAS,EAAE,EAAE,OAAO,EAAG,CAAC,CAAC,GACrFC,EAAa,wCAAwCD,CAAa,GAExE,OAAA7e,EAAO,KAAK,sCAAuC,CACjD,UAAW,uBACX,UAAW6e,EACX,UAAW1zB,EAAQ,UACnB,OAAQA,EAAQ,OAChB,SAAUA,EAAQ,SAClB,cAAe,GAChB,EAEM,CACL,QAAS,GACT,UAAW0zB,EACX,WAAAC,EACA,cAAe,GAEnB,KACE,QAAA9e,EAAO,KAAK,6CAA8C,CACxD,UAAW,uBACX,UAAW7U,EAAQ,UACnB,OAAQA,EAAQ,OAChB,SAAUA,EAAQ,SAClB,cAAeyzB,EAAY,OAC3B,cAAe,GAChB,EAEM,CACL,QAAS,GACT,UAAW,GACX,aAAcA,EAAY,OAC1B,cAAe,GAGrB,CAEQ,sBAAsBzzB,EAAgE,CAS5F,GAAIA,EAAQ,OAAS,EACnB,MAAO,CAAE,QAAS,GAAO,OAAQ,6CAGnC,GAAIA,EAAQ,OAAS,IACnB,MAAO,CAAE,QAAS,GAAO,OAAQ,8BAInC,GAAI,KAAK,SAAW,IAAM,CACxB,MAAM4zB,EAAW,CACf,qCACA,6CACA,8CACA,sCAEF,MAAO,CACL,QAAS,GACT,OAAQA,EAAS,KAAK,MAAM,KAAK,SAAWA,EAAS,MAAM,CAAC,EAEhE,CAEA,MAAO,CAAE,QAAS,GACpB,CAKA,wBAAwBC,EAAwBC,EAA+B,CAC7E,OAAID,GAAiB,CAACC,EACb,8EAGLD,GAAiBC,EACZ,6FAGF,mFACT,CAKA,wBAAkF,CAChF,OAAKR,GAAc,YAIZA,GAAc,eAHZ,EAIX,CAKA,uBAAuBtzB,EAA+D,CACpF,MAAM+zB,EAAmB,GAEzB,MAAI,CAAC/zB,EAAQ,UAAY,CAAC,KAAK,qBAC7B+zB,EAAO,KAAK,4BAA4B,GAGtC,CAAC/zB,EAAQ,QAAUA,EAAQ,QAAU,IACvC+zB,EAAO,KAAK,mCAAmC,EAG7C/zB,EAAQ,OAAS,IACnB+zB,EAAO,KAAK,iCAAiC,EAG3C/zB,EAAQ,OAAS,WACnB+zB,EAAO,KAAK,uCAAuC,EAGhD/zB,EAAQ,WAAW,QACtB+zB,EAAO,KAAK,wBAAwB,EAGlC/zB,EAAQ,UAAY,CAAC,CAAC,MAAO,MAAO,MAAO,MAAO,KAAK,EAAE,SAASA,EAAQ,QAAQ,GACpF+zB,EAAO,KAAK,sBAAsB,EAG7B,CACL,MAAOA,EAAO,SAAW,EACzB,OAAAA,CAAA,CAEJ,CAKA,eAAeC,EAAgBpD,EAAmB,MAAe,CAC/D,OAAO,IAAI,KAAK,aAAa,QAAS,CACpC,MAAO,WACP,SAAAA,EACA,sBAAuB,EACxB,EAAE,OAAOoD,CAAM,CAClB,CACF,CAGO,MAAMC,GAAuBV,GAAqB,cCjQnDW,GAAoB9B,OAA6B,CAAC,CACtD,UAAA+B,EACA,OAAAH,EACA,SAAApD,EAAW,MACX,UAAAwD,EACA,QAAA9/B,EACA,eAAA+/B,CACF,IAAM,CACJ,KAAM,CAAC9E,EAAW+E,CAAY,EAAIhd,WAAS,EAAI,EACzC,CAACid,EAAcC,CAAe,EAAIld,WAAS,EAAK,EAChD,CAACmd,EAAaC,CAAc,EAAIpd,WAAwB,IAAI,EAC5D,CAACqd,EAAgBC,CAAiB,EAAItd,WAAS,EAAK,EACpD,CAACud,EAAYC,CAAa,EAAIxd,WAAS,EAAK,EAC5C,CAACyd,EAAMC,CAAO,EAAI1d,WAAc,IAAI,EACpC,CAAC2d,EAAaC,CAAc,EAAI5d,WAAsB,CAC1D,UAAW,GACX,SAAU,GACV,MAAO,GACP,aAAc,GACd,aAAc,GACd,SAAU,GACV,6BAA8B,GAC9B,WAAY,GACZ,QAAS,KACV,EAEK6d,EAAmBC,cAAY,SAAY,CAC/C,GAAI,CACFd,EAAa,EAAI,EACjBI,EAAe,IAAI,EAGnB,MAAMW,EAAqB,GACrB7B,EAAqBF,GAAc,gBAAkB,CAACA,GAAc,gBAE1E,GAAI+B,GAAsB,CAAC7B,EAAoB,CAC7CsB,EAAc,EAAI,EAClBR,EAAa,EAAK,EAClBzf,EAAO,KAAK,uDAAwD,CAAE,UAAW,oBAAqB,EACtG,MACF,CAGA,MAAMtkB,EAAS+iC,GAAc,YAC7B,GAAI,CAAC/iC,EACH,MAAM,IAAI,MAAM,oCAAoC,EAItD,GAAI,CAAC,OAAO,OACV,MAAM,IAAI,MAAM,2BAA2B,EAO7C,MAAM+kC,EAAc,MAHF,OAAe,OAAO,SAAS/kC,EAAO,cAAeA,EAAO,UAAU,EAGrD,KAAK,CACtC,MAAO,CACL,MAAO,CACL,SAAU,OACV,WAAY,+BACZ,MAAO,UACP,WAAY,QAEd,mBAAoB,CAClB,aAAc,MACd,YAAa,MACb,YAAa,UACb,gBAAiB,WAEnB,4BAA6B,CAC3B,YAAa,UACb,UAAW,qBAEb,4BAA6B,CAC3B,YAAa,UACf,CACF,CACD,EAED,MAAM+kC,EAAY,OAAO,iBAAiB,EAC1CN,EAAQM,CAAW,EACnBR,EAAc,EAAK,EACnBjgB,EAAO,KAAK,0CAA2C,CAAE,UAAW,oBAAqB,CAC3F,OAASvjB,EAAO,CACdujB,EAAO,KAAK,gDAAiD,CAAE,UAAW,oBAAqB,MAAAvjB,EAAO,EACtGwjC,EAAc,EAAI,EAClBJ,EAAe,IAAI,CACrB,SACEJ,EAAa,EAAK,CACpB,CACF,EAAG,EAAE,EAEL/c,YAAU,IAAM,CACd4d,EAAA,CACF,EAAG,CAACA,CAAgB,CAAC,EAErB,MAAMI,EAAgB,MAAOtrC,GAAuB,CAClDA,EAAE,iBACFuqC,EAAgB,EAAI,EACpBE,EAAe,IAAI,EAEnB,GAAI,CACF,IAAIc,EAAW,GAGf,GAAI,CAACX,GAAcE,EAAM,CACvB,MAAMtoC,EAAS,MAAMsoC,EAAK,WAC1B,GAAItoC,EAAO,SAAW,MAAQA,EAAO,MACnC+oC,EAAW/oC,EAAO,UAElB,OAAM,IAAI,MAAMA,EAAO,SAAS,CAAC,GAAG,SAAW,6BAA6B,CAEhF,CAGA,MAAMgpC,EAAiC,CACrC,SAAAD,EACA,OAAAxB,EACA,SAAApD,EACA,UAAAuD,EACA,eAAgB,CACd,UAAWc,EAAY,UACvB,SAAUA,EAAY,SACtB,aAAcA,EAAY,aAC1B,aAAcA,EAAY,aAC1B,SAAUA,EAAY,SACtB,6BAA8BA,EAAY,6BAC1C,WAAYA,EAAY,WACxB,QAASA,EAAY,SAEvB,SAAU,CACR,MAAOA,EAAY,MACnB,aAAc,GAAGA,EAAY,SAAS,IAAIA,EAAY,QAAQ,GAC9D,cAAe,sBACjB,EAIIS,EAAazB,GAAqB,uBAAuBwB,CAAc,EAC7E,GAAI,CAACC,EAAW,MACd,MAAM,IAAI,MAAMA,EAAW,OAAO,KAAK,IAAI,CAAC,EAI9C,MAAMjpC,EAAS,MAAMwnC,GAAqB,eAAewB,CAAc,EAEvE,GAAIhpC,EAAO,QACTmoC,EAAkB,EAAI,EAGlBnoC,EAAO,cACTooB,EAAO,KAAK,sCAAuC,CACjD,UAAW,oBACX,UAAWpoB,EAAO,UAClB,OAAAunC,CAAA,CACD,EAEDnf,EAAO,KAAK,6CAA8C,CACxD,UAAW,oBACX,UAAWpoB,EAAO,UAClB,OAAAunC,CAAA,CACD,EAGH,WAAW,IAAM,CACfI,EAAU,CACR,UAAW3nC,EAAO,UAClB,WAAYA,EAAO,WACpB,CACH,EAAG,GAAI,MAEP,OAAM,IAAI,MAAMA,EAAO,cAAgB,2BAA2B,CAEtE,OAAS6E,EAAO,CACdujB,EAAO,MAAM,2BAA4BvjB,EAAO,CAC9C,UAAW,oBACX,UAAA6iC,EACA,OAAAH,EACA,WAAAa,CAAA,CACD,EACD,MAAMc,EAAerkC,aAAiB,MAAQA,EAAM,QAAU,4BAC9DojC,EAAeiB,CAAY,EAC3BrhC,EAAQhD,aAAiB,MAAQA,EAAQ,IAAI,MAAMqkC,CAAY,CAAC,CAClE,SACEnB,EAAgB,EAAK,CACvB,CACF,EAEMoB,EAAsB,CAACC,EAAehrC,IAAkB,CAC5DqqC,EAAgB3T,IAAU,CAAE,GAAGA,EAAM,CAACsU,CAAK,EAAGhrC,CAAA,EAAQ,CACxD,EAEA,GAAI0kC,EACF,aACG,OAAI,UAAU,uCACb,SAAA9N,OAAC,OAAI,UAAU,cACb,UAAA9oB,MAACm9B,GAAA,CAAQ,UAAU,kDAAkD,QACpE,KAAE,UAAU,gBAAgB,0CAA8B,GAC7D,EACF,EAIJ,GAAInB,EACF,aACG,OAAI,UAAU,mBACb,SAAAlT,OAAC,OAAI,UAAU,iEACb,UAAA9oB,MAACo9B,GAAA,CAAY,UAAU,wCAAwC,QAC9D,MAAG,UAAU,4CAA4C,+BAAmB,QAC5E,KAAE,UAAU,iBAAiB,4CAAgC,GAChE,EACF,EAIJ,MAAMC,EAAgB/B,GAAqB,wBAAwBY,EAAY,EAAoB,EAC7FoB,EAAYhC,GAAqB,yBAEvC,OACEt7B,MAAC,OAAI,UAAU,oBACb,gBAAC,QAAK,SAAU48B,EAAe,UAAU,YAEvC,UAAA58B,MAAC,OAAI,UAAU,mDACb,SAAA8oB,OAAC,OAAI,UAAU,mBACb,UAAA9oB,MAACyqB,GAAA,CAAO,UAAU,oCAAoC,SACrD,OACC,gBAAC,MAAG,UAAU,yCAAyC,4BAAgB,QACtE,KAAE,UAAU,wBAAyB,SAAA4S,EAAc,EAEnDnB,GAAcoB,EAAU,OAAS,UAC/B,OAAI,UAAU,OACb,gBAAC,KAAE,UAAU,yCAAyC,8BAAkB,QACvE,OAAI,UAAU,YACZ,SAAAA,EAAU,IAAI,CAACC,EAAUjgC,IACxBwrB,OAAC,OAAgB,UAAU,wBACzB,UAAAA,OAAC,UAAQ,UAAAyU,EAAS,KAAK,KAAC,EAAS,IAAEA,EAAS,OAAO,MAAIA,EAAS,cADxDjgC,CAEV,CACD,EACH,GACF,GAEJ,GACF,EACF,EAGAwrB,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,MAAG,UAAU,wDACZ,UAAA9oB,MAACw9B,GAAA,CAAW,UAAU,eAAe,EAAE,uBAEzC,EAEA1U,OAAC,OAAI,UAAU,wCACb,UAAA9oB,MAAC65B,GAAA,CACC,KAAK,OACL,YAAY,aACZ,MAAOyC,EAAY,UACnB,SAAWhrC,GAAM2rC,EAAoB,YAAa3rC,EAAE,OAAO,KAAK,EAChE,SAAQ,GACR,UAAU,WAEZ0O,MAAC65B,GAAA,CACC,KAAK,OACL,YAAY,YACZ,MAAOyC,EAAY,SACnB,SAAWhrC,GAAM2rC,EAAoB,WAAY3rC,EAAE,OAAO,KAAK,EAC/D,SAAQ,GACR,UAAU,UACZ,EACF,EAEA0O,MAAC65B,GAAA,CACC,KAAK,QACL,YAAY,gBACZ,MAAOyC,EAAY,MACnB,SAAWhrC,GAAM2rC,EAAoB,QAAS3rC,EAAE,OAAO,KAAK,EAC5D,SAAQ,GACR,UAAU,WAGZ0O,MAAC65B,GAAA,CACC,KAAK,OACL,YAAY,iBACZ,MAAOyC,EAAY,aACnB,SAAWhrC,GAAM2rC,EAAoB,eAAgB3rC,EAAE,OAAO,KAAK,EACnE,SAAQ,GACR,UAAU,WAGZ0O,MAAC65B,GAAA,CACC,KAAK,OACL,YAAY,8BACZ,MAAOyC,EAAY,aACnB,SAAWhrC,GAAM2rC,EAAoB,eAAgB3rC,EAAE,OAAO,KAAK,EACnE,UAAU,WAGZw3B,OAAC,OAAI,UAAU,wCACb,UAAA9oB,MAAC65B,GAAA,CACC,KAAK,OACL,YAAY,OACZ,MAAOyC,EAAY,SACnB,SAAWhrC,GAAM2rC,EAAoB,WAAY3rC,EAAE,OAAO,KAAK,EAC/D,SAAQ,GACR,UAAU,WAEZ0O,MAAC65B,GAAA,CACC,KAAK,OACL,YAAY,QACZ,MAAOyC,EAAY,6BACnB,SAAWhrC,GAAM2rC,EAAoB,+BAAgC3rC,EAAE,OAAO,KAAK,EACnF,SAAQ,GACR,UAAU,WAEZ0O,MAAC65B,GAAA,CACC,KAAK,OACL,YAAY,WACZ,MAAOyC,EAAY,WACnB,SAAWhrC,GAAM2rC,EAAoB,aAAc3rC,EAAE,OAAO,KAAK,EACjE,SAAQ,GACR,UAAU,UACZ,EACF,GACF,EAGC,CAAC4qC,GACApT,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,MAAG,UAAU,wDACZ,UAAA9oB,MAAC0qB,GAAA,CAAK,UAAU,eAAe,EAAE,kBAEnC,EACA1qB,MAAC,OACC,GAAG,iBACH,UAAU,8DACV,MAAO,CAAE,UAAW,OAAO,EAC7B,EACF,EAIDk8B,GACCpT,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,MAAG,UAAU,wDACZ,UAAA9oB,MAAC0qB,GAAA,CAAK,UAAU,eAAe,EAAE,uBAEnC,EACA5B,OAAC,OAAI,UAAU,mDACb,gBAAC,KAAE,UAAU,6BAA6B,8FAE1C,QACC,OAAI,UAAU,0FACb,SAAAA,OAAC,OAAI,UAAU,cACb,UAAA9oB,MAACw9B,GAAA,CAAW,UAAU,qCAAqC,QAC1D,KAAE,UAAU,wBAAwB,mCAAuB,QAC3D,KAAE,UAAU,wBAAwB,oCAAwB,GAC/D,EACF,GACF,GACF,EAID1B,SACE,OAAI,UAAU,iDACb,SAAAhT,OAAC,OAAI,UAAU,mBACb,UAAA9oB,MAACy9B,GAAA,CAAY,UAAU,mCAAmC,SACzD,OACC,gBAAC,MAAG,UAAU,mCAAmC,yBAAa,QAC7D,KAAE,UAAU,4BAA6B,SAAA3B,EAAY,GACxD,GACF,EACF,EAIFhT,OAAC,OAAI,UAAU,mDACb,gBAAC,MAAG,UAAU,2CAA2C,2BAAe,EACxEA,OAAC,OAAI,UAAU,oBACZ,UAAA4S,GACC5S,OAAAkB,WAAA,CACE,UAAAlB,OAAC,OAAI,UAAU,uBACb,gBAAC,QAAK,UAAU,gBAAgB,kBAAM,EACtC9oB,MAAC,QAAK,UAAU,gBAAiB,WAAe,UAAU,GAC5D,EACA8oB,OAAC,OAAI,UAAU,uBACb,gBAAC,QAAK,UAAU,gBAAgB,qBAAS,EACzC9oB,MAAC,QAAK,UAAU,gBAAiB,WAAe,QAAQ,GAC1D,EACA8oB,OAAC,OAAI,UAAU,uBACb,gBAAC,QAAK,UAAU,gBAAgB,sBAAU,EAC1C9oB,MAAC,QAAK,UAAU,gBAAiB,WAAe,SAAS,GAC3D,EACA8oB,OAAC,OAAI,UAAU,uBACb,gBAAC,QAAK,UAAU,gBAAgB,mBAAO,EACvC9oB,MAAC,QAAK,UAAU,gBAAiB,WAAe,OAAO,GACzD,EACAA,MAAC,MAAG,UAAU,kBAAkB,GAClC,EAEF8oB,OAAC,OAAI,UAAU,6CACb,gBAAC,QAAK,UAAU,gBAAgB,kBAAM,EACtC9oB,MAAC,QAAK,UAAU,gBACb,YAAqB,eAAeq7B,EAAQpD,CAAQ,EACvD,GACF,GACF,GACF,EAGAj4B,MAACy1B,GAAA,CACC,KAAK,SACL,SAAUmG,EACV,UAAU,+MAET,WACC9S,OAAAkB,WAAA,CACE,UAAAhqB,MAACm9B,GAAA,CAAQ,UAAU,uBAAuB,EAC1Cn9B,MAAC,QAAK,iCAAqB,GAC7B,EAEA8oB,OAAAkB,WAAA,CACE,UAAAhqB,MAAC0qB,GAAA,CAAK,UAAU,UAAU,SACzB,QAAK,gCAAoB4Q,GAAqB,eAAeD,EAAQpD,CAAQ,GAAE,GAClF,GAEJ,EACF,EACF,CAEJ,CAAC,EAEDsD,GAAkB,YAAc,6IC/c1BmC,GAAoC,CACxC,UAAW,GACX,SAAU,GACV,MAAO,GACP,MAAO,GACP,OAAQ,EACR,SAAU,EACV,gBAAiB,GACjB,YAAa,CACX,QAAS,MACT,MAAO,MACP,SAAU,MACV,eAAgB,GAEpB,EAEMC,GAAkC,CACtC,WAAY,GACZ,WAAY,GACZ,IAAK,GACL,eAAgB,GAChB,eAAgB,CACd,OAAQ,GACR,KAAM,GACN,MAAO,GACP,QAAS,GACT,QAAS,IAEX,SAAU,EACZ,EAEMC,GAAe,CAAC,iBAAkB,gBAAiB,UAAW,cAAc,EAErEC,GAAkBpc,GAAA,EAC7B6B,GACEqC,GACE,CAACvD,EAAKC,KAAS,CAEf,YAAa,iBACb,aAAcqb,GACd,aAAc,KACd,YAAaC,GACb,aAAc,KACd,OAAQ,GACR,QAAS,GAGT,eAAiBG,GAAS1b,EAAI,CAAE,YAAa0b,EAAM,EAEnD,gBAAkBxH,GAChBlU,EAAKvnB,IAAW,CACd,aAAc,CAAE,GAAGA,EAAM,aAAc,GAAGy7B,CAAA,CAAQ,EAClD,EAEJ,gBAAkB4C,GAAS9W,EAAI,CAAE,aAAc8W,EAAM,EAErD,eAAiB6E,GACf3b,EAAKvnB,IAAW,CACd,YAAa,CAAE,GAAGA,EAAM,YAAa,GAAGkjC,CAAA,CAAK,EAC7C,EAEJ,gBAAkBC,GAAiB5b,EAAI,CAAE,aAAA4b,EAAc,EAEvD,UAAY5C,GAAWhZ,EAAI,CAAE,OAAAgZ,EAAQ,EAErC,WAAapV,GAAY5D,EAAI,CAAE,QAAA4D,EAAS,EAExC,aAAc,IACZ5D,EAAI,CACF,YAAa,iBACb,aAAcsb,GACd,aAAc,KACd,YAAaC,GACb,aAAc,KACd,OAAQ,GACR,QAAS,GACV,EAEH,SAAU,IAAM,CACd,KAAM,CAAE,YAAAM,CAAA,EAAgB5b,EAAA,EAClB6b,EAAeN,GAAa,QAAQK,CAAW,EACjDC,EAAeN,GAAa,OAAS,GACvCxb,EAAI,CAAE,YAAawb,GAAaM,EAAe,CAAC,EAAG,CAEvD,EAEA,aAAc,IAAM,CAClB,KAAM,CAAE,YAAAD,CAAA,EAAgB5b,EAAA,EAClB6b,EAAeN,GAAa,QAAQK,CAAW,EACjDC,EAAe,GACjB9b,EAAI,CAAE,YAAawb,GAAaM,EAAe,CAAC,EAAG,CAEvD,EAEA,oBAAqB,IAAM,CACzB,KAAM,CAAE,YAAAD,EAAa,aAAAE,EAAc,aAAAC,EAAc,YAAAC,CAAA,EAAgBhc,EAAA,EACjE,IAAIic,EAAU,GACd,MAAMlD,EAAiC,GAEvC,OAAQ6C,EAAA,CACN,IAAK,iBACEE,IACH/C,EAAO,KAAO,uBACdkD,EAAU,IAEZ,MAEF,IAAK,gBACEF,EAAa,YAChBhD,EAAO,UAAY,yBACnBkD,EAAU,IAEPF,EAAa,WAChBhD,EAAO,SAAW,wBAClBkD,EAAU,IAEPF,EAAa,QAChBhD,EAAO,MAAQ,oBACfkD,EAAU,IAEPF,EAAa,QAChBhD,EAAO,MAAQ,2BACfkD,EAAU,IAEZ,MAEF,IAAK,UACED,EAAY,aACfjD,EAAO,WAAa,0BACpBkD,EAAU,IAEPD,EAAY,aACfjD,EAAO,WAAa,0BACpBkD,EAAU,IAEPD,EAAY,MACfjD,EAAO,IAAM,kBACbkD,EAAU,IAEPD,EAAY,iBACfjD,EAAO,eAAiB,8BACxBkD,EAAU,IAEZ,KAGA,CAGJ,OAAAlc,EAAI,CAAE,OAAAgZ,EAAQ,EACPkD,CACT,IAEF,CACE,KAAM,gBAEN,WAAazjC,IAAW,CACtB,aAAcA,EAAM,aACpB,aAAcA,EAAM,aACpB,YAAaA,EAAM,aACrB,CACF,EAEF,CAAE,KAAM,eAAe,CAEzB,ECtKM0jC,GAAgC,6BAgBtC,MAAMC,EAAY,CACR,MAAuB,KACvB,KAAoB,KAE5B,aAAc,CAEZ,KAAK,MAAQ,aAAa,QAAQ,WAAW,EAC7C,MAAMC,EAAY,aAAa,QAAQ,MAAM,EACzCA,IACF,KAAK,KAAO,KAAK,MAAMA,CAAS,GAI9B,KAAK,QACPljB,EAAM,SAAS,QAAQ,OAAO,cAAmB,UAAU,KAAK,KAAK,GAEzE,CAEA,MAAM,SAASmjB,EAAeC,EAAkBC,EAAoBC,EAA0C,CAC5G,GAAI,CACF,MAAMv3B,EAAW,MAAMiU,EAAM,KAAK,GAAGgjB,EAAO,qBAAsB,CAChE,MAAAG,EACA,SAAAC,EACA,UAAAC,EACA,SAAAC,EACA,YAAa,GACd,EAED,OAAIv3B,EAAS,KAAK,SAChB,KAAK,QAAQA,EAAS,KAAK,KAAK,YAAaA,EAAS,KAAK,KAAK,IAAI,EAG/D,CACL,QAASA,EAAS,KAAK,QACvB,MAAOA,EAAS,KAAK,KAAK,YAC1B,KAAMA,EAAS,KAAK,KAAK,KAE7B,OAAS3O,EAAY,CACnB,MAAM,IAAI,MAAMA,EAAM,UAAU,MAAM,OAAS,qBAAqB,CACtE,CACF,CAEA,MAAM,MAAM+lC,EAAeC,EAAyC,CAClE,GAAI,CACF,MAAMr3B,EAAW,MAAMiU,EAAM,KAAK,GAAGgjB,EAAO,kBAAmB,CAC7D,MAAAG,EACA,SAAAC,CAAA,CACD,EAED,OAAIr3B,EAAS,KAAK,SAChB,KAAK,QAAQA,EAAS,KAAK,KAAK,YAAaA,EAAS,KAAK,KAAK,IAAI,EAG/D,CACL,QAASA,EAAS,KAAK,QACvB,MAAOA,EAAS,KAAK,KAAK,YAC1B,KAAMA,EAAS,KAAK,KAAK,KAE7B,OAAS3O,EAAY,CACnB,MAAM,IAAI,MAAMA,EAAM,UAAU,MAAM,OAAS,cAAc,CAC/D,CACF,CAEA,MAAM,gBAAuC,CAC3C,GAAI,CAAC,KAAK,MACd,OAAO,KAGH,GAAI,CACF,MAAM2O,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,cAAc,EACzD,OAAIj3B,EAAS,KAAK,SAChB,KAAK,KAAOA,EAAS,KAAK,KAAK,KAC/B,aAAa,QAAQ,OAAQ,KAAK,UAAU,KAAK,IAAI,CAAC,EAC/C,KAAK,MAEP,IACT,MAAgB,CACd,YAAK,SACE,IACT,CACF,CAEQ,QAAQT,EAAei4B,EAAY,CACzC,KAAK,MAAQj4B,EACb,KAAK,KAAOi4B,EACZ,aAAa,QAAQ,YAAaj4B,CAAK,EACvC,aAAa,QAAQ,OAAQ,KAAK,UAAUi4B,CAAI,CAAC,EACjDvjB,EAAM,SAAS,QAAQ,OAAO,cAAmB,UAAU1U,CAAK,EAClE,CAEA,QAAS,CACP,KAAK,MAAQ,KACb,KAAK,KAAO,KACZ,aAAa,WAAW,WAAW,EACnC,aAAa,WAAW,MAAM,EAC9B,OAAO0U,EAAM,SAAS,QAAQ,OAAO,aACvC,CAEA,iBAA2B,CACzB,MAAO,CAAC,CAAC,KAAK,KAChB,CAEA,SAAuB,CACrB,OAAO,KAAK,IACd,CAEA,UAA0B,CACxB,OAAO,KAAK,KACd,CAEA,SAAmB,CACjB,OAAO,KAAK,MAAM,OAAS,OAC7B,CACF,CAEO,MAAMwjB,GAAc,IAAIP,GCxHzBQ,GAAcC,gBAA2C,MAAS,EAM3DC,GAA4C,CAAC,CAAE,SAAAp/B,KAAe,CACzE,KAAM,CAACg/B,EAAMK,CAAO,EAAIxgB,WAAsB,IAAI,EAC5C,CAACiY,EAAW+E,CAAY,EAAIhd,WAAS,EAAI,EAE/CC,YAAU,IAAM,EAES,SAAY,CACjC,GAAI,CAGF,GAFA+c,EAAa,EAAI,EAEboD,GAAY,kBAAmB,CACjC,MAAMK,EAAc,MAAML,GAAY,iBACtCI,EAAQC,CAAW,EAEnBljB,EAAO,KAAK,wBAAyB,CACnC,UAAW,eACX,OAAQkjB,GAAa,GACrB,MAAOA,GAAa,MACrB,CACH,CACF,OAASzmC,EAAO,CACdujB,EAAO,KAAK,iCAAkC,CAC5C,UAAW,eACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EAGDomC,GAAY,SACZI,EAAQ,IAAI,CACd,SACExD,EAAa,EAAK,CACpB,CACF,GAEA,CACF,EAAG,EAAE,EA2FL,MAAMzpC,EAAyB,CAC7B,KAAA4sC,EACA,gBAAiB,CAAC,CAACA,EACnB,UAAAlI,EACA,MA7FY,MAAO8H,EAAeC,IAAoC,CACtE,GAAI,CACF,MAAM7qC,EAAS,MAAMirC,GAAY,MAAML,EAAOC,CAAQ,EAEtD,GAAI7qC,EAAO,QACTqrC,EAAQrrC,EAAO,IAAI,EAEnBooB,EAAO,KAAK,8BAA+B,CACzC,UAAW,eACX,OAAQpoB,EAAO,KAAK,GACpB,MAAOA,EAAO,KAAK,MACpB,MAED,OAAM,IAAI,MAAM,cAAc,CAElC,OAAS6E,EAAO,CACd,MAAAujB,EAAO,MAAM,eAAgB,CAC3B,UAAW,eACX,MAAAwiB,EACA,MAAO/lC,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EACKA,CACR,CACF,EAuEE,SArEe,MACf+lC,EACAC,EACAC,EACAC,IACkB,CAClB,GAAI,CACF,MAAM/qC,EAAS,MAAMirC,GAAY,SAASL,EAAOC,EAAUC,EAAWC,CAAQ,EAE9E,GAAI/qC,EAAO,QACTqrC,EAAQrrC,EAAO,IAAI,EAEnBooB,EAAO,KAAK,+BAAgC,CAC1C,UAAW,eACX,OAAQpoB,EAAO,KAAK,GACpB,MAAOA,EAAO,KAAK,MACpB,MAED,OAAM,IAAI,MAAM,qBAAqB,CAEzC,OAAS6E,EAAO,CACd,MAAAujB,EAAO,MAAM,sBAAuB,CAClC,UAAW,eACX,MAAAwiB,EACA,MAAO/lC,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EACKA,CACR,CACF,EA0CE,OAxCa,IAAY,CACzB,GAAI,CACFujB,EAAO,KAAK,mBAAoB,CAC9B,UAAW,eACX,OAAQ4iB,GAAM,GACd,MAAOA,GAAM,MACd,EAEDC,GAAY,SACZI,EAAQ,IAAI,CACd,OAASxmC,EAAO,CACdujB,EAAO,MAAM,gBAAiB,CAC5B,UAAW,eACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,EAyBE,WAvBkB0mC,GAAkC,CACpD,GAAIP,EAAM,CACR,MAAMQ,EAAc,CAAE,GAAGR,EAAM,GAAGO,CAAA,EAClCF,EAAQG,CAAW,EAGnB,aAAa,QAAQ,OAAQ,KAAK,UAAUA,CAAW,CAAC,EAExDpjB,EAAO,KAAK,oBAAqB,CAC/B,UAAW,eACX,OAAQ4iB,EAAK,GACb,cAAe,OAAO,KAAKO,CAAQ,EACpC,CACH,CACF,CASE,EAGF,OACEr/B,MAACg/B,GAAY,SAAZ,CAAqB,MAAA9sC,EACnB,SAAA4N,CAAA,CACH,CAEJ,EAEay/B,GAAU,IAAuB,CAC5C,MAAM9jC,EAAU+jC,aAAWR,EAAW,EAEtC,GAAIvjC,IAAY,OACd,MAAM,IAAI,MAAM,6CAA6C,EAG/D,OAAOA,CACT,EC5KwH,IAAIgkC,GAAG1uC,GAAG,CAAC,OAAOA,EAAC,CAAE,IAAI,UAAU,OAAO2uC,GAAG,IAAI,OAAO,OAAOC,GAAG,IAAI,UAAU,OAAOC,GAAG,IAAI,QAAQ,OAAOC,GAAG,QAAQ,OAAO,IAAI,CAAC,EAAEC,GAAG,MAAM,EAAE,EAAE,KAAK,CAAC,EAAEC,GAAG,CAAC,CAAC,QAAQhvC,EAAE,UAAU,CAAC,IAAIivC,EAAE,cAAc,MAAM,CAAC,UAAU,CAAC,yBAAyB,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,EAAE,eAAejvC,CAAC,EAAEivC,EAAE,cAAc,MAAM,CAAC,UAAU,gBAAgB,EAAEF,GAAG,IAAI,CAAC5U,EAAEh6B,IAAI8uC,EAAE,cAAc,MAAM,CAAC,UAAU,qBAAqB,IAAI,eAAe9uC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAEwuC,GAAGM,EAAE,cAAc,MAAM,CAAC,MAAM,6BAA6B,QAAQ,YAAY,KAAK,eAAe,OAAO,KAAK,MAAM,IAAI,EAAEA,EAAE,cAAc,OAAO,CAAC,SAAS,UAAU,EAAE,yJAAyJ,SAAS,SAAS,CAAC,CAAC,EAAEJ,GAAGI,EAAE,cAAc,MAAM,CAAC,MAAM,6BAA6B,QAAQ,YAAY,KAAK,eAAe,OAAO,KAAK,MAAM,IAAI,EAAEA,EAAE,cAAc,OAAO,CAAC,SAAS,UAAU,EAAE,4OAA4O,SAAS,SAAS,CAAC,CAAC,EAAEL,GAAGK,EAAE,cAAc,MAAM,CAAC,MAAM,6BAA6B,QAAQ,YAAY,KAAK,eAAe,OAAO,KAAK,MAAM,IAAI,EAAEA,EAAE,cAAc,OAAO,CAAC,SAAS,UAAU,EAAE,0OAA0O,SAAS,SAAS,CAAC,CAAC,EAAEH,GAAGG,EAAE,cAAc,MAAM,CAAC,MAAM,6BAA6B,QAAQ,YAAY,KAAK,eAAe,OAAO,KAAK,MAAM,IAAI,EAAEA,EAAE,cAAc,OAAO,CAAC,SAAS,UAAU,EAAE,sIAAsI,SAAS,SAAS,CAAC,CAAC,EAAEC,GAAGD,EAAE,cAAc,MAAM,CAAC,MAAM,6BAA6B,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,MAAM,cAAc,QAAQ,eAAe,OAAO,EAAEA,EAAE,cAAc,OAAO,CAAC,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,EAAEA,EAAE,cAAc,OAAO,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,EAA4BE,GAAG,IAAI,CAAC,GAAG,CAACnvC,EAAE,CAAC,EAAEovC,EAAG,SAAS,SAAS,MAAM,EAAE,OAAOA,EAAG,UAAU,IAAI,CAAC,IAAIjV,EAAE,IAAI,CAAC,EAAE,SAAS,MAAM,CAAC,EAAE,OAAO,SAAS,iBAAiB,mBAAmBA,CAAC,EAAE,IAAI,OAAO,oBAAoB,mBAAmBA,CAAC,CAAC,EAAE,EAAE,EAAEn6B,CAAC,EAA4BqvC,GAAG,EAAEC,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,UAAU/uC,IAAI,KAAK,YAAY,KAAKA,CAAC,EAAE,IAAI,CAAC,IAAI45B,EAAE,KAAK,YAAY,QAAQ55B,CAAC,EAAE,KAAK,YAAY,OAAO45B,EAAE,CAAC,CAAC,GAAG,KAAK,QAAQ55B,GAAG,CAAC,KAAK,YAAY,QAAQ45B,GAAGA,EAAE55B,CAAC,CAAC,CAAC,EAAE,KAAK,SAASA,GAAG,CAAC,KAAK,QAAQA,CAAC,EAAE,KAAK,OAAO,CAAC,GAAG,KAAK,OAAOA,CAAC,CAAC,EAAE,KAAK,OAAOA,GAAG,CAAC,IAAIgvC,EAAE,GAAG,CAAC,QAAQpV,EAAE,GAAGh6B,CAAC,EAAEI,EAAEivC,EAAE,OAAsBjvC,GAAE,IAAK,YAAYgvC,EAAEhvC,EAAE,KAAK,KAAK,OAAOgvC,EAAE,QAAQ,EAAEhvC,EAAE,GAAG8uC,KAAK1vC,EAAE,KAAK,OAAO,KAAKS,GAAGA,EAAE,KAAKovC,CAAC,EAAErzB,EAAE5b,EAAE,cAAc,OAAO,GAAGA,EAAE,YAAY,OAAO,KAAK,gBAAgB,IAAIivC,CAAC,GAAG,KAAK,gBAAgB,OAAOA,CAAC,EAAE7vC,EAAE,KAAK,OAAO,KAAK,OAAO,IAAIS,GAAGA,EAAE,KAAKovC,GAAG,KAAK,QAAQ,CAAC,GAAGpvC,EAAE,GAAGG,EAAE,GAAGivC,EAAE,MAAMrV,CAAC,CAAC,EAAE,CAAC,GAAG/5B,EAAE,GAAGG,EAAE,GAAGivC,EAAE,YAAYrzB,EAAE,MAAMge,CAAC,GAAG/5B,CAAC,EAAE,KAAK,SAAS,CAAC,MAAM+5B,EAAE,GAAGh6B,EAAE,YAAYgc,EAAE,GAAGqzB,CAAC,CAAC,EAAEA,CAAC,EAAE,KAAK,QAAQjvC,IAAI,KAAK,gBAAgB,IAAIA,CAAC,EAAEA,GAAG,KAAK,OAAO,QAAQ45B,GAAG,CAAC,KAAK,YAAY,QAAQh6B,GAAGA,EAAE,CAAC,GAAGg6B,EAAE,GAAG,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,YAAY,QAAQA,GAAGA,EAAE,CAAC,GAAG55B,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAEA,GAAG,KAAK,QAAQ,CAACA,EAAE45B,IAAI,KAAK,OAAO,CAAC,GAAGA,EAAE,QAAQ55B,CAAC,CAAC,EAAE,KAAK,MAAM,CAACA,EAAE45B,IAAI,KAAK,OAAO,CAAC,GAAGA,EAAE,QAAQ55B,EAAE,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,CAACA,EAAE45B,IAAI,KAAK,OAAO,CAAC,GAAGA,EAAE,KAAK,UAAU,QAAQ55B,CAAC,CAAC,EAAE,KAAK,KAAK,CAACA,EAAE45B,IAAI,KAAK,OAAO,CAAC,GAAGA,EAAE,KAAK,OAAO,QAAQ55B,CAAC,CAAC,EAAE,KAAK,QAAQ,CAACA,EAAE45B,IAAI,KAAK,OAAO,CAAC,GAAGA,EAAE,KAAK,UAAU,QAAQ55B,CAAC,CAAC,EAAE,KAAK,QAAQ,CAACA,EAAE45B,IAAI,KAAK,OAAO,CAAC,GAAGA,EAAE,KAAK,UAAU,QAAQ55B,CAAC,CAAC,EAAE,KAAK,QAAQ,CAACA,EAAE45B,IAAI,CAAC,GAAG,CAACA,EAAE,OAAO,IAAIh6B,EAAEg6B,EAAE,UAAU,SAASh6B,EAAE,KAAK,OAAO,CAAC,GAAGg6B,EAAE,QAAQ55B,EAAE,KAAK,UAAU,QAAQ45B,EAAE,QAAQ,YAAY,OAAOA,EAAE,aAAa,WAAWA,EAAE,YAAY,MAAM,CAAC,GAAG,IAAIqV,EAAEjvC,aAAa,QAAQA,EAAEA,EAAC,EAAGZ,EAAEQ,IAAI,OAAOgc,EAAEozB,EAAEC,EAAE,KAAK,MAAM7rC,GAAG,CAAC,GAAGwY,EAAE,CAAC,UAAUxY,CAAC,EAAE8rC,EAAG,eAAe9rC,CAAC,EAAEhE,EAAE,GAAG,KAAK,OAAO,CAAC,GAAGQ,EAAE,KAAK,UAAU,QAAQwD,CAAC,CAAC,UAAU+rC,GAAG/rC,CAAC,GAAG,CAACA,EAAE,GAAG,CAAChE,EAAE,GAAG,IAAIgwC,EAAE,OAAOxV,EAAE,OAAO,WAAW,MAAMA,EAAE,MAAM,uBAAuBx2B,EAAE,MAAM,EAAE,EAAEw2B,EAAE,MAAMyV,EAAE,OAAOzV,EAAE,aAAa,WAAW,MAAMA,EAAE,YAAY,uBAAuBx2B,EAAE,MAAM,EAAE,EAAEw2B,EAAE,YAAY,KAAK,OAAO,CAAC,GAAGh6B,EAAE,KAAK,QAAQ,QAAQwvC,EAAE,YAAYC,CAAC,CAAC,CAAC,SAASzV,EAAE,UAAU,OAAO,CAACx6B,EAAE,GAAG,IAAIgwC,EAAE,OAAOxV,EAAE,SAAS,WAAW,MAAMA,EAAE,QAAQx2B,CAAC,EAAEw2B,EAAE,QAAQyV,EAAE,OAAOzV,EAAE,aAAa,WAAW,MAAMA,EAAE,YAAYx2B,CAAC,EAAEw2B,EAAE,YAAY,KAAK,OAAO,CAAC,GAAGh6B,EAAE,KAAK,UAAU,QAAQwvC,EAAE,YAAYC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,MAAMjsC,GAAG,CAAC,GAAGwY,EAAE,CAAC,SAASxY,CAAC,EAAEw2B,EAAE,QAAQ,OAAO,CAACx6B,EAAE,GAAG,IAAIkwC,EAAE,OAAO1V,EAAE,OAAO,WAAW,MAAMA,EAAE,MAAMx2B,CAAC,EAAEw2B,EAAE,MAAMwV,EAAE,OAAOxV,EAAE,aAAa,WAAW,MAAMA,EAAE,YAAYx2B,CAAC,EAAEw2B,EAAE,YAAY,KAAK,OAAO,CAAC,GAAGh6B,EAAE,KAAK,QAAQ,QAAQ0vC,EAAE,YAAYF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,IAAI,CAAC,IAAIhsC,EAAEhE,IAAI,KAAK,QAAQQ,CAAC,EAAEA,EAAE,SAASwD,EAAEw2B,EAAE,UAAU,MAAMx2B,EAAE,KAAKw2B,CAAC,CAAC,CAAC,EAAE/5B,EAAE,IAAI,IAAI,QAAQ,CAACuD,EAAEksC,IAAIN,EAAE,KAAK,IAAIpzB,EAAE,CAAC,IAAI,SAAS0zB,EAAE1zB,EAAE,CAAC,CAAC,EAAExY,EAAEwY,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM0zB,CAAC,CAAC,EAAE,OAAO,OAAO1vC,GAAG,UAAU,OAAOA,GAAG,SAAS,CAAC,OAAOC,CAAC,EAAE,OAAO,OAAOD,EAAE,CAAC,OAAOC,CAAC,CAAC,CAAC,EAAE,KAAK,OAAO,CAACG,EAAE45B,IAAI,CAAC,IAAIh6B,EAAkBg6B,GAAE,IAAKkV,KAAK,OAAO,KAAK,OAAO,CAAC,IAAI9uC,EAAEJ,CAAC,EAAE,GAAGA,EAAE,GAAGg6B,CAAC,CAAC,EAAEh6B,CAAC,EAAE,KAAK,gBAAgB,IAAI,KAAK,OAAO,OAAOI,GAAG,CAAC,KAAK,gBAAgB,IAAIA,EAAE,EAAE,CAAC,EAAE,KAAK,YAAY,GAAG,KAAK,OAAO,GAAG,KAAK,gBAAgB,IAAI,GAAG,CAAC,EAAEuvC,GAAE,IAAIR,GAAGS,GAAG,CAAC/vC,EAAE,IAAI,CAAC,IAAIm6B,EAAkB,GAAE,IAAKkV,KAAK,OAAOS,GAAE,SAAS,CAAC,MAAM9vC,EAAE,GAAG,EAAE,GAAGm6B,CAAC,CAAC,EAAEA,CAAC,EAAEuV,GAAG1vC,GAAGA,GAAG,OAAOA,GAAG,UAAU,OAAOA,GAAG,OAAOA,EAAE,IAAI,WAAW,WAAWA,GAAG,OAAOA,EAAE,QAAQ,SAASgwC,GAAGD,GAAGE,GAAG,IAAIH,GAAE,OAAOI,GAAG,IAAIJ,GAAE,gBAAe,EAAGK,GAAG,OAAO,OAAOH,GAAG,CAAC,QAAQF,GAAE,QAAQ,KAAKA,GAAE,KAAK,QAAQA,GAAE,QAAQ,MAAMA,GAAE,MAAM,OAAOA,GAAE,OAAO,QAAQA,GAAE,QAAQ,QAAQA,GAAE,QAAQ,QAAQA,GAAE,QAAQ,QAAQA,GAAE,OAAO,EAAE,CAAC,WAAWG,GAAG,UAAUC,EAAE,CAAC,EAAE,SAASE,GAAGpwC,EAAE,CAAC,SAAS,CAAC,EAAE,GAAG,CAAC,GAAO,OAAO,SAAU,IAAY,OAAO,IAAIm6B,EAAE,SAAS,MAAM,SAAS,qBAAqB,MAAM,EAAE,CAAC,EAAEh6B,EAAE,SAAS,cAAc,OAAO,EAAEA,EAAE,KAAK,WAAW,IAAI,OAAOg6B,EAAE,WAAWA,EAAE,aAAah6B,EAAEg6B,EAAE,UAAU,EAAEA,EAAE,YAAYh6B,CAAC,EAAEA,EAAE,WAAWA,EAAE,WAAW,QAAQH,EAAEG,EAAE,YAAY,SAAS,eAAeH,CAAC,CAAC,CAAC,CAACowC,GAAG;AAAA,CACpqM,EAAE,SAASC,GAAGrwC,EAAE,CAAC,OAAOA,EAAE,QAAQ,MAAM,CAAC,IAAIswC,GAAG,EAAEC,GAAG,OAAOC,GAAG,OAAOC,GAAG,IAAIC,GAAG,IAAIC,GAAG,GAAGC,GAAG,GAAGC,GAAG,IAAI,SAASC,MAAK9wC,EAAE,CAAC,OAAOA,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,CAAC,CAAC,SAAS+wC,GAAG/wC,EAAE,CAAC,GAAG,CAAC,EAAEm6B,CAAC,EAAEn6B,EAAE,MAAM,GAAG,EAAEG,EAAE,GAAG,OAAO,GAAGA,EAAE,KAAK,CAAC,EAAEg6B,GAAGh6B,EAAE,KAAKg6B,CAAC,EAAEh6B,CAAC,CAAC,IAAI6wC,GAAGhxC,GAAG,CAAC,IAAIixC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAG,GAAG,CAAC,OAAOpxC,EAAE,MAAM45B,EAAE,SAASh6B,EAAE,YAAYqvC,EAAE,WAAW7vC,EAAE,cAAcwc,EAAE,QAAQozB,EAAE,MAAMnvC,EAAE,OAAOuD,EAAE,SAASksC,EAAE,YAAYF,EAAE,kBAAkBC,EAAE,YAAYgC,EAAG,MAAMC,EAAG,kBAAkBC,EAAG,kBAAkBhyC,EAAE,UAAUiyC,EAAG,GAAG,qBAAqBC,EAAG,GAAG,SAAS/Z,EAAE,SAASga,EAAG,IAAIC,EAAG,YAAYC,GAAG,gBAAgBC,GAAE,WAAW3qB,EAAE,MAAM4qB,EAAE,qBAAqBC,EAAG,cAAc,sBAAsBC,CAAE,EAAEvyC,EAAE,CAACwyC,EAAEC,CAAC,EAAE7uC,EAAE,SAAS,IAAI,EAAE,CAAC8uC,EAAGC,EAAC,EAAE/uC,EAAE,SAAS,IAAI,EAAE,CAACgvC,EAAEC,EAAC,EAAEjvC,EAAE,SAAS,EAAE,EAAE,CAACkvC,GAAEC,EAAE,EAAEnvC,EAAE,SAAS,EAAE,EAAE,CAACovC,GAAEC,EAAC,EAAErvC,EAAE,SAAS,EAAE,EAAE,CAACsvC,GAAG5yC,EAAC,EAAEsD,EAAE,SAAS,EAAE,EAAE,CAACmV,GAAE2U,EAAC,EAAE9pB,EAAE,SAAS,EAAE,EAAE,CAACuvC,GAAEC,EAAC,EAAExvC,EAAE,SAAS,CAAC,EAAE,CAAC3D,GAAE2C,EAAC,EAAEgB,EAAE,SAAS,CAAC,EAAEyvC,GAAEzvC,EAAE,OAAOu2B,EAAE,UAAUlC,GAAGwY,EAAE,EAAE6C,GAAE1vC,EAAE,OAAO,IAAI,EAAE/D,GAAE+D,EAAE,OAAO,IAAI,EAAE2vC,GAAGnzC,IAAI,EAAEozC,GAAGpzC,EAAE,GAAG+b,EAAEs3B,GAAEtZ,EAAE,KAAKuZ,GAAEvZ,EAAE,cAAc,GAAGwZ,GAAGxZ,EAAE,WAAW,GAAGyZ,GAAGzZ,EAAE,sBAAsB,GAAG0Z,GAAGjwC,EAAE,QAAQ,IAAI2rC,EAAE,UAAU3d,GAAGA,EAAE,UAAUuI,EAAE,EAAE,GAAG,EAAE,CAACoV,EAAEpV,EAAE,EAAE,CAAC,EAAE2Z,GAAGlwC,EAAE,QAAQ,IAAI,CAAC,IAAIguB,EAAE,OAAOA,EAAEuI,EAAE,cAAc,KAAKvI,EAAEggB,CAAE,EAAE,CAACzX,EAAE,YAAYyX,CAAE,CAAC,EAAEmC,GAAGnwC,EAAE,QAAQ,IAAIu2B,EAAE,UAAUlC,GAAGwY,GAAG,CAACtW,EAAE,SAASlC,CAAC,CAAC,EAAE+b,GAAGpwC,EAAE,OAAO,CAAC,EAAEqwC,GAAErwC,EAAE,OAAO,CAAC,EAAEswC,GAAGtwC,EAAE,OAAO,CAAC,EAAEuwC,GAAEvwC,EAAE,OAAO,IAAI,EAAE,CAACwwC,GAAGC,EAAE,EAAEpC,EAAG,MAAM,GAAG,EAAEqC,GAAG1wC,EAAE,QAAQ,IAAI2rC,EAAE,OAAO,CAAC3d,EAAE7xB,EAAEiqB,IAAIA,GAAG6pB,GAAGjiB,EAAEA,EAAE7xB,EAAE,OAAO,CAAC,EAAE,CAACwvC,EAAEsE,EAAE,CAAC,EAAEU,GAAGpF,GAAE,EAAGqF,GAAGra,EAAE,QAAQ55B,EAAEk0C,GAAGhB,KAAI,UAAUQ,GAAE,QAAQrwC,EAAE,QAAQ,IAAIiwC,GAAG3B,EAAGoC,GAAG,CAACT,GAAGS,EAAE,CAAC,EAAE1wC,EAAE,UAAU,IAAI,CAACyvC,GAAE,QAAQU,EAAE,EAAE,CAACA,EAAE,CAAC,EAAEnwC,EAAE,UAAU,IAAI,CAACivC,GAAE,EAAE,CAAC,EAAE,EAAE,EAAEjvC,EAAE,UAAU,IAAI,CAAC,IAAIguB,EAAE/xB,GAAE,QAAQ,GAAG+xB,EAAE,CAAC,IAAI7xB,EAAE6xB,EAAE,sBAAqB,EAAG,OAAO,OAAOhvB,GAAE7C,CAAC,EAAEJ,EAAEqqB,GAAG,CAAC,CAAC,QAAQmQ,EAAE,GAAG,OAAOp6B,EAAE,SAASo6B,EAAE,QAAQ,EAAE,GAAGnQ,CAAC,CAAC,EAAE,IAAIrqB,EAAEqqB,GAAGA,EAAE,OAAO3pB,IAAGA,GAAE,UAAU85B,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAACx6B,EAAEw6B,EAAE,EAAE,CAAC,EAAEv2B,EAAE,gBAAgB,IAAI,CAAC,GAAG,CAACgvC,EAAE,OAAO,IAAIhhB,EAAE/xB,GAAE,QAAQE,EAAE6xB,EAAE,MAAM,OAAOA,EAAE,MAAM,OAAO,OAAO,IAAI5H,EAAE4H,EAAE,sBAAqB,EAAG,OAAOA,EAAE,MAAM,OAAO7xB,EAAE6C,GAAEonB,CAAC,EAAErqB,EAAEU,IAAGA,GAAE,KAAK6J,IAAGA,GAAE,UAAUiwB,EAAE,EAAE,EAAE95B,GAAE,IAAI6J,IAAGA,GAAE,UAAUiwB,EAAE,GAAG,CAAC,GAAGjwB,GAAE,OAAO8f,CAAC,EAAE9f,EAAC,EAAE,CAAC,CAAC,QAAQiwB,EAAE,GAAG,OAAOnQ,EAAE,SAASmQ,EAAE,QAAQ,EAAE,GAAG95B,EAAC,CAAC,CAAC,EAAE,CAACuyC,EAAEzY,EAAE,MAAMA,EAAE,YAAYx6B,EAAEw6B,EAAE,EAAE,CAAC,EAAE,IAAIua,GAAE9wC,EAAE,YAAY,IAAI,CAACmvC,GAAG,EAAE,EAAEK,GAAEa,GAAE,OAAO,EAAEt0C,EAAEiyB,GAAGA,EAAE,OAAO7xB,GAAGA,EAAE,UAAUo6B,EAAE,EAAE,CAAC,EAAE,WAAW,IAAI,CAACwV,EAAExV,CAAC,CAAC,EAAE0W,EAAE,CAAC,EAAE,CAAC1W,EAAEwV,EAAEhwC,EAAEs0C,EAAC,CAAC,EAAErwC,EAAE,UAAU,IAAI,CAAC,GAAGu2B,EAAE,SAASsZ,KAAI,WAAWtZ,EAAE,WAAW,KAAKA,EAAE,OAAO,UAAU,OAAO,IAAIvI,EAAE,OAAOie,GAAGL,GAAG+C,GAAIgC,IAAI,IAAI,CAAC,GAAGL,GAAG,QAAQF,GAAG,QAAQ,CAAC,IAAI3zC,EAAE,IAAI,KAAI,EAAG,QAAO,EAAG2zC,GAAG,QAAQX,GAAE,QAAQA,GAAE,QAAQhzC,CAAC,CAAC6zC,GAAG,QAAQ,IAAI,KAAI,EAAG,SAAS,GAAC,EAAUb,GAAE,UAAU,MAAMW,GAAG,QAAQ,IAAI,KAAI,EAAG,UAAUpiB,EAAE,WAAW,IAAI,CAAC,IAAIvxB,GAAGA,EAAE85B,EAAE,cAAc,MAAM95B,EAAE,KAAK85B,EAAEA,CAAC,EAAEua,GAAC,CAAE,EAAErB,GAAE,OAAO,GAAO,IAAI,aAAazhB,CAAC,CAAC,EAAE,CAACie,EAAEL,EAAErV,EAAEsZ,GAAElB,EAAGgC,GAAGG,EAAC,CAAC,EAAE9wC,EAAE,UAAU,IAAI,CAACu2B,EAAE,QAAQua,IAAG,EAAE,CAACA,GAAEva,EAAE,MAAM,CAAC,EAAE,SAASwa,IAAI,CAAC,IAAI/iB,EAAE7xB,EAAEiqB,EAAE,OAAOqoB,GAAG,MAAMA,EAAE,QAAQzuC,EAAE,cAAc,MAAM,CAAC,UAAUktC,GAAiBrpB,GAAE,QAAQmK,EAAiBuI,GAAE,aAAa,KAAK,OAAOvI,EAAE,OAAO,eAAe,EAAE,eAAe6hB,KAAI,SAAS,EAAEpB,EAAE,OAAO,EAAEF,GAAGvuC,EAAE,cAAc,MAAM,CAAC,UAAUktC,GAAiBrpB,GAAE,QAAQ1nB,EAAiBo6B,GAAE,aAAa,KAAK,OAAOp6B,EAAE,OAAO,eAAe,EAAE,eAAe0zC,KAAI,SAAS,EAAEtB,EAAE,EAAEvuC,EAAE,cAAcorC,GAAG,CAAC,UAAU8B,GAAiBrpB,GAAE,QAAQuC,EAAiBmQ,GAAE,aAAa,KAAK,OAAOnQ,EAAE,MAAM,EAAE,QAAQypB,KAAI,SAAS,CAAC,CAAC,CAAC,OAAO7vC,EAAE,cAAc,KAAK,CAAC,SAAS,EAAE,IAAI/D,GAAE,UAAUixC,GAAEiB,EAAG4B,GAAkBlsB,GAAE,OAAOwpB,EAAkB9W,GAAE,aAAa,KAAK,OAAO8W,EAAG,MAAqBxpB,GAAE,QAAuBA,IAAEgsB,EAAC,GAAGvC,EAAkB/W,GAAE,aAAa,KAAK,OAAO+W,EAAGuC,EAAC,CAAC,EAAE,oBAAoB,GAAG,oBAAoBtC,EAAGhX,EAAE,aAAa,KAAKgX,EAAGvB,EAAE,cAAc,EAAEzV,EAAE,KAAKA,EAAE,UAAUh6B,GAAG,eAAeyyC,EAAE,eAAe,CAAC,CAACzY,EAAE,QAAQ,cAAcphB,GAAE,eAAe+5B,GAAE,eAAeU,GAAG,kBAAkBY,GAAG,kBAAkBC,GAAG,aAAaj0C,EAAE,aAAamzC,GAAG,eAAeP,GAAE,mBAAmBU,GAAE,YAAYD,GAAE,cAAce,GAAG,iBAAiBtB,GAAG,uBAAuBR,EAAG,gBAAgB,CAAC,EAAE7C,GAAGuC,IAAGQ,GAAG,MAAM,CAAC,UAAUxyC,EAAE,kBAAkBA,EAAE,YAAYuD,EAAE,OAAOvD,EAAE,WAAW,GAAG0yC,GAAEK,GAAEc,GAAE,OAAO,KAAK,mBAAmB7B,GAAE,OAAO,GAAGnyC,EAAC,KAAK,GAAG4xC,EAAG,GAAG1X,EAAE,KAAK,EAAE,UAAU,IAAI,CAAC8Y,GAAE,EAAE,EAAER,EAAE,IAAI,EAAE0B,GAAE,QAAQ,IAAI,EAAE,cAAcviB,GAAG,CAAC6iB,IAAI,CAACf,KAAIJ,GAAE,QAAQ,IAAI,KAAKF,GAAEa,GAAE,OAAO,EAAEriB,EAAE,OAAO,kBAAkBA,EAAE,SAAS,EAAEA,EAAE,OAAO,UAAU,WAAWqhB,GAAE,EAAE,EAAEkB,GAAE,QAAQ,CAAC,EAAEviB,EAAE,QAAQ,EAAEA,EAAE,OAAO,GAAG,EAAE,YAAY,IAAI,CAAC,IAAI1nB,EAAE0qC,EAAE10C,EAAE20C,GAAE,GAAG3B,IAAI,CAACQ,GAAE,OAAOS,GAAE,QAAQ,KAAK,IAAIviB,GAAE,SAAS1nB,EAAErK,GAAE,UAAU,KAAK,OAAOqK,EAAE,MAAM,iBAAiB,kBAAkB,EAAE,QAAQ,KAAK,EAAE,IAAI,CAAC,EAAEnK,GAAE,SAAS60C,EAAE/0C,GAAE,UAAU,KAAK,OAAO+0C,EAAE,MAAM,iBAAiB,kBAAkB,EAAE,QAAQ,KAAK,EAAE,IAAI,CAAC,EAAE5qB,GAAE,IAAI,KAAI,EAAG,QAAO,IAAK9pB,EAAEozC,GAAE,UAAU,KAAK,OAAOpzC,EAAE,QAAO,GAAIG,GAAEmyC,IAAI,IAAI5gB,GAAE7xB,GAAE+0C,GAAE,KAAK,IAAIz0C,EAAC,EAAE2pB,GAAE,GAAG,KAAK,IAAI3pB,EAAC,GAAGuwC,IAAIkE,GAAE,IAAI,CAAC1B,GAAEa,GAAE,OAAO,GAAGY,GAAE1a,EAAE,YAAY,MAAM0a,GAAE,KAAK1a,EAAEA,CAAC,EAAEwY,GAAEH,IAAI,IAAI5gB,GAAE,EAAE,QAAQ,OAAO7xB,GAAE,EAAE,OAAO,IAAI,EAAE20C,GAAC,EAAGp0C,GAAE,EAAE,EAAEotB,GAAE,EAAE,EAAE,MAAM,CAACulB,GAAE,EAAE,EAAER,EAAE,IAAI,CAAC,EAAE,cAAc7gB,GAAG,CAAC,IAAIgjB,EAAE10C,EAAE20C,GAAEE,GAAG,GAAG,CAACZ,GAAE,SAAS,CAACT,MAAKkB,EAAE,OAAO,aAAY,IAAK,KAAK,OAAOA,EAAE,SAAQ,EAAG,QAAQ,EAAE,OAAO,IAAI5qB,GAAE4H,EAAE,QAAQuiB,GAAE,QAAQ,EAAE9zC,GAAEuxB,EAAE,QAAQuiB,GAAE,QAAQ,EAAEW,IAAG50C,EAAEF,EAAE,kBAAkB,KAAKE,EAAE6wC,GAAGkB,CAAE,EAAE,CAACO,IAAI,KAAK,IAAInyC,EAAC,EAAE,GAAG,KAAK,IAAI2pB,EAAC,EAAE,IAAIyoB,EAAE,KAAK,IAAIpyC,EAAC,EAAE,KAAK,IAAI2pB,EAAC,EAAE,IAAI,GAAG,EAAE,IAAI9f,GAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAEsoC,IAAI,KAAKsC,GAAE,SAAS,KAAK,GAAGA,GAAE,SAAS,QAAQ,KAAKA,GAAE,SAAS,KAAK,GAAG9qB,GAAE,GAAG8qB,GAAE,SAAS,QAAQ,GAAG9qB,GAAE,KAAK9f,GAAE,EAAE8f,IAAGwoB,IAAI,MAAMsC,GAAE,SAAS,MAAM,GAAGA,GAAE,SAAS,OAAO,KAAKA,GAAE,SAAS,MAAM,GAAGz0C,GAAE,GAAGy0C,GAAE,SAAS,OAAO,GAAGz0C,GAAE,KAAK6J,GAAE,EAAE7J,KAAI,KAAK,IAAI6J,GAAE,CAAC,EAAE,GAAG,KAAK,IAAIA,GAAE,CAAC,EAAE,IAAIwjB,GAAE,EAAE,GAAGmnB,GAAEh1C,GAAE,UAAU,MAAMg1C,GAAE,MAAM,YAAY,mBAAmB,GAAG3qC,GAAE,CAAC,IAAI,GAAG6qC,GAAGl1C,GAAE,UAAU,MAAMk1C,GAAG,MAAM,YAAY,mBAAmB,GAAG7qC,GAAE,CAAC,IAAI,CAAC,CAAC,EAAE4pC,IAAI,CAAC3Z,EAAE,IAAIv2B,EAAE,cAAc,SAAS,CAAC,aAAa0uC,EAAG,gBAAgBmC,GAAG,oBAAoB,GAAG,QAAQA,IAAI,CAACf,GAAE,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI9hB,EAAE8iB,GAAC,GAAI9iB,EAAEuI,EAAE,YAAY,MAAMvI,EAAE,KAAKuI,EAAEA,CAAC,CAAC,EAAE,UAAU2W,GAAiBrpB,GAAE,aAAa2pB,EAAkBjX,GAAE,aAAa,KAAK,OAAOiX,EAAG,WAAW,CAAC,GAAGC,EAAkBgB,GAAE,QAAQ,KAAKhB,EAAGnC,EAAE,EAAE,KAAK/U,EAAE,KAAK6a,iBAAG7a,EAAE,KAAK,EAAEA,EAAE,IAAIA,EAAE,IAAI,OAAOA,EAAE,OAAO,WAAWA,EAAE,MAAK,EAAGA,EAAE,MAAMv2B,EAAE,cAAcA,EAAE,SAAS,KAAK6vC,IAAGtZ,EAAE,MAAMA,EAAE,QAAQv2B,EAAE,cAAc,MAAM,CAAC,YAAY,GAAG,UAAUktC,GAAiBrpB,GAAE,MAAM6pB,EAAkBnX,GAAE,aAAa,KAAK,OAAOmX,EAAG,IAAI,CAAC,EAAEnX,EAAE,SAASA,EAAE,OAAO,WAAW,CAACA,EAAE,KAAKA,EAAE,MAAMwa,GAAE,EAAG,KAAKxa,EAAE,OAAO,UAAUA,EAAE,MAAsBkY,IAAEoB,EAAC,GAAI/E,GAAG+E,EAAC,EAAE,IAAI,EAAE,KAAK7vC,EAAE,cAAc,MAAM,CAAC,eAAe,GAAG,UAAUktC,GAAiBrpB,GAAE,SAAS8pB,EAAkBpX,GAAE,aAAa,KAAK,OAAOoX,EAAG,OAAO,CAAC,EAAE3tC,EAAE,cAAc,MAAM,CAAC,aAAa,GAAG,UAAUktC,GAAiBrpB,GAAE,OAAO+pB,EAAkBrX,GAAE,aAAa,KAAK,OAAOqX,EAAG,KAAK,CAAC,EAAE,OAAOrX,EAAE,OAAO,WAAWA,EAAE,MAAK,EAAGA,EAAE,KAAK,EAAEA,EAAE,YAAYv2B,EAAE,cAAc,MAAM,CAAC,mBAAmB,GAAG,UAAUktC,GAAEkB,EAAG4B,GAAkBnsB,GAAE,aAAagqB,EAAkBtX,GAAE,aAAa,KAAK,OAAOsX,EAAG,WAAW,CAAC,EAAE,OAAOtX,EAAE,aAAa,WAAWA,EAAE,YAAW,EAAGA,EAAE,WAAW,EAAE,IAAI,EAAE6a,iBAAG7a,EAAE,MAAM,EAAEA,EAAE,OAAOA,EAAE,QAAQkW,GAAGlW,EAAE,MAAM,EAAEv2B,EAAE,cAAc,SAAS,CAAC,cAAc,GAAG,cAAc,GAAG,MAAMu2B,EAAE,mBAAmB2X,EAAG,QAAQlgB,GAAG,CAAC,IAAI7xB,EAAEiqB,EAAEqmB,GAAGlW,EAAE,MAAM,GAAGuZ,MAAK1pB,GAAGjqB,EAAEo6B,EAAE,QAAQ,UAAU,MAAMnQ,EAAE,KAAKjqB,EAAE6xB,CAAC,EAAE8iB,GAAC,EAAG,EAAE,UAAU5D,GAAiBrpB,GAAE,cAAciqB,EAAkBvX,GAAE,aAAa,KAAK,OAAOuX,EAAG,YAAY,CAAC,EAAEvX,EAAE,OAAO,KAAK,EAAE,KAAK6a,iBAAG7a,EAAE,MAAM,EAAEA,EAAE,OAAOA,EAAE,QAAQkW,GAAGlW,EAAE,MAAM,EAAEv2B,EAAE,cAAc,SAAS,CAAC,cAAc,GAAG,cAAc,GAAG,MAAMu2B,EAAE,mBAAmBr6B,EAAE,QAAQ8xB,GAAG,CAAC,IAAI7xB,EAAEiqB,EAAEqmB,GAAGlW,EAAE,MAAM,KAAKnQ,GAAGjqB,EAAEo6B,EAAE,QAAQ,UAAU,MAAMnQ,EAAE,KAAKjqB,EAAE6xB,CAAC,EAAE,CAACA,EAAE,kBAAkB8iB,GAAC,EAAG,EAAE,UAAU5D,GAAiBrpB,GAAE,cAAckqB,EAAkBxX,GAAE,aAAa,KAAK,OAAOwX,EAAG,YAAY,CAAC,EAAExX,EAAE,OAAO,KAAK,EAAE,IAAI,CAAC,CAAC,EAAE,SAAS8a,IAAI,CAAC,GAAG,OAAO,OAAQ,KAAa,OAAO,SAAU,IAAY,MAAM,MAAM,IAAIj1C,EAAE,SAAS,gBAAgB,aAAa,KAAK,EAAE,OAAOA,IAAI,QAAQ,CAACA,EAAE,OAAO,iBAAiB,SAAS,eAAe,EAAE,UAAUA,CAAC,CAAC,SAASk1C,GAAGl1C,EAAE,EAAE,CAAC,IAAIm6B,EAAE,GAAG,MAAM,CAACn6B,EAAE,CAAC,EAAE,QAAQ,CAACG,EAAEqvC,IAAI,CAAC,IAAI7vC,EAAE6vC,IAAI,EAAErzB,EAAExc,EAAE,kBAAkB,WAAW4vC,EAAE5vC,EAAE6wC,GAAGD,GAAG,SAASnwC,EAAEuD,EAAE,CAAC,CAAC,MAAM,QAAQ,SAAS,MAAM,EAAE,QAAQksC,GAAG,CAAC1V,EAAE,GAAGhe,CAAC,IAAI0zB,CAAC,EAAE,EAAE,OAAOlsC,GAAG,SAAS,GAAGA,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,OAAOxD,GAAG,UAAU,OAAOA,GAAG,SAASC,EAAED,CAAC,EAAE,OAAOA,GAAG,SAAS,CAAC,MAAM,QAAQ,SAAS,MAAM,EAAE,QAAQwD,GAAG,CAACxD,EAAEwD,CAAC,IAAI,OAAOw2B,EAAE,GAAGhe,CAAC,IAAIxY,CAAC,EAAE,EAAE4rC,EAAEpV,EAAE,GAAGhe,CAAC,IAAIxY,CAAC,EAAE,EAAE,OAAOxD,EAAEwD,CAAC,GAAG,SAAS,GAAGxD,EAAEwD,CAAC,CAAC,KAAKxD,EAAEwD,CAAC,CAAC,CAAC,EAAEvD,EAAEmvC,CAAC,CAAC,CAAC,EAAEpV,CAAC,CAAiV,IAAIgb,GAAGC,aAAG,SAAS70C,EAAE45B,EAAE,CAAC,GAAG,CAAC,OAAOh6B,EAAE,SAASqvC,EAAE,eAAe,OAAO7vC,EAAE,CAAC,SAAS,MAAM,EAAE,OAAOwc,EAAE,YAAYozB,EAAE,UAAUnvC,EAAE,OAAOuD,EAAE,aAAaksC,EAAE,MAAMF,EAAE,QAAQ,WAAWC,EAAE,SAASgC,EAAG,MAAMC,EAAG,cAAcC,EAAGxB,GAAG,aAAaxwC,EAAE,IAAIiyC,EAAGkD,GAAE,EAAG,IAAIjD,EAAGrB,GAAG,YAAY1Y,EAAE,MAAMga,EAAG,mBAAmBC,EAAG,gBAAgB,sBAAsBC,CAAE,EAAE5xC,EAAE,CAAC6xC,EAAE3qB,CAAC,EAAE7jB,EAAE,SAAS,EAAE,EAAEyuC,EAAEzuC,EAAE,QAAQ,IAAI,MAAM,KAAK,IAAI,IAAI,CAAC4rC,CAAC,EAAE,OAAO4C,EAAE,OAAO9xC,GAAGA,EAAE,QAAQ,EAAE,IAAIA,GAAGA,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC8xC,EAAE5C,CAAC,CAAC,EAAE,CAAC8C,EAAGC,CAAE,EAAE3uC,EAAE,SAAS,EAAE,EAAE,CAAC4uC,EAAEC,CAAC,EAAE7uC,EAAE,SAAS,EAAE,EAAE,CAAC8uC,EAAGC,CAAC,EAAE/uC,EAAE,SAAS,EAAE,EAAE,CAACgvC,EAAEC,CAAC,EAAEjvC,EAAE,SAAS+rC,IAAI,SAASA,EAAE,OAAO,OAAQ,KAAa,OAAO,YAAY,OAAO,WAAW,8BAA8B,EAAE,QAAQ,OAAO,OAAO,EAAEmD,GAAElvC,EAAE,OAAO,IAAI,EAAEmvC,GAAGpzC,EAAE,KAAK,GAAG,EAAE,QAAQ,OAAO,EAAE,EAAE,QAAQ,SAAS,EAAE,EAAEqzC,EAAEpvC,EAAE,OAAO,IAAI,EAAEqvC,EAAErvC,EAAE,OAAO,EAAE,EAAEsvC,EAAGtvC,EAAE,YAAYtD,GAAG,CAACmnB,EAAE1O,GAAG,CAAC,IAAI2U,EAAE,OAAOA,EAAE3U,EAAE,KAAKo6B,GAAGA,EAAE,KAAK7yC,EAAE,EAAE,IAAI,MAAMotB,EAAE,QAAQoiB,GAAE,QAAQxvC,EAAE,EAAE,EAAEyY,EAAE,OAAO,CAAC,CAAC,GAAGo6B,CAAC,IAAIA,IAAI7yC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,OAAOsD,EAAE,UAAU,IAAIksC,GAAE,UAAUxvC,GAAG,CAAC,GAAGA,EAAE,QAAQ,CAACmnB,EAAE1O,GAAGA,EAAE,IAAI2U,GAAGA,EAAE,KAAKptB,EAAE,GAAG,CAAC,GAAGotB,EAAE,OAAO,EAAE,EAAEA,CAAC,CAAC,EAAE,MAAM,CAAC,WAAW,IAAI,CAAC2nB,GAAG,UAAU,IAAI,CAAC5tB,EAAE1O,GAAG,CAAC,IAAI2U,EAAE3U,EAAE,UAAUo6B,GAAGA,EAAE,KAAK7yC,EAAE,EAAE,EAAE,OAAOotB,IAAI,GAAG,CAAC,GAAG3U,EAAE,MAAM,EAAE2U,CAAC,EAAE,CAAC,GAAG3U,EAAE2U,CAAC,EAAE,GAAGptB,CAAC,EAAE,GAAGyY,EAAE,MAAM2U,EAAE,CAAC,CAAC,EAAE,CAACptB,EAAE,GAAGyY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAEnV,EAAE,UAAU,IAAI,CAAC,GAAG+rC,IAAI,SAAS,CAACkD,EAAElD,CAAC,EAAE,MAAM,CAAC,GAAGA,IAAI,WAAW,OAAO,YAAY,OAAO,WAAW,8BAA8B,EAAE,QAAQkD,EAAE,MAAM,EAAEA,EAAE,OAAO,GAAG,OAAO,OAAQ,IAAY,OAAO,IAAIvyC,EAAE,OAAO,WAAW,8BAA8B,EAAE,GAAG,CAACA,EAAE,iBAAiB,SAAS,CAAC,CAAC,QAAQyY,CAAC,IAAI,CAAC85B,EAAE95B,EAAE,OAAO,OAAO,CAAC,CAAC,CAAC,MAAS,CAACzY,EAAE,YAAY,CAAC,CAAC,QAAQotB,CAAC,IAAI,CAAC,GAAG,CAACmlB,EAAEnlB,EAAE,OAAO,OAAO,CAAC,OAAOylB,EAAE,CAAC,QAAQ,MAAMA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAACxD,CAAC,CAAC,EAAE/rC,EAAE,UAAU,IAAI,CAACwuC,EAAE,QAAQ,GAAGK,EAAE,EAAE,CAAC,EAAE,CAACL,CAAC,CAAC,EAAExuC,EAAE,UAAU,IAAI,CAAC,IAAItD,EAAEyY,GAAG,CAAC,IAAIo6B,EAAEC,EAAEzzC,EAAE,MAAMM,IAAG8Y,EAAE9Y,EAAC,GAAG8Y,EAAE,OAAO9Y,EAAC,IAAIwyC,EAAE,EAAE,GAAGU,EAAEL,GAAE,UAAU,MAAMK,EAAE,MAAK,GAAIp6B,EAAE,OAAO,WAAW,SAAS,gBAAgB+5B,GAAE,UAAUM,EAAEN,GAAE,UAAU,MAAMM,EAAE,SAAS,SAAS,aAAa,IAAIX,EAAE,EAAE,CAAC,EAAE,OAAO,SAAS,iBAAiB,UAAUnyC,CAAC,EAAE,IAAI,SAAS,oBAAoB,UAAUA,CAAC,CAAC,EAAE,CAACX,CAAC,CAAC,EAAEiE,EAAE,UAAU,IAAI,CAAC,GAAGkvC,GAAE,QAAQ,MAAM,IAAI,CAACE,EAAE,UAAUA,EAAE,QAAQ,MAAM,CAAC,cAAc,EAAE,CAAC,EAAEA,EAAE,QAAQ,KAAKC,EAAE,QAAQ,GAAG,CAAC,EAAE,CAACH,GAAE,OAAO,CAAC,EAAElvC,EAAE,cAAc,UAAU,CAAC,IAAIu2B,EAAE,aAAa,GAAG+X,CAAE,IAAIa,EAAE,GAAG,SAAS,GAAG,YAAY,SAAS,gBAAgB,iBAAiB,cAAc,QAAQ,yBAAyB,EAAE,EAAEV,EAAE,IAAI,CAAC/xC,EAAEyY,IAAI,CAAC,IAAIq6B,EAAE,GAAG,CAAC1lB,EAAEylB,EAAC,EAAE7yC,EAAE,MAAM,GAAG,EAAE,OAAO8xC,EAAE,OAAOxuC,EAAE,cAAc,KAAK,CAAC,IAAItD,EAAE,IAAIyxC,IAAK,OAAOkD,GAAE,EAAGlD,EAAG,SAAS,GAAG,IAAIe,GAAE,UAAU1yC,EAAE,sBAAsB,GAAG,aAAawyC,EAAE,kBAAkBllB,EAAE,cAAc8kB,GAAGJ,EAAE,OAAO,GAAG,CAACj2B,EAAE,kBAAkBg3B,GAAE,MAAM,CAAC,uBAAuB,KAAKC,EAAEd,EAAG,CAAC,IAAI,KAAK,OAAOc,EAAE,SAAS,CAAC,KAAK,UAAU,GAAG1C,EAAE,KAAK,QAAQ,GAAGsB,CAAE,KAAK,GAAGH,EAAG,GAAGqD,GAAGvxC,EAAEksC,CAAC,CAAC,EAAE,OAAO5vC,GAAG,CAACgzC,EAAE,SAAS,CAAChzC,EAAE,cAAc,SAASA,EAAE,aAAa,IAAIgzC,EAAE,QAAQ,GAAGD,EAAE,UAAUA,EAAE,QAAQ,MAAM,CAAC,cAAc,EAAE,CAAC,EAAEA,EAAE,QAAQ,MAAM,EAAE,QAAQ/yC,GAAG,CAACA,EAAE,kBAAkB,aAAaA,EAAE,OAAO,QAAQ,cAAc,SAASgzC,EAAE,UAAUA,EAAE,QAAQ,GAAGD,EAAE,QAAQ/yC,EAAE,cAAc,EAAE,aAAa,IAAIwyC,EAAE,EAAE,EAAE,YAAY,IAAIA,EAAE,EAAE,EAAE,aAAa,IAAI,CAACC,GAAID,EAAE,EAAE,CAAC,EAAE,UAAU,IAAIA,EAAE,EAAE,EAAE,cAAcxyC,GAAG,CAACA,EAAE,kBAAkB,aAAaA,EAAE,OAAO,QAAQ,cAAc,SAAS0yC,EAAE,EAAE,CAAC,EAAE,YAAY,IAAIA,EAAE,EAAE,CAAC,EAAEP,EAAE,OAAOnyC,GAAG,CAACA,EAAE,UAAU8Y,IAAI,GAAG9Y,EAAE,WAAWK,CAAC,EAAE,IAAI,CAACL,EAAE2C,KAAI,CAAC,IAAIywC,GAAEC,GAAE,OAAO1vC,EAAE,cAAcotC,GAAG,CAAC,IAAI/wC,EAAE,GAAG,MAAMgyC,EAAG,MAAMrvC,GAAE,MAAM3C,EAAE,kBAAkB2vC,EAAE,UAAUyD,GAAiBvzC,GAAE,WAAW,KAAKuzC,GAAEzB,EAAG,UAAyB9xC,GAAE,UAAU,qBAAoCA,GAAE,qBAAqB,OAAOK,EAAE,cAAc2xC,EAAG,aAAawB,GAAiBxzC,GAAE,cAAc,KAAKwzC,GAAE/D,EAAE,YAAYmD,EAAG,SAASpyC,EAAE,MAAqBR,GAAE,MAAM,SAAwBA,GAAE,SAAS,WAA0BA,GAAE,WAAW,kBAAiCA,GAAE,kBAAkB,kBAAiCA,GAAE,kBAAkB,YAAYozC,EAAG,OAAOd,EAAE,OAAOvyC,IAAGA,GAAE,UAAUI,EAAE,QAAQ,EAAE,QAAQqyC,EAAG,OAAOzyC,IAAGA,GAAE,UAAUI,EAAE,QAAQ,EAAE,WAAWsyC,EAAG,gBAAgBp2B,EAAE,IAAI61B,EAAG,YAAY/Z,EAAE,SAASua,EAAE,sBAAsBL,EAAG,gBAAgB5xC,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,ECwBlmY,MAAM+0C,EAAoB,CAChB,kBAAwD,IACxD,gBAAmF,IAE3F,MAAM,wBAAwBC,EAAgB9K,EAAmB+K,EAA4B5pB,EAAkC,CAC7H,GAAI,CACF,MAAM6pB,EAAoC,CACxC,GAAI,qBAAqB,KAAK,KAAK,GACnC,KAAM,oBACN,MAAO,qBACP,QAAS,uBAAuB7pB,CAAS,6CAA6C4pB,CAAkB,GACxG,UAAA/K,EACA,OAAA8K,EACA,UAAW,IAAI,OAAO,cACtB,KAAM,GACN,UAAW,eACX,SAAU,QAGZ,MAAM,KAAK,gBAAgBA,EAAQE,CAAY,EAG/CC,GAAM,QAAQ,wBAAwB9pB,CAAS,IAAK,CAClD,YAAa,iBAAiB4pB,CAAkB,GAChD,SAAU,IACX,EAEDrqB,EAAO,KAAK,yCAA0C,CACpD,OAAAoqB,EACA,UAAA9K,EACA,mBAAA+K,EACA,UAAA5pB,CAAA,CACD,CACH,OAAShkB,EAAO,CACdujB,EAAO,MAAM,oDAAqDvjB,CAAK,CACzE,CACF,CAEA,MAAM,wBAAwB2tC,EAAgB9K,EAAmB7e,EAAmB+pB,EAAsC,CACxH,GAAI,CACF,MAAMC,EAAaD,EAAe,iBAAiBA,EAAa,gBAAgB,uBAAyB,GAEnGF,EAAoC,CACxC,GAAI,qBAAqB,KAAK,KAAK,GACnC,KAAM,oBACN,MAAO,oBACP,QAAS,uBAAuB7pB,CAAS,uBAAuBgqB,CAAU,GAC1E,UAAAnL,EACA,OAAA8K,EACA,UAAW,IAAI,OAAO,cACtB,KAAM,GACN,UAAW,eACX,SAAU,UAGZ,MAAM,KAAK,gBAAgBA,EAAQE,CAAY,EAG/CC,GAAM,QAAQ,iCAAkC,CAC9C,YAAaC,EAAe,cAAcA,EAAa,gBAAgB,aAAe,kCACtF,SAAU,IACX,EAEDxqB,EAAO,KAAK,yCAA0C,CACpD,OAAAoqB,EACA,UAAA9K,EACA,UAAA7e,EACA,aAAA+pB,CAAA,CACD,CACH,OAAS/tC,EAAO,CACdujB,EAAO,MAAM,oDAAqDvjB,CAAK,CACzE,CACF,CAEA,MAAM,oBAAoB2tC,EAAgB9K,EAAmB7e,EAAmBiqB,EAAoC,CAClH,GAAI,CACF,MAAMC,EAAiB,IAAI,KAAKD,CAAW,EACrCE,MAAe,KAIrB,GAHAA,EAAS,QAAQA,EAAS,UAAY,CAAC,EAGnCD,EAAe,WAAaC,EAAS,UAAW,CAClD,MAAMN,EAAoC,CACxC,GAAI,qBAAqB,KAAK,KAAK,GACnC,KAAM,oBACN,MAAO,oBACP,QAAS,kCAAkC7pB,CAAS,iBAAiBkqB,EAAe,oBAAoB,KACxG,UAAArL,EACA,OAAA8K,EACA,UAAW,IAAI,OAAO,cACtB,KAAM,GACN,UAAW,eACX,SAAU,UAGZ,MAAM,KAAK,gBAAgBA,EAAQE,CAAY,EAE/CtqB,EAAO,KAAK,yBAA0B,CACpC,OAAAoqB,EACA,UAAA9K,EACA,UAAA7e,EACA,YAAAiqB,CAAA,CACD,CACH,CACF,OAASjuC,EAAO,CACdujB,EAAO,MAAM,oCAAqCvjB,CAAK,CACzD,CACF,CAEA,MAAM,kBAAkB2tC,EAAgB9K,EAAmB7e,EAAkC,CAC3F,GAAI,CACF,MAAM6pB,EAAoC,CACxC,GAAI,kBAAkB,KAAK,KAAK,GAChC,KAAM,iBACN,MAAO,wBACP,QAAS,wBAAwB7pB,CAAS,8CAC1C,UAAA6e,EACA,OAAA8K,EACA,UAAW,IAAI,OAAO,cACtB,KAAM,GACN,UAAW,eACX,SAAU,OAGZ,MAAM,KAAK,gBAAgBA,EAAQE,CAAY,EAE/CtqB,EAAO,KAAK,sBAAuB,CACjC,OAAAoqB,EACA,UAAA9K,EACA,UAAA7e,CAAA,CACD,CACH,OAAShkB,EAAO,CACdujB,EAAO,MAAM,iCAAkCvjB,CAAK,CACtD,CACF,CAEA,MAAM,4BAA4B2tC,EAAgBS,EAAe5/B,EAAiB6/B,EAAmC,CACnH,GAAI,CACF,MAAMR,EAAoC,CACxC,GAAI,aAAa,KAAK,KAAK,GAC3B,KAAM,YACN,MAAAO,EACA,QAAA5/B,EACA,OAAAm/B,EACA,UAAW,IAAI,OAAO,cACtB,KAAM,GACN,UAAAU,EACA,SAAU,OAGZ,MAAM,KAAK,gBAAgBV,EAAQE,CAAY,EAE/CtqB,EAAO,KAAK,gCAAiC,CAC3C,OAAAoqB,EACA,MAAAS,CAAA,CACD,CACH,OAASpuC,EAAO,CACdujB,EAAO,MAAM,2CAA4CvjB,CAAK,CAChE,CACF,CAEA,MAAc,gBAAgB2tC,EAAgBE,EAAkD,CAE9F,MAAMS,EAAoB,KAAK,cAAc,IAAIX,CAAM,GAAK,GAG5DW,EAAkB,QAAQT,CAAY,EAGlCS,EAAkB,OAAS,IAC7BA,EAAkB,OAAO,EAAE,EAI7B,KAAK,cAAc,IAAIX,EAAQW,CAAiB,EAGhD,GAAI,CACF,aAAa,QAAQ,iBAAiBX,CAAM,GAAI,KAAK,UAAUW,CAAiB,CAAC,CACnF,OAAStuC,EAAO,CACdujB,EAAO,KAAK,mDAAoD,CAAE,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,OAAOA,CAAK,EAAG,CACnI,CAGA,KAAK,kBAAkB2tC,EAAQW,CAAiB,CAClD,CAEA,MAAM,qBAAqBX,EAAgBY,EAAgD,CACzF,GAAI,CAEF,MAAMC,EAAS,aAAa,QAAQ,iBAAiBb,CAAM,EAAE,EAC7D,GAAIa,EAAQ,CACV,MAAMC,EAAgB,KAAK,MAAMD,CAAM,EACvC,KAAK,cAAc,IAAIb,EAAQc,CAAa,CAC9C,CAEA,MAAMH,EAAoB,KAAK,cAAc,IAAIX,CAAM,GAAK,GAC5D,OAAOY,EAAQD,EAAkB,MAAM,EAAGC,CAAK,EAAID,CACrD,OAAStuC,EAAO,CACd,OAAAujB,EAAO,MAAM,oCAAqCvjB,CAAK,EAChD,EACT,CACF,CAEA,MAAM,eAAe2tC,EAAiC,CACpD,GAAI,CAEF,OADsB,MAAM,KAAK,qBAAqBA,CAAM,GACvC,OAAOv1C,GAAK,CAACA,EAAE,IAAI,EAAE,MAC5C,OAAS4H,EAAO,CACd,OAAAujB,EAAO,MAAM,8BAA+BvjB,CAAK,EAC1C,CACT,CACF,CAEA,MAAM,WAAW2tC,EAAgBe,EAAuC,CACtE,GAAI,CACF,MAAMJ,EAAoB,MAAM,KAAK,qBAAqBX,CAAM,EAC1DE,EAAeS,EAAkB,KAAKl2C,GAAKA,EAAE,KAAOs2C,CAAc,EAEpEb,IACFA,EAAa,KAAO,GACpB,KAAK,cAAc,IAAIF,EAAQW,CAAiB,EAGhD,aAAa,QAAQ,iBAAiBX,CAAM,GAAI,KAAK,UAAUW,CAAiB,CAAC,EAGjF,KAAK,kBAAkBX,EAAQW,CAAiB,EAEpD,OAAStuC,EAAO,CACdujB,EAAO,MAAM,uCAAwCvjB,CAAK,CAC5D,CACF,CAEA,MAAM,cAAc2tC,EAA+B,CACjD,GAAI,CACF,MAAMW,EAAoB,MAAM,KAAK,qBAAqBX,CAAM,EAChEW,EAAkB,QAAQT,GAAgB,CACxCA,EAAa,KAAO,EACtB,CAAC,EAED,KAAK,cAAc,IAAIF,EAAQW,CAAiB,EAGhD,aAAa,QAAQ,iBAAiBX,CAAM,GAAI,KAAK,UAAUW,CAAiB,CAAC,EAGjF,KAAK,kBAAkBX,EAAQW,CAAiB,CAClD,OAAStuC,EAAO,CACdujB,EAAO,MAAM,4CAA6CvjB,CAAK,CACjE,CACF,CAEA,MAAM,mBAAmB2tC,EAA+B,CACtD,GAAI,CACF,KAAK,cAAc,IAAIA,EAAQ,EAAE,EACjC,aAAa,WAAW,iBAAiBA,CAAM,EAAE,EAGjD,KAAK,kBAAkBA,EAAQ,EAAE,CACnC,OAAS3tC,EAAO,CACdujB,EAAO,MAAM,iCAAkCvjB,CAAK,CACtD,CACF,CAEA,UAAU2tC,EAAgBhtC,EAAsE,CAC9F,MAAMguC,EAAkB,KAAK,YAAY,IAAIhB,CAAM,GAAK,GACxD,OAAAgB,EAAgB,KAAKhuC,CAAQ,EAC7B,KAAK,YAAY,IAAIgtC,EAAQgB,CAAe,EAGrC,IAAM,CACX,MAAMC,EAAc,KAAK,YAAY,IAAIjB,CAAM,GAAK,GAC9ChpC,EAAQiqC,EAAY,QAAQjuC,CAAQ,EACtCgE,EAAQ,KACViqC,EAAY,OAAOjqC,EAAO,CAAC,EAC3B,KAAK,YAAY,IAAIgpC,EAAQiB,CAAW,EAE5C,CACF,CAEQ,kBAAkBjB,EAAgBc,EAA4C,EAChE,KAAK,YAAY,IAAId,CAAM,GAAK,IACxC,QAAQhtC,GAAY,CAC9B,GAAI,CACFA,EAAS8tC,CAAa,CACxB,OAASzuC,EAAO,CACdujB,EAAO,MAAM,8BAA+BvjB,CAAK,CACnD,CACF,CAAC,CACH,CAEA,MAAM,mBAAmB2tC,EAAkD,CACzE,GAAI,CACF,MAAMa,EAAS,aAAa,QAAQ,4BAA4Bb,CAAM,EAAE,EACxE,OAAIa,EACK,KAAK,MAAMA,CAAM,EAInB,CACL,mBAAoB,GACpB,kBAAmB,GACnB,iBAAkB,GAClB,gBAAiB,GACjB,iBAAkB,GAClB,kBAAmB,GAEvB,OAASxuC,EAAO,CACd,OAAAujB,EAAO,MAAM,0CAA2CvjB,CAAK,EACtD,CACL,mBAAoB,GACpB,kBAAmB,GACnB,iBAAkB,GAClB,gBAAiB,GACjB,iBAAkB,GAClB,kBAAmB,GAEvB,CACF,CAEA,MAAM,sBAAsB2tC,EAAgBkB,EAA8D,CACxG,GAAI,CAEF,MAAMC,EAAU,CAAE,GADF,MAAM,KAAK,mBAAmBnB,CAAM,EACtB,GAAGkB,CAAA,EAEjC,aAAa,QAAQ,4BAA4BlB,CAAM,GAAI,KAAK,UAAUmB,CAAO,CAAC,EAElFvrB,EAAO,KAAK,mCAAoC,CAAE,OAAAoqB,CAAA,CAAQ,CAC5D,OAAS3tC,EAAO,CACdujB,EAAO,MAAM,6CAA8CvjB,CAAK,CAClE,CACF,CAGA,MAAM,mBAAmB6iC,EAAmBkM,EAAmBpB,EAAgC,CAC7F,GAAI,CACF,GAAI,CAACA,EAAQ,OAUb,MAAMn/B,EARiB,CACrB,UAAW,kCACX,WAAY,4CACZ,YAAa,+CACb,UAAW,kCACX,UAAW,kDAGkBugC,CAAwC,EACnEvgC,GACFs/B,GAAM,QAAQt/B,EAAS,CACrB,SAAU,IACX,EAGH+U,EAAO,KAAK,yBAA0B,CACpC,UAAAsf,EACA,UAAAkM,EACA,OAAApB,CAAA,CACD,CACH,OAAS3tC,EAAO,CACdujB,EAAO,MAAM,kCAAmCvjB,CAAK,CACvD,CACF,CACF,CAEO,MAAMgvC,GAAsB,IAAItB,GC/XjC9H,GAAgC,6BA4EtC,MAAMqJ,EAAe,CACX,gBAAiB,CACvB,MAAMC,EAAY,aAAa,QAAQ,WAAW,EAClD,OAAOA,EAAY,CAAE,cAAe,UAAUA,CAAS,IAAO,EAChE,CAEA,MAAM,cAAczyC,EAAqC,CACvD,GAAI,CACF8mB,EAAO,KAAK,oBAAqB,CAC/B,UAAW9mB,EAAK,UAChB,QAASA,EAAK,QACd,OAAQA,EAAK,QAAU,QACxB,EAED,MAAMkS,EAAW,MAAMiU,EAAM,KAAK,GAAGgjB,EAAO,gBAAiBnpC,EAAM,CACjE,QAAS,CACP,GAAG,KAAK,iBACR,eAAgB,mBAClB,CACD,EAED,GAAIkS,EAAS,KAAK,QAAS,CACzB,MAAMwgC,EAAUxgC,EAAS,KAAK,QAC9B,OAAA4U,EAAO,KAAK,gCAAiC,CAAE,mBAAoB4rB,EAAQ,mBAAoB,EAG3F1yC,EAAK,OACP,MAAMuyC,GAAoB,wBACxBvyC,EAAK,OACL0yC,EAAQ,GACRA,EAAQ,mBACR1yC,EAAK,WAIPqxC,GAAM,QAAQ,oCAAoCqB,EAAQ,kBAAkB,GAAI,CAC9E,SAAU,IACX,EAGIA,CACT,CACA,MAAM,IAAI,MAAM,0BAA0B,CAC5C,OAASnvC,EAAY,CACnBujB,EAAO,MAAM,2BAA4BvjB,CAAK,EAC9C,MAAMqkC,EAAerkC,EAAM,UAAU,MAAM,OAAS,iBACpD8tC,SAAM,MAAMzJ,CAAY,EAClB,IAAI,MAAMA,CAAY,CAC9B,CACF,CAEA,MAAM,gBAAgBsJ,EAAgB/yC,EAAqC,CACzE,GAAI,CACF,MAAM2V,EAAc,GAChB3V,MAAe,OAASA,GAE5B,MAAM+T,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,sBAAsB+H,CAAM,GAAI,CACzE,OAAAp9B,EACA,QAAS,KAAK,gBAAe,CAC9B,EAED,GAAI5B,EAAS,KAAK,QAAS,CACzB,MAAMygC,EAAWzgC,EAAS,KAAK,UAAYA,EAAS,KAAK,MAAQ,GACjE,OAAA4U,EAAO,KAAK,2BAA4B,CAAE,OAAAoqB,EAAQ,MAAOyB,EAAS,OAAQ,EACnEA,CACT,CACA,MAAO,EACT,OAASpvC,EAAO,CACd,OAAAujB,EAAO,MAAM,gCAAiC,CAC5C,UAAW,iBACX,OAAQ,kBACR,OAAAoqB,EACA,MAAO3tC,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EACD8tC,GAAM,MAAM,gCAAgC,EACrC,EACT,CACF,CAEA,MAAM,aAAkC,CACtC,GAAI,CACF,MAAMn/B,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,gBAAiB,CAC1D,QAAS,KAAK,gBAAe,CAC9B,EACD,OAAIj3B,EAAS,KAAK,QACTA,EAAS,KAAK,MAAQA,EAAS,KAAK,UAAY,GAElD,EACT,OAAS3O,EAAO,CACd,OAAAujB,EAAO,MAAM,2BAA4B,CACvC,UAAW,iBACX,OAAQ,cACR,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EACM,EACT,CACF,CAEA,MAAM,WAAWkR,EAAqC,CACpD,GAAI,CACF,MAAMvC,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,iBAAiB10B,CAAE,GAAI,CAChE,QAAS,KAAK,gBAAe,CAC9B,EACD,OAAIvC,EAAS,KAAK,QACTA,EAAS,KAAK,SAAWA,EAAS,KAAK,KAEzC,IACT,OAAS3O,EAAO,CACd,OAAAujB,EAAO,MAAM,qCAAsC,CACjD,UAAW,iBACX,OAAQ,aACR,UAAWrS,EACX,MAAOlR,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EACM,IACT,CACF,CAEA,MAAM,yBAAyB4tC,EAAqD,CAClF,GAAI,CACF,MAAMj/B,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,8BAA8BgI,CAAkB,EAAE,EAE7F,GAAIj/B,EAAS,KAAK,QAAS,CACzB,MAAMwgC,EAAUxgC,EAAS,KAAK,SAAWA,EAAS,KAAK,KACvD,OAAA4U,EAAO,KAAK,qCAAsC,CAAE,mBAAAqqB,CAAA,CAAoB,EACjEuB,CACT,CACA,OAAO,IACT,OAASnvC,EAAO,CACd,OAAAujB,EAAO,MAAM,8CAA+CvjB,CAAK,EAC7D4iB,EAAM,aAAa5iB,CAAK,GAAKA,EAAM,UAAU,SAAW,IAC1D8tC,GAAM,MAAM,mBAAmB,EAE/BA,GAAM,MAAM,4BAA4B,EAEnC,IACT,CACF,CAEA,MAAM,cAAc58B,EAAYzS,EAAmC,CACjE,GAAI,CAMF,IALiB,MAAMmkB,EAAM,IAAI,GAAGgjB,EAAO,iBAAiB10B,CAAE,UAC5D,CAAE,OAAAzS,CAAA,EACF,CAAE,QAAS,KAAK,gBAAe,CAAE,GAGtB,KAAK,QAAS,CAKzB,GAJA8kB,EAAO,KAAK,kCAAmC,CAAE,UAAWrS,EAAI,EAG9C,aAAa,QAAQ,WAAW,EACnC,CAEb,MAAMi+B,EAAU,MAAM,KAAK,WAAWj+B,CAAE,EACpCi+B,GAAWA,EAAQ,QACrB,MAAMH,GAAoB,wBACxBG,EAAQ,OACRA,EAAQ,GACRA,EAAQ,UACRA,EAAQ,YAGd,MACErB,GAAM,QAAQ,gCAAgC,EAGhD,MAAO,EACT,CACA,MAAO,EACT,OAAS9tC,EAAY,CACnBujB,EAAO,MAAM,8BAA+B,CAC1C,UAAW,iBACX,OAAQ,gBACR,UAAWrS,EACX,MAAOlR,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EAED,MAAMqkC,EAAerkC,EAAM,UAAU,MAAM,SAAW,2BACtD8tC,UAAM,MAAMzJ,CAAY,EACjB,EACT,CACF,CAEA,MAAM,eAAenzB,EAAqC,CACxD,GAAI,CACF,MAAMvC,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,iBAAiB10B,CAAE,WAAY,GAAI,CAC5E,QAAS,KAAK,gBAAe,CAC9B,EACD,OAAIvC,EAAS,KAAK,SAChBm/B,GAAM,QAAQ,gCAAgC,EACvCn/B,EAAS,KAAK,SAEhB,IACT,OAAS3O,EAAO,CACd,OAAAujB,EAAO,MAAM,8BAA+B,CAC1C,UAAW,iBACX,OAAQ,iBACR,UAAWrS,EACX,MAAOlR,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EACD8tC,GAAM,MAAM,2BAA2B,EAChC,IACT,CACF,CAEA,MAAM,gBAAgBH,EAAuC,CAC3D,GAAI,CACF,MAAMh/B,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,sBAAsB+H,CAAM,SAAU,CAC/E,QAAS,KAAK,gBAAe,CAC9B,EAED,GAAIh/B,EAAS,KAAK,QAAS,CACzB,MAAM0gC,EAAQ1gC,EAAS,KAAK,MAC5B,OAAA4U,EAAO,KAAK,2BAA4B,CAAE,OAAAoqB,EAAQ,MAAA0B,EAAO,EAClDA,CACT,CAEA,MAAO,CACL,cAAe,EACf,iBAAkB,EAClB,kBAAmB,EACnB,kBAAmB,EACnB,WAAY,EACZ,SAAU,MAEd,OAASrvC,EAAO,CACd,OAAAujB,EAAO,MAAM,iCAAkCvjB,CAAK,EAC7C,CACL,cAAe,EACf,iBAAkB,EAClB,kBAAmB,EACnB,kBAAmB,EACnB,WAAY,EACZ,SAAU,MAEd,CACF,CAEA,MAAM,eAAepG,EAS+B,CAClD,GAAI,CACF,MAAM+U,EAAW,MAAMiU,EAAM,IAAI,GAAGgjB,EAAO,uBAAwB,CACjE,OAAQhsC,EACR,QAAS,KAAK,gBAAe,CAC9B,EAED,GAAI+U,EAAS,KAAK,QAAS,CACzB,MAAMxT,EAASwT,EAAS,KAAK,OAC7B,OAAA4U,EAAO,KAAK,4BAA6B,CACvC,MAAO3pB,EAAM,WAAaA,EAAM,oBAAsB,UACtD,MAAOuB,EAAO,SAAS,OACxB,EAEMA,CACT,CAEA,MAAO,CAAE,SAAU,GAAI,MAAO,EAChC,OAAS6E,EAAO,CACd,OAAAujB,EAAO,MAAM,6BAA8BvjB,CAAK,EAChD8tC,GAAM,MAAM,2BAA2B,EAChC,CAAE,SAAU,GAAI,MAAO,EAChC,CACF,CAEA,gBAAgBtgB,EAAiBC,EAA0B,CACzD,MAAM6hB,EAAQ,IAAI,KAAK9hB,CAAO,EACxBvQ,EAAM,IAAI,KAAKwQ,CAAQ,EACvB8hB,EAAW,KAAK,IAAItyB,EAAI,UAAYqyB,EAAM,SAAS,EAEzD,OADiB,KAAK,KAAKC,GAAY,IAAO,GAAK,GAAK,GAAG,CAE7D,CAEA,qBAAqBC,EAAuBC,EAAgBhhB,EAAwB,CAClF,MAAMihB,EAAaF,EAAgBC,EAC7BE,EAAWlhB,EAAS,GAAKA,EAAS,GAAK,GAAKghB,EAAS,EACrDG,EAAaF,EAAa,GAChC,OAAOA,EAAaC,EAAWC,CACjC,CAEA,oBAAoBC,EAA6B,CAC/C,OAAOA,EAAc,GACvB,CACF,CAEO,MAAMC,GAAiB,IAAIb,GC9V5Bc,GAA0C,CAAC,CAC/C,aAAcC,EACd,kBAAAC,EACA,SAAAC,EACA,UAAAliB,EAAY,EACd,IAAM,CACJ,KAAM,CACJ,YAAAsX,EACA,aAAAG,EACA,aAAAD,EAGA,OAAA/C,EAGA,gBAAA0N,EACA,gBAAAC,EAEA,SAAAC,EACA,aAAAC,EACA,oBAAAC,EACA,WAAAhhB,EACA,aAAAihB,CAAA,EACEtL,GAAA,EAEE,CAAE,kBAAA3G,EAAmB,WAAAC,CAAA,EAAetR,GAAA,EACpC,CAAE,cAAAkR,CAAA,EAAkBV,GAAA,EACpB,CAAE,KAAAyI,EAAM,gBAAAsK,CAAA,EAAoB7J,GAAA,EAKlC3gB,YAAU,IAAM,CACV+pB,GAAoB,CAACxK,GACvB4K,EAAgBJ,CAAgB,CAEpC,EAAG,CAACA,EAAkBxK,EAAc4K,CAAe,CAAC,EAEpD,MAAMM,EAAmF,CACvF,CAAE,GAAI,iBAAkB,MAAO,iBAAkB,YAAa,mBAAoB,KAAMngB,EAAA,EACxF,CAAE,GAAI,gBAAiB,MAAO,gBAAiB,YAAa,0BAA2B,KAAMogB,EAAA,EAC7F,CAAE,GAAI,UAAW,MAAO,oBAAqB,YAAa,mBAAoB,KAAM9L,EAAA,CAAW,EAG3FzF,EAAc,CAACC,EAAeC,EAAmB,QAC9C,IAAI,KAAK,aAAa,QAAS,CACpC,MAAO,WACP,SAAAA,CAAA,CACD,EAAE,OAAOD,CAAK,EAyBXG,EAAcjB,EAAkB,SAAWA,EAAkB,SAC/D,KAAK,MAAM,IAAI,KAAKA,EAAkB,QAAQ,EAAE,UAAY,IAAI,KAAKA,EAAkB,OAAO,EAAE,YAAc,IAAO,GAAK,GAAK,GAAG,EAClI,EAEEsR,EAAcrK,EAAeA,EAAa,MAAQhG,EAAc,EAchEoR,EAAiB,IAAM,CACvBL,KACFF,EAAA,CAEJ,EAEMQ,EAAqB,IAAM,CAC/BP,EAAA,CACF,EAGMpiB,EAAWC,GAAA,EAEX2iB,EAAwB,SAAY,CACxC,GAAKP,IAIL,IAAI,CAAC/K,GAAgB,CAACpH,EAAe,CACnC7a,EAAO,MAAM,6CAA8C,CACzD,UAAW,cACX,OAAQ,wBACR,gBAAiB,CAAC,CAACiiB,EACnB,iBAAkB,CAAC,CAACpH,EACpB,WAAY,kBACb,EACD,MACF,CAEA7O,EAAW,EAAI,EACf,GAAI,CAEF,MAAMkgB,EAASjQ,EACTuR,EAAWvL,EAAa,MACxBwL,EAAQD,EAAWtB,EAAS,IAE5BI,EAAekB,EAAWtB,EAAUuB,EAD7B,GAIPC,EAAc,CAClB,QAAS7S,EAAc,GACvB,UAAWA,EAAc,KACzB,WAAYA,EAAc,SAAS,CAAC,GAAG,KAAO,GAC9C,SAAUoH,EAAa,MAAQA,EAAa,MAAQ,gBACpD,OAAQA,EAAa,GACrB,QAASjH,EAAkB,SAAW,IAAI,OAAO,cAAc,MAAM,GAAG,EAAE,CAAC,EAC3E,SAAUA,EAAkB,UAAY,IAAI,KAAK,KAAK,MAAQ,KAAQ,EAAE,cAAc,MAAM,GAAG,EAAE,CAAC,EAClG,OAAAkR,EACA,OAAQ,CACN,OAAQjR,EAAW,OACnB,SAAUA,EAAW,UAEvB,UAAW,CACT,UAAWiH,EAAa,WAAcgL,GAAmBtK,GAAM,WAAc,QAC7E,SAAUV,EAAa,UAAagL,GAAmBtK,GAAM,UAAa,OAC1E,MAAOV,EAAa,OAAUgL,GAAmBtK,GAAM,OAAU,oBACjE,MAAOV,EAAa,OAAS,YAE/B,gBAAiBA,EAAa,gBAC9B,YAAAoK,EACA,SAAUrK,EAAa,UAAY,MACnC,OAAQiL,EAAkBtK,GAAM,GAAK,QAIjCgJ,EAAU,MAAMW,GAAe,cAAcmB,CAAW,EAI9D,aAAa,QAAQ,cAAe,KAAK,UAAU9B,CAAO,CAAC,EAC3D,aAAa,QAAQ,gBAAiBA,EAAQ,EAAE,EAEhD5rB,EAAO,KAAK,+BAAgC,CAC1C,UAAW,cACX,OAAQ,wBACR,UAAW4rB,EAAQ,GACnB,mBAAoBA,EAAQ,mBAC5B,QAAS/Q,EAAc,GACvB,YAAAyR,EACA,gBAAAY,EACA,OAAQtK,GAAM,GACd,WAAY,oBACb,EAEDqK,EAAA,EAGIP,EACFA,EAAkBd,EAAQ,oBAAsBA,EAAQ,EAAE,EAG1DjhB,EAAS,iBAAiBihB,EAAQ,oBAAsBA,EAAQ,EAAE,GAAI,CACpE,MAAO,CACL,QAAAA,EACA,cAAe,CACb,GAAIA,EAAQ,oBAAsBA,EAAQ,GAC1C,OAAQ,YACR,OAAQU,EAAc,IACtB,SAAUrK,EAAa,UAAY,MACrC,CACF,CACD,CAEL,OAASxlC,EAAO,CACdujB,EAAO,MAAM,0BAA2B,CACtC,UAAW,cACX,OAAQ,wBACR,QAAS6a,GAAe,GACxB,OAAQoH,GAAc,GACtB,WAAYC,EAAa,MACzB,gBAAAgL,EACA,OAAQtK,GAAM,GACd,MAAOnmC,aAAiB,MAAQA,EAAM,QAAU,gBAChD,WAAY,iBACb,CAEH,SACEuvB,EAAW,EAAK,CAClB,EACF,EAEM2hB,EAAsB,IAAM,CAChC,MAAM3L,EAAemL,EAAM,UAAW7wB,GAAMA,EAAE,KAAOylB,CAAW,EAEhE,OACEj+B,MAAC,OAAI,UAAU,yCACZ,WAAM,IAAI,CAAC89B,EAAMxgC,IAAU,CAC1B,MAAMlK,EAAW0qC,EAAK,KAAOG,EACvB6L,EAAc5L,EAAe5gC,EAC7BysC,EAAgBjM,EAAK,KAE3B,OACEhV,OAAC,OAAkB,UAAU,oBAC3B,UAAA9oB,MAAC,OAAI,UAAWs1B,EACd,+FACAliC,EACI,mEACA02C,EACE,2CACA,0CAEL,SAAAA,EACC9pC,MAACi5B,GAAA,CAAM,UAAU,UAAU,EAE3Bj5B,MAAC+pC,EAAA,CAAc,UAAU,UAAU,EAEvC,EAEAjhB,OAAC,OAAI,UAAU,uBACb,UAAA9oB,MAAC,OAAI,UAAWs1B,EACd,wCACAliC,EAAW,mBAAqB,iCAE/B,WAAK,MACR,EACA4M,MAAC,OAAI,UAAU,2CAA4C,WAAK,YAAY,GAC9E,EAEC1C,EAAQ+rC,EAAM,OAAS,GACtBrpC,MAAC,OAAI,UAAWs1B,EACd,yDACAwU,EAAc,eAAiB,+BACjC,CAAG,IA9BGhM,EAAK,EAgCf,CAEJ,CAAC,EACH,CAEJ,EAEMkM,EAA0B,IAAM,CAuDpC,MAAMC,GArDW,IAAc,CAE7B,GAAIlT,GAAiB,UAAWA,GAAiB,MAAM,QAAQA,EAAc,KAAK,EAChF,OAAOA,EAAc,MAIvB,GAAI,CAACA,GAAiB,CAACA,EAAc,WACnC,MAAO,GAGT,MAAMmT,EAAYnT,EAAc,WAAW,YAAc,IACzD,MAAO,CACL,CACE,GAAI,GAAGA,EAAc,EAAE,UACvB,KAAM,gBACN,KAAM,WACN,SAAU,EACV,MAAO,KAAK,MAAMmT,EAAY,EAAG,EACjC,SAAUnT,EAAc,WAAW,UAAY,MAC/C,UAAW,CAAC,YAAa,mBAAoB,IAAI,EACjD,OAAQ,CAACA,EAAc,OAAO,CAAC,GAAG,KAAO,uBAAuB,EAChE,aAAc,GACd,YAAa,sEAEf,CACE,GAAI,GAAGA,EAAc,EAAE,UACvB,KAAM,cACN,KAAM,SACN,SAAU,EACV,MAAO,KAAK,MAAMmT,CAAS,EAC3B,SAAUnT,EAAc,WAAW,UAAY,MAC/C,UAAW,CAAC,YAAa,mBAAoB,KAAM,WAAY,WAAW,EAC1E,OAAQ,CAACA,EAAc,OAAO,CAAC,GAAG,KAAO,uBAAuB,EAChE,aAAc,GACd,YAAa,kEAEf,CACE,GAAI,GAAGA,EAAc,EAAE,UACvB,KAAM,QACN,KAAM,QACN,SAAU,EACV,MAAO,KAAK,MAAMmT,EAAY,GAAG,EACjC,SAAUnT,EAAc,WAAW,UAAY,MAC/C,UAAW,CAAC,YAAa,mBAAoB,KAAM,WAAY,aAAc,cAAe,SAAS,EACrG,OAAQ,CAACA,EAAc,OAAO,CAAC,GAAG,KAAO,uBAAuB,EAChE,aAAc,GACd,YAAa,yFACf,CAEJ,GAGuB,EAEvB,OACAjO,OAAC,OAAI,UAAU,YACb,UAAA9oB,MAAC,MAAG,UAAU,2DACX,SAAAm+B,EAAe,gBAAkB,mBACpC,EAECA,QACEpI,GAAA,CAAK,UAAU,MACd,SAAAjN,OAAC,OAAI,UAAU,kCACb,UAAA9oB,MAAC,OAAI,UAAU,WACb,SAAAA,MAAC,OACC,IAAKm+B,EAAa,OAAO,CAAC,GAAK,wBAC/B,IAAKA,EAAa,KAClB,UAAU,sCACV,QAAU7sC,GAAM,CACbA,EAAE,OAA4B,IAAM,uBACvC,IAEJ,EAEAw3B,OAAC,OAAI,UAAU,WACb,UAAA9oB,MAAC,MAAG,UAAU,2DACX,SAAAm+B,EAAa,KAChB,EACAn+B,MAAC,KAAE,UAAU,wCACV,WAAa,YAChB,EAEA8oB,OAAC,OAAI,UAAU,wEACb,UAAAA,OAAC,QAAK,wBAAYqV,EAAa,SAAS,WAAO,SAC9C,QAAK,qBAASA,EAAa,MAAK,GACnC,EAEAn+B,MAAC,OAAI,UAAU,4BACZ,WAAa,UAAU,IAAI,CAACm5B,EAAS77B,IACpC0C,MAAC,QAEC,UAAU,8GAET,SAAAm5B,CAAA,EAHI77B,CAAA,CAKR,EACH,EAEAwrB,OAAC,OAAI,UAAU,uFACb,UAAAA,OAAC,OACC,UAAA9oB,MAAC,OAAI,UAAU,sCACZ,SAAA+3B,EAAYoG,EAAa,MAAOA,EAAa,QAAQ,EACxD,EACAn+B,MAAC,OAAI,UAAU,2CAA2C,qBAAS,GACrE,EAEA8oB,OAAC,OAAI,UAAU,aACb,UAAAA,OAAC,OAAI,UAAU,sDAAsD,oBAC3DiP,EAAYyQ,EAAarK,EAAa,QAAQ,GACxD,EACArV,OAAC,OAAI,UAAU,2CACZ,UAAAqP,EAAY,SAAOA,EAAc,EAAI,IAAM,IAC9C,GACF,GACF,EAEAn4B,MAAC,OAAI,UAAU,0DACb,SAAAA,MAACy1B,GAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMsT,EAAgB,IAAI,EACnC,UAAU,0CACX,wBAED,CACF,GACF,GACF,EACF,EAEA/oC,MAAC,OAAI,UAAU,YACZ,SAAAiqC,EAAe,OAAS,EACvBA,EAAe,IAAK/Q,GAClBl5B,MAAC+1B,GAAA,CAAmB,UAAU,uDAAuD,QAAS,IAAMgT,EAAgB7P,CAAI,EACtH,SAAApQ,OAAC,OAAI,UAAU,kCACb,UAAA9oB,MAAC,OAAI,UAAU,WACb,SAAAA,MAAC,OACC,IAAKk5B,EAAK,SAAS,CAAC,GAAK,wBACzB,IAAKA,EAAK,KACV,UAAU,sCACV,QAAU5nC,GAAM,CACbA,EAAE,OAA4B,IAAM,uBACvC,IAEJ,EACAw3B,OAAC,OAAI,UAAU,WACb,UAAA9oB,MAAC,MAAG,UAAU,2DACX,SAAAk5B,EAAK,KACR,EACAl5B,MAAC,KAAE,UAAU,wCACV,WAAK,YACR,EACA8oB,OAAC,OAAI,UAAU,wEACb,UAAAA,OAAC,QAAK,sBAAUoQ,EAAK,SAAS,WAAO,SACpC,QAAK,iBAAKA,EAAK,MAAK,GACvB,EACAl5B,MAAC,OAAI,UAAU,4BACZ,SAAAk5B,EAAK,WAAW,MAAM,EAAG,CAAC,EAAE,IAAI,CAACC,EAAS77B,IACzC0C,MAAC,QAEC,UAAU,8GAET,SAAAm5B,CAAA,EAHI77B,CAAA,CAKR,EACH,EACAwrB,OAAC,OAAI,UAAU,oCACb,UAAAA,OAAC,OACC,UAAA9oB,MAAC,OAAI,UAAU,sCACZ,SAAA+3B,EAAYmB,EAAK,MAAOA,EAAK,QAAQ,EACxC,EACAl5B,MAAC,OAAI,UAAU,2CAA2C,qBAAS,GACrE,EACAA,MAACy1B,GAAA,CACC,QAAUnkC,GAAM,CACdA,EAAE,kBACFy3C,EAAgB7P,CAAI,CACtB,EACA,UAAU,gBACX,wBAED,EACF,GACF,GACF,GAnDSA,EAAK,EAoDhB,CACD,EAEDpQ,OAACiN,GAAA,CAAK,UAAU,kBACd,UAAA/1B,MAAC,OAAI,UAAU,oGACb,eAACkpB,GAAA,CAAS,UAAU,wBAAwB,EAC9C,EACAlpB,MAAC,KAAE,UAAU,mCAAmC,sDAA0C,GAC5F,EAEJ,GAEJ,CAEF,EAEMmqC,EAAyB,IAC7BrhB,OAAC,OAAI,UAAU,YACb,UAAA9oB,MAAC,MAAG,UAAU,2DAA2D,6BAAiB,EAE1F8oB,OAACiN,GAAA,CAAK,UAAU,MACd,UAAA/1B,MAAC,MAAG,UAAU,yDAAyD,sBAAU,EAEjF8oB,OAAC,OAAI,UAAU,wCACb,UAAAA,OAAC,OACC,UAAA9oB,MAAC,SAAM,UAAU,kEAAkE,wBAEnF,EACAA,MAAC65B,GAAA,CACC,GAAG,mBACH,KAAK,YACL,aAAa,aACb,MAAOuE,EAAa,UACpB,SAAW9sC,GAAMw3C,EAAgB,CAAE,UAAWx3C,EAAE,OAAO,MAAO,EAC9D,MAAO8pC,EAAO,UACd,YAAY,mBACZ,SAAQ,IACV,EACF,SAEC,OACC,UAAAp7B,MAAC,SAAM,UAAU,kEAAkE,uBAEnF,EACAA,MAAC65B,GAAA,CACC,GAAG,kBACH,KAAK,WACL,aAAa,cACb,MAAOuE,EAAa,SACpB,SAAW9sC,GAAMw3C,EAAgB,CAAE,SAAUx3C,EAAE,OAAO,MAAO,EAC7D,MAAO8pC,EAAO,SACd,YAAY,kBACZ,SAAQ,IACV,EACF,SAEC,OACC,UAAAp7B,MAAC,SAAM,UAAU,kEAAkE,mBAEnF,EACAA,MAAC65B,GAAA,CACC,GAAG,cACH,KAAK,QACL,KAAK,QACL,aAAa,QACb,MAAOuE,EAAa,MACpB,SAAW9sC,GAAMw3C,EAAgB,CAAE,MAAOx3C,EAAE,OAAO,MAAO,EAC1D,MAAO8pC,EAAO,MACd,YAAY,sBACZ,SAAQ,IACV,EACF,SAEC,OACC,UAAAp7B,MAAC,SAAM,UAAU,kEAAkE,mBAEnF,EACAA,MAAC65B,GAAA,CACC,GAAG,cACH,KAAK,QACL,KAAK,MACL,aAAa,MACb,MAAOuE,EAAa,MACpB,SAAW9sC,GAAMw3C,EAAgB,CAAE,MAAOx3C,EAAE,OAAO,MAAO,EAC1D,MAAO8pC,EAAO,MACd,YAAY,qBACZ,SAAQ,IACV,EACF,GACF,EAEAtS,OAAC,OAAI,UAAU,OACb,UAAA9oB,MAAC,SAAM,UAAU,kEAAkE,uCAEnF,EACAA,MAAC,YACC,MAAOo+B,EAAa,gBACpB,SAAW9sC,GAAMw3C,EAAgB,CAAE,gBAAiBx3C,EAAE,OAAO,MAAO,EACpE,KAAM,EACN,UAAU,+LACV,YAAY,yCAEd0O,MAAC,KAAE,UAAU,gDAAgD,0FAE7D,GACF,GACF,GACF,EAIIoqC,EAAuB,MAAOC,GAA8D,CAChGnuB,EAAO,KAAK,iCAAkC,CAC5C,UAAW,cACX,OAAQ,uBACR,UAAWmuB,EAAc,UACzB,cAAe,CAAC,CAACA,EAAc,WAC/B,QAAStT,GAAe,GACxB,OAAQoH,GAAc,GACvB,EAED,MAAMsL,EAAA,CACR,EAEMa,EAAsB3xC,GAAiB,CAC3CujB,EAAO,MAAM,4BAA6B,CACxC,UAAW,cACX,OAAQ,qBACR,QAAS6a,GAAe,GACxB,OAAQoH,GAAc,GACtB,MAAOxlC,EAAM,QACb,WAAY,kBACb,EACD,MAAM,mBAAmBA,EAAM,OAAO,qBAAqB,CAC7D,EAEM4xC,GAAoB,IAEpB,CAACpM,GAAgB,CAACpH,GAAiB,CAACqH,EAAa,MAEjDtV,OAAC,OAAI,UAAU,mBACb,UAAA9oB,MAACy9B,GAAA,CAAY,UAAU,sCAAsC,EAC7Dz9B,MAAC,KAAE,UAAU,gBAAgB,qFAAyE,GACxG,EAKF8oB,OAAC,OAAI,UAAU,YACb,UAAA9oB,MAAC,MAAG,UAAU,2DAA2D,iCAAqB,EAG9F8oB,OAACiN,GAAA,CAAK,UAAU,kCACd,UAAA/1B,MAAC,MAAG,UAAU,6BAA6B,2BAAe,EAC1D8oB,OAAC,OAAI,UAAU,oBACb,UAAAA,OAAC,OAAI,UAAU,uBACb,UAAA9oB,MAAC,QAAK,UAAU,gBAAgB,kBAAM,EACtCA,MAAC,QAAK,UAAU,cAAe,WAAc,KAAK,GACpD,EACA8oB,OAAC,OAAI,UAAU,uBACb,UAAA9oB,MAAC,QAAK,UAAU,gBAAgB,iBAAK,EACrCA,MAAC,QAAK,UAAU,cAAe,WAAa,KAAK,GACnD,EACA8oB,OAAC,OAAI,UAAU,uBACb,UAAA9oB,MAAC,QAAK,UAAU,gBAAgB,qBAAS,EACzCA,MAAC,QAAK,UAAU,cAAe,WAAkB,QAAQ,GAC3D,EACA8oB,OAAC,OAAI,UAAU,uBACb,UAAA9oB,MAAC,QAAK,UAAU,gBAAgB,sBAAU,EAC1CA,MAAC,QAAK,UAAU,cAAe,WAAkB,SAAS,GAC5D,EACA8oB,OAAC,OAAI,UAAU,uBACb,UAAA9oB,MAAC,QAAK,UAAU,gBAAgB,kBAAM,EACtC8oB,OAAC,QAAK,UAAU,cAAe,UAAAsV,EAAa,UAAU,IAAEA,EAAa,UAAS,GAChF,EACAtV,OAAC,OAAI,UAAU,qBACb,UAAAA,OAAC,OAAI,UAAU,6CACb,UAAA9oB,MAAC,QAAK,yBAAa,EACnBA,MAAC,QAAK,UAAU,mBAAoB,WAAYwoC,EAAarK,EAAa,UAAY,KAAK,EAAE,GAC/F,EACAn+B,MAAC,KAAE,UAAU,6BAA6B,mCAAuB,GACnE,GACF,GACF,EAGAA,MAACu7B,GAAA,CACC,UAAW,WAAW,KAAK,KAAK,GAChC,OAAQiN,EACR,SAAUrK,EAAa,UAAY,MACnC,UAAWiM,EACX,QAASE,EACT,eAAgB,CACd,UAAWvT,EAAc,KACzB,QAASG,EAAkB,SAAW,GACtC,SAAUA,EAAkB,UAAY,GACxC,OAAQC,EAAW,OAASA,EAAW,SACzC,EACF,EACF,EAIEqT,GAAoB,IAAM,CAC9B,OAAQvM,EAAA,CACN,IAAK,iBACH,OAAO+L,EAAA,EACT,IAAK,gBACH,OAAOG,EAAA,EACT,IAAK,UACH,OAAOI,GAAA,EACT,QACE,OAAO,KAEb,EAEA,OACEvqC,MAAC,OAAI,UAAWs1B,EAAG,oBAAqB3O,CAAS,EAC/C,SAAAmC,OAACiN,GAAA,CAAK,UAAU,MACb,UAAA8T,EAAA,EAED7pC,MAAC,OAAI,UAAU,gBACZ,cACH,EAGA8oB,OAAC,OAAI,UAAU,4FACb,UAAA9oB,MAAC,OACE,aAAgB,kBACf8oB,OAAC2M,GAAA,CACC,QAAS+T,EACT,QAAQ,UACR,UAAU,0BAEV,UAAAxpC,MAAC04B,GAAA,CAAY,UAAU,UAAU,EAAE,cAIzC,EAEA5P,OAAC,OAAI,UAAU,aACZ,UAAA+f,GACC7oC,MAACy1B,GAAA,CACC,QAAS,IAAM,CACb0T,EAAA,EACAN,EAAA,CACF,EACA,QAAQ,UACT,oBAKF5K,IAAgB,WACfnV,OAAC2M,GAAA,CACC,QAAS8T,EACT,UAAU,+BACV,KAAK,KACN,qBAECvpC,MAAC8qB,GAAA,CAAa,UAAU,UAAU,IACpC,EAEJ,GACF,GACF,EACF,CAEJ,0HCpuBO,SAAS2f,IAAc,CAC5B,OACEzqC,MAAC,OAAI,UAAU,2CACb,SAAAA,MAAC,OAAI,UAAU,8BACb,SAAAA,MAAC0oC,GAAA,EAAY,EACf,EACF,CAEJ,CCaA,MAAMgC,GAAqD,CAAC,CAC1D,MAAA/xC,EACA,WAAAgyC,EACA,UAAAC,CACF,IAAM,CAGJ,MAAMC,EAAoB,IAAM,CAIpBlyC,EAAM,KACHA,EAAM,QACRA,EAAM,MAGJ,IAAI,OAAO,aAyB1B,EAEA,aACG,OAAI,UAAU,gFACb,SAAAqH,MAAC+1B,GAAA,CAAK,UAAU,mCACd,SAAAjN,OAAC,OAAI,UAAU,uCAEb,UAAA9oB,MAAC,OAAI,UAAU,wFACb,eAAC8qC,GAAA,CAAc,UAAU,yCAAyC,EACpE,EAGAhiB,OAAC,OAAI,UAAU,YACb,gBAAC,MAAG,UAAU,mDAAmD,sCAEjE,QACC,KAAE,UAAU,4CAA4C,oGAEzD,GACF,EAGC,GAyBDA,OAAC,OAAI,UAAU,kDACb,UAAAA,OAAC2M,GAAA,CACC,QAASkV,EACT,UAAU,0BACV,KAAK,KAEL,UAAA3qC,MAAC+qC,GAAA,CAAU,UAAU,UAAU,EAAE,eAGnCjiB,OAAC2M,GAAA,CACC,QAAS,IAAM,OAAO,SAAS,KAAO,IACtC,QAAQ,UACR,UAAU,0BACV,KAAK,KAEL,UAAAz1B,MAACgrC,GAAA,CAAK,UAAU,UAAU,EAAE,YAE9B,EACF,EAGAhrC,MAACy1B,GAAA,CACC,QAASoV,EACT,QAAQ,QACR,KAAK,KACL,UAAU,gFACX,8BAED,EACF,EACF,EACF,CAEJ,EAEO,MAAMI,WAAsB1sB,EAAM,SAAkD,CACzF,YAAY9a,EAA2B,CACrC,MAAMA,CAAK,EACX,KAAK,MAAQ,CACX,SAAU,GACV,MAAO,KACP,UAAW,KAEf,CAEA,OAAO,yBAAyB9K,EAA2C,CACzE,MAAO,CACL,SAAU,GACV,MAAAA,CAAA,CAEJ,CAEA,kBAAkBA,EAAciyC,EAA4B,CAC1D,KAAK,SAAS,CACZ,MAAAjyC,EACA,UAAAiyC,CAAA,CACD,EAGG,KAAK,MAAM,SACb,KAAK,MAAM,QAAQjyC,EAAOiyC,CAAS,CAkBvC,CAEA,WAAa,IAAM,CACjB,KAAK,SAAS,CACZ,SAAU,GACV,MAAO,KACP,UAAW,KACZ,CACH,EAEA,QAAS,CACP,GAAI,KAAK,MAAM,UAAY,KAAK,MAAM,MAAO,CAC3C,MAAMM,EAAoB,KAAK,MAAM,UAAYR,GAEjD,OACE1qC,MAACkrC,EAAA,CACC,MAAO,KAAK,MAAM,MAClB,WAAY,KAAK,WACjB,UAAW,KAAK,MAAM,WAG5B,CAEA,OAAO,KAAK,MAAM,QACpB,CACF,CCiFO,MAAMC,GAA2B,IAAM,CAE5C,OAAO,iBAAiB,qBAAuB5uC,GAAU,CACvD,QAAQ,MAAM,+BAAgCA,EAAM,MAAM,EAE1DkqC,GAAM,MAAM,mBAAoB,CAC9B,YAAa,6EACb,SAAU,IACX,EAGDlqC,EAAM,gBACR,CAAC,EAGD,OAAO,iBAAiB,QAAUA,GAAU,CAC1C,QAAQ,MAAM,gBAAiBA,EAAM,KAAK,EAE1CkqC,GAAM,MAAM,oBAAqB,CAC/B,YAAa,uDACb,SAAU,IACX,CACH,CAAC,CACH,0kCCrSa2E,GAAgD,CAAC,CAC5D,KAAAxV,EAAO,KACP,QAAAD,EAAU,UACV,UAAAhP,CACF,IAAM,CACJ,MAAM0kB,EAAc,CAClB,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,aAGN,OAAI1V,IAAY,OAEZ31B,MAAC,OAAI,UAAWs1B,EAAG,iBAAkB3O,CAAS,EAC3C,UAAC,EAAG,EAAG,CAAC,EAAE,IAAKjyB,GACdsL,MAAC,OAEC,UAAWs1B,EACT,6CACAM,IAAS,KAAO,UAAYA,IAAS,KAAO,UAAYA,IAAS,KAAO,UAAY,WAEtF,MAAO,CACL,eAAgB,GAAGlhC,EAAI,EAAG,IAC5B,EAPKA,CAAA,CASR,EACH,EAIAihC,IAAY,QAEZ31B,MAAC,OACC,UAAWs1B,EACT,4CACA+V,EAAYzV,CAAI,EAChBjP,CAAA,CACF,GAKFgP,IAAY,SAEZ31B,MAAC,OACC,UAAWs1B,EACT,6CACA+V,EAAYzV,CAAI,EAChBjP,CAAA,CACF,GAMJ3mB,MAACm9B,GAAA,CACC,UAAW7H,EACT,gCACA+V,EAAYzV,CAAI,EAChBjP,CAAA,CACF,EAGN,ECjEO,SAAS2kB,GACdC,EACA73C,EAA2B,GAC3B,CACA,MAAM83C,EAAgBC,OAAKF,CAAQ,EAGnC,OAAI73C,EAAQ,SAEV,WAAW,IAAM,CACf63C,EAAA,EAAW,MAAO5yC,GAAU,CAC1BujB,EAAO,KAAK,2BAA4B,CACtC,UAAW,aACX,MAAOvjB,EAAM,QACd,CACH,CAAC,CACH,EAAG,GAAG,EAGkB8K,GACxBzD,MAAC0rC,WAAA,CACC,SACEh4C,EAAQ,SACNsM,MAACtM,EAAQ,SAAR,EAAiB,EAElBo1B,OAAC,OAAI,UAAU,iDACb,UAAA9oB,MAACorC,GAAA,CAAe,KAAK,KAAK,EACzB13C,EAAQ,gBACPsM,MAAC,KAAE,UAAU,6BAA8B,WAAQ,eAAe,GAEtE,EAIJ,SAAAA,MAACwrC,EAAA,CAAe,GAAG/nC,CAAA,CAAO,GAKhC,CA0DO,MAAMkoC,GAA4B,IAAM,CAC7C,MAAMC,EAAkB,CACtB,IAAAC,GAAA,IAAM,OAAO,6BAAoC,8BACjD,IAAAA,GAAA,IAAM,2BAAAC,EAAA,EAA0C,QAChD,IAAAD,GAAA,IAAM,2BAAAE,EAAA,EAAgD,SAGxD7vB,EAAO,KAAK,iCAAkC,CAC5C,UAAW,aACX,MAAO0vB,EAAgB,OACxB,EAEDA,EAAgB,QAAQ,CAACL,EAAUjuC,IAAU,CAE3C,WAAW,IAAM,CACfiuC,EAAA,EAAW,MAAO5yC,GAAU,CAC1BujB,EAAO,KAAK,oCAAqC,CAC/C,UAAW,aACX,MAAA5e,EACA,MAAO3E,EAAM,QACd,CACH,CAAC,CACH,EAAG2E,EAAQ,EAAE,CACf,CAAC,CACH,EAKa0uC,GAAkB,CAC7BT,EACAU,IAEOX,GAAoBC,EAAU,CACnC,eAAgB,WAAWU,CAAS,MACpC,QAAS,GACV,ECtJUC,GAAeF,GAC1B,WAAM,OAAO,wBAAmB,8BAAE,SAAW,CAAE,QAASl7C,EAAE,UAAW,EACrE,MACF,EAEaq7C,GAAwBH,GACnC,WAAM,OAAO,iCAA4B,gCAAE,SAAW,CAAE,QAASl7C,EAAE,mBAAoB,EACvF,gBACF,EAEas7C,GAAkBJ,GAC7B,WAAM,OAAO,2BAAsB,8BAAE,SAAW,CAAE,QAASl7C,EAAE,aAAc,EAC3E,SACF,EAEau7C,GAA8BL,GACzC,WAAM,OAAO,uCAAkC,8BAAE,SAAW,CAAE,QAASl7C,EAAE,yBAA0B,EACnG,sBACF,EAEaw7C,GAAgBN,GAC3B,WAAM,OAAO,yBAAoB,+BAAE,SAAW,CAAE,QAASl7C,EAAE,WAAY,EACvE,WACF,EAEay7C,GAAuBP,GAClC,WAAM,OAAO,gCAA2B,6BAAE,SAAW,CAAE,QAASl7C,EAAE,kBAAmB,EACrF,cACF,EAEa07C,GAAsBR,GACjC,WAAM,OAAO,+BAA0B,6BAAE,SAAW,CAAE,QAASl7C,EAAE,SAAU,EAC3E,aACF,EAEa27C,GAAkBT,GAC7B,WAAM,OAAO,2BAAsB,6BAAE,SAAW,CAAE,QAASl7C,EAAE,SAAU,EACvE,SACF,EAEa47C,GAAyBV,GACpC,IAAAH,GAAA,IAAM,OAAO,kCAA6B,gCAC1C,aACF,EAEac,GAAsBX,GACjC,IAAAH,GAAA,IAAM,OAAO,+BAA0B,gCACvC,YACF,EAGkCG,GAChC,WAAM,OAAO,8BAAqC,+BAClD,iBACF,EAEwCA,GACtC,WAAM,OAAO,oCAA2C,iCACxD,YACF,ECzCA,SAASY,IAAM,CACbhuB,mBAAU,IAAM,CAEdusB,GAAA,EAGA,MAAMt6B,EAAQ,WAAW,IAAM,CAC7B86B,GAAA,CACF,EAAG,GAAI,EAEP,MAAO,IAAM,aAAa96B,CAAK,CACjC,EAAG,EAAE,EAGH7Q,MAACirC,GAAA,CACC,SAAAniB,OAACoW,GAAA,CACC,UAAAl/B,MAACirB,GAAA,CACC,gBAAC4hB,GAAA,CACC,UAAA7sC,MAAC8sC,IAAM,KAAK,IAAI,QAAS9sC,MAACksC,KAAa,EAAI,QAC1CY,GAAA,CAAM,KAAK,UAAU,QAAS9sC,MAACmsC,KAAsB,EAAI,QACzDW,GAAA,CAAM,KAAK,gBAAgB,QAAS9sC,MAACusC,KAAqB,EAAI,QAC9DO,GAAA,CAAM,KAAK,SAAS,QAAS9sC,MAACssC,KAAc,EAAI,QAChDQ,GAAA,CAAM,KAAK,eAAe,QAAS9sC,MAACwsC,KAAoB,EAAI,QAC5DM,GAAA,CAAM,KAAK,WAAW,QAAS9sC,MAACysC,KAAgB,EAAI,QACpDK,GAAA,CAAM,KAAK,aAAa,QAAS9sC,MAAC05B,KAAiB,EAAI,QACvDoT,GAAA,CAAM,KAAK,WAAW,QAAS9sC,MAACyqC,KAAY,EAAI,QAChDqC,GAAA,CAAM,KAAK,WAAW,QAAS9sC,MAACosC,KAAgB,EAAI,QACpDU,GAAA,CAAM,KAAK,2BAA2B,QAAS9sC,MAACqsC,KAA4B,EAAI,QAChFS,GAAA,CAAM,KAAK,eAAe,QAAS9sC,MAAC0sC,KAAuB,EAAI,QAC/DI,GAAA,CAAM,KAAK,WAAW,QAAS9sC,MAAC2sC,KAAoB,EAAI,GAC3D,EACF,EACA3sC,MAAC+sC,GAAA,CACC,SAAS,YACT,OAAQ,GACR,WAAY,GACZ,aAAc,CACZ,SAAU,IACV,MAAO,CACL,WAAY,yBACZ,MAAO,yBACP,OAAQ,+BACV,CACF,EACF,EACF,EACF,CAEJ,CC5CA,MAAMC,EAAiB,CACrB,OAAe,SACP,UACA,OACA,UAAqB,GACrB,WAA+B,GAC/B,mBAA0C,GAElD,aAAc,CACZ,KAAK,UAAY,KAAK,oBACtB,KAAK,gCACL,KAAK,wBACP,CAEA,OAAO,aAAgC,CACrC,OAAKA,GAAiB,WACpBA,GAAiB,SAAW,IAAIA,IAE3BA,GAAiB,QAC1B,CAEQ,mBAA4B,CAClC,MAAO,WAAW,KAAK,KAAK,IAAI,KAAK,SAAS,SAAS,EAAE,EAAE,OAAO,EAAG,CAAC,CAAC,EACzE,CAEA,UAAU1G,EAAsB,CAC9B,KAAK,OAASA,EACd,KAAK,MAAM,kBAAmB,CAAE,OAAAA,CAAA,CAAQ,CAC1C,CAKA,MAAM2G,EAAmBC,EAAkC,GAAU,CACnE,GAAI,CAAC,KAAK,UAAW,OAErB,MAAM3wC,EAAwB,CAC5B,KAAM0wC,EACN,WAAY,CACV,GAAGC,EACH,IAAK,OAAO,SAAS,KACrB,SAAU,SAAS,SACnB,UAAW,UAAU,UACrB,SAAU,CACR,MAAO,OAAO,WACd,OAAQ,OAAO,YACjB,EAEF,UAAW,KAAK,MAChB,OAAQ,KAAK,OACb,UAAW,KAAK,WAGlB,KAAK,WAAW,KAAK3wC,CAAK,EAE1B2f,EAAO,MAAM,0BAA2B,CACtC,UAAW,YACX,MAAO+wB,EACP,WAAY,OAAO,KAAKC,CAAU,EACnC,EAGG,KAAK,gBAAgBD,CAAS,GAChC,KAAK,aAET,CAKA,SAASE,EAAkBC,EAAuC,GAAU,CAC1E,KAAK,MAAM,YAAa,CACtB,KAAMD,EACN,MAAO,SAAS,MAChB,GAAGC,CAAA,CACJ,CACH,CAKA,WAAW7wC,EAA8B,CACvC,KAAK,MAAM,mBAAoB,CAC7B,KAAMA,EAAM,KACZ,OAAQA,EAAM,OACd,MAAOA,EAAM,MACb,GAAGA,EAAM,SACV,CACH,CAKA,YAAY8wC,EAAoD,CAC9D,MAAMC,EAAuC,CAC3C,GAAGD,EACH,UAAW,KAAK,KAAI,EAGtB,KAAK,mBAAmB,KAAKC,CAAiB,EAE9CpxB,EAAO,MAAM,8BAA+B,CAC1C,UAAW,YACX,OAAQmxB,EAAO,KACf,MAAOA,EAAO,MACd,KAAMA,EAAO,KACd,CACH,CAKA,YAAYE,EAAiB3xC,EAAgB4xC,EAAgC,GAAU,CACrF,KAAK,MAAM,mBAAoB,CAC7B,QAAAD,EACA,OAAA3xC,EACA,GAAG4xC,CAAA,CACJ,CACH,CAKA,MAAMC,EAAmBzQ,EAAsBwQ,EAAgC,GAAU,CACvF,KAAK,MAAM,iBAAkB,CAC3B,UAAAC,EACA,aAAAzQ,EACA,MAAOwQ,EAAS,MAChB,UAAWA,EAAS,UACpB,GAAGA,CAAA,CACJ,CACH,CAKA,SAASE,EAAoBx7C,EAAes7C,EAAgC,GAAU,CACpF,KAAK,MAAM,kBAAmB,CAC5B,OAAQE,EACR,MAAAx7C,EACA,GAAGs7C,CAAA,CACJ,CACH,CAEQ,gBAAgBP,EAA4B,CASlD,MARuB,CACrB,YACA,mBACA,iBACA,oBACA,oBACA,kBAEoB,SAASA,CAAS,CAC1C,CAEQ,+BAAsC,CAExC,cAAe,QAEjB/wB,EAAO,MAAM,kCAAmC,CAAE,UAAW,YAAa,EAI5E,OAAO,iBAAiB,OAAQ,IAAM,CACpC,WAAW,IAAM,CACf,MAAMyxB,EAAW,YAAY,iBAAiB,YAAY,EAAE,CAAC,EAEzDA,GACF,KAAK,YAAY,CACf,KAAM,iBACN,MAAOA,EAAS,aAAeA,EAAS,eACxC,KAAM,KACN,SAAU,CACR,iBAAkBA,EAAS,yBAA2BA,EAAS,2BAC/D,UAAWA,EAAS,cAAgBA,EAAS,aAC/C,CACD,CAEL,EAAG,GAAG,CACR,CAAC,EAGgB,IAAI,oBAAqBC,GAAS,CACjD,UAAWv/B,KAASu/B,EAAK,aACvB,GAAIv/B,EAAM,YAAc,WAAY,CAClC,MAAMw/B,EAAgBx/B,EACtB,KAAK,YAAY,CACf,KAAM,qBACN,MAAOw/B,EAAc,SACrB,KAAM,KACN,SAAU,CACR,SAAUA,EAAc,KACxB,KAAMA,EAAc,aACpB,KAAMA,EAAc,cACtB,CACD,CACH,CAEJ,CAAC,EAEQ,QAAQ,CAAE,WAAY,CAAC,UAAU,EAAG,CAC/C,CAEQ,wBAA+B,CAErC,YAAY,IAAM,CAChB,KAAK,cACL,KAAK,yBACP,EAAG,GAAK,EAGR,OAAO,iBAAiB,eAAgB,IAAM,CAC5C,KAAK,cACL,KAAK,yBACP,CAAC,CACH,CAEQ,aAAoB,CAC1B,GAAI,KAAK,WAAW,SAAW,EAAG,OAElC,MAAMC,EAAS,CAAC,GAAG,KAAK,UAAU,EAClC,KAAK,WAAa,GAWhB,KAAK,uBAAuBA,CAAM,CAEtC,CAEQ,yBAAgC,CACtC,GAAI,KAAK,mBAAmB,SAAW,EAAG,OAE1C,MAAMC,EAAU,CAAC,GAAG,KAAK,kBAAkB,EAC3C,KAAK,mBAAqB,GAE1B7xB,EAAO,KAAK,gCAAiC,CAC3C,UAAW,YACX,MAAO6xB,EAAQ,OACf,YAAa,KAAK,yBAAyBA,CAAO,EACnD,EAIC,KAAK,yBAAyBA,CAAO,CAEzC,CAEQ,yBAAyBA,EAAsC,CACrE,MAAMC,EAAkBD,EAAQ,OAAOj9C,GAAKA,EAAE,KAAK,SAAS,WAAW,CAAC,EACxE,GAAIk9C,EAAgB,SAAW,EAAG,MAAO,GAEzC,MAAM58B,EAAQ48B,EAAgB,OAAO,CAACC,EAAKZ,IAAWY,EAAMZ,EAAO,MAAO,CAAC,EAC3E,OAAO,KAAK,MAAMj8B,EAAQ48B,EAAgB,MAAM,CAClD,CAEQ,uBAAuBF,EAAgC,CAG7D5xB,EAAO,MAAM,sCAAuC,CAClD,UAAW,YACX,MAAO4xB,EAAO,OACf,CACH,CAEQ,yBAAyBC,EAAoC,CAGnE7xB,EAAO,MAAM,yCAA0C,CACrD,UAAW,YACX,MAAO6xB,EAAQ,OAChB,CACH,CAKA,SAAgB,CACd,KAAK,UAAY,GACjB,KAAK,WAAa,GAClB,KAAK,mBAAqB,GAC1B7xB,EAAO,KAAK,qBAAsB,CAAE,UAAW,YAAa,CAC9D,CAKA,QAAe,CACb,KAAK,UAAY,GACjBA,EAAO,KAAK,oBAAqB,CAAE,UAAW,YAAa,CAC7D,CACF,CAEO,MAAMgyB,GAAYlB,GAAiB,cC1S1C,MAAMmB,EAAqB,CACzB,OAAe,SACP,gBAAgD,IAChD,WAA8B,CACpC,KAAM,EACN,OAAQ,EACR,KAAM,EACN,YAAa,EACb,QAAS,GAGM,cAAgB,GAAK,KAAO,KAC5B,gBAAkB,IAAS,IACpC,aAER,aAAc,CACZ,KAAK,sBACL,KAAK,8BACP,CAEA,OAAO,aAAoC,CACzC,OAAKA,GAAqB,WACxBA,GAAqB,SAAW,IAAIA,IAE/BA,GAAqB,QAC9B,CAKA,MAAM,IACJp6C,EACAqB,EACA1B,EAAwB,GACT,CACf,KAAM,CACJ,IAAA06C,EAAM,KAAU,IAChB,KAAAC,EAAO,GACP,QAAAt1B,EAAU,MACV,SAAAu1B,EAAW,SACX,WAAAC,EAAa,IACX76C,EAGJ,IAAI86C,EAAgBp5C,EAChBm5C,GAAc,KAAK,eAAen5C,CAAI,IACxCo5C,EAAgB,MAAM,KAAK,aAAap5C,CAAI,GAG9C,MAAMiZ,EAAuB,CAC3B,KAAMmgC,EACN,UAAW,KAAK,MAChB,IAAAJ,EACA,QAAAr1B,EACA,KAAAs1B,EACA,SAAU,CACR,SAAAC,EACA,WAAAC,EACA,aAAc,KAAK,YAAYn5C,CAAI,EACnC,cAAe,KAAK,YAAYo5C,CAAa,EAC/C,EAIE,KAAK,qBACP,MAAM,KAAK,0BAGb,KAAK,YAAY,IAAIz6C,EAAKsa,CAAK,EAC/B,KAAK,oBAGDigC,IAAa,QAAU,KAAK,YAAYE,CAAa,EAAI,KAAO,MAClE,MAAM,KAAK,iBAAiBz6C,EAAKsa,CAAK,EAGxC6N,EAAO,MAAM,kBAAmB,CAC9B,UAAW,gBACX,IAAAnoB,EACA,IAAAq6C,EACA,KAAAC,EACA,SAAAC,EACA,KAAM,KAAK,YAAYE,CAAa,EACrC,CACH,CAKA,MAAM,IAAOz6C,EAAa06C,EAAgD,CAExE,IAAIpgC,EAAQ,KAAK,YAAY,IAAIta,CAAG,EAChC26C,EAAa,SAGjB,GAAI,CAACrgC,EAAO,CACV,MAAMsgC,EAAc,MAAM,KAAK,eAAe56C,CAAG,EAC7C46C,IACFtgC,EAAQsgC,EACRD,EAAa,UAGb,KAAK,YAAY,IAAI36C,EAAKsa,CAAK,EAEnC,CAGA,GAAIA,GAAS,CAAC,KAAK,UAAUA,CAAK,EAAG,CACnC,KAAK,WAAW,OAChB,KAAK,mBAEL,IAAIjZ,EAAOiZ,EAAM,KAGjB,OAAIA,EAAM,UAAU,aAClBjZ,EAAO,MAAM,KAAK,eAAeA,CAAI,GAGvC8mB,EAAO,MAAM,YAAa,CACxB,UAAW,gBACX,IAAAnoB,EACA,MAAO26C,EACP,IAAK,KAAK,MAAQrgC,EAAM,UACzB,EAEMjZ,CACT,CAkBA,GAfIiZ,IACF,KAAK,YAAY,OAAOta,CAAG,EAC3B,MAAM,KAAK,kBAAkBA,CAAG,GAGlC,KAAK,WAAW,SAChB,KAAK,mBAELmoB,EAAO,MAAM,aAAc,CACzB,UAAW,gBACX,IAAAnoB,EACA,QAASsa,EAAQ,KAAK,UAAUA,CAAK,EAAI,GAC1C,EAGGogC,EACF,GAAI,CACF,MAAMG,EAAe,MAAMH,EAAA,EAE3B,aAAM,KAAK,IAAI16C,EAAK66C,EAAc,CAAE,IAAK,IAAU,IAAM,EAClDA,CACT,OAASj2C,EAAO,CACdujB,EAAO,KAAK,wBAAyB,CACnC,UAAW,gBACX,IAAAnoB,EACA,MAAO4E,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CAGF,OAAO,IACT,CAKA,MAAM,iBAAiB01C,EAA+B,CACpD,IAAIQ,EAAmB,EAEvB,SAAW,CAAC96C,EAAKsa,CAAK,IAAK,KAAK,YAAY,UACtCA,EAAM,KAAK,KAAKygC,GAAOT,EAAK,SAASS,CAAG,CAAC,IAC3C,KAAK,YAAY,OAAO/6C,CAAG,EAC3B,MAAM,KAAK,kBAAkBA,CAAG,EAChC86C,KAIJ3yB,EAAO,KAAK,4BAA6B,CACvC,UAAW,gBACX,KAAAmyB,EACA,iBAAAQ,CAAA,CACD,EAED,KAAK,kBACP,CAKA,MAAM,OAAuB,CAC3B,KAAK,YAAY,QACjB,MAAM,KAAK,eACX,KAAK,kBAEL3yB,EAAO,KAAK,oBAAqB,CAAE,UAAW,gBAAiB,CACjE,CAKA,eAAiC,CAC/B,MAAO,CAAE,GAAG,KAAK,WACnB,CAKA,MAAM,qBAAqC,CACzC,MAAM6yB,EAAe,CACnB,uBACA,mBACA,iBACA,yBAGF7yB,EAAO,KAAK,iCAAkC,CAC5C,UAAW,gBACX,KAAM6yB,CAAA,CACP,EAGD,UAAWh7C,KAAOg7C,EAEhB,MAAM,KAAK,IAAIh7C,EAAK,CAAE,UAAW,GAAM,IAAAA,GAAO,CAC5C,IAAK,KAAU,IACf,SAAU,OACV,KAAM,CAAC,WAAY,SAAS,EAC7B,CAEL,CAEQ,UAAUsa,EAAiC,CACjD,OAAO,KAAK,MAAQA,EAAM,UAAYA,EAAM,GAC9C,CAEQ,eAAejZ,EAAoB,CAEzC,OADa,KAAK,YAAYA,CAAI,EACpB,IAChB,CAEA,MAAc,aAAgBA,EAA0B,CAEtD,OAAO,KAAK,UAAUA,CAAI,CAC5B,CAEA,MAAc,eAAe45C,EAAsC,CACjE,OAAO,KAAK,MAAMA,CAAc,CAClC,CAEQ,YAAY55C,EAAmB,CACrC,OAAO,KAAK,UAAUA,CAAI,EAAE,MAC9B,CAEQ,mBAA6B,CACnC,OAAO,KAAK,WAAW,YAAc,KAAK,aAC5C,CAEA,MAAc,yBAAyC,CACrD,MAAM65C,EAAU,MAAM,KAAK,KAAK,YAAY,SAAS,EAGrDA,EAAQ,KAAK,CAAC/9C,EAAGE,IAAM,CACrB,MAAM89C,EAAwC,CAAE,IAAK,EAAG,OAAQ,EAAG,KAAM,GACnEC,EAAYD,EAAch+C,EAAE,CAAC,EAAE,UAAU,UAAY,QAAQ,EAC7Dk+C,EAAYF,EAAc99C,EAAE,CAAC,EAAE,UAAU,UAAY,QAAQ,EAEnE,OAAI+9C,IAAcC,EAAkBD,EAAYC,EACzCl+C,EAAE,CAAC,EAAE,UAAYE,EAAE,CAAC,EAAE,SAC/B,CAAC,EAGD,MAAMi+C,EAAW,KAAK,KAAKJ,EAAQ,OAAS,GAAI,EAChD,QAASv6C,EAAI,EAAGA,EAAI26C,EAAU36C,IAAK,CACjC,KAAM,CAACX,CAAG,EAAIk7C,EAAQv6C,CAAC,EACvB,KAAK,YAAY,OAAOX,CAAG,CAC7B,CAEAmoB,EAAO,KAAK,kCAAmC,CAC7C,UAAW,gBACX,QAASmzB,EACT,UAAW,KAAK,YAAY,KAC7B,CACH,CAEQ,qBAA4B,CAClC,KAAK,aAAe,YAAY,IAAM,CACpC,KAAK,uBACP,EAAG,KAAK,eAAe,CACzB,CAEQ,uBAA8B,CACpC,IAAIC,EAAe,EAEnB,SAAW,CAACv7C,EAAKsa,CAAK,IAAK,KAAK,YAAY,UACtC,KAAK,UAAUA,CAAK,IACtB,KAAK,YAAY,OAAOta,CAAG,EAC3B,KAAK,kBAAkBA,CAAG,EAC1Bu7C,KAIAA,EAAe,IACjBpzB,EAAO,MAAM,mCAAoC,CAC/C,UAAW,gBACX,QAASozB,CAAA,CACV,EACD,KAAK,mBAET,CAEQ,kBAAyB,CAC/B,KAAK,WAAW,KAAO,KAAK,YAAY,KACxC,KAAK,WAAW,YAAc,MAAM,KAAK,KAAK,YAAY,QAAQ,EAC/D,OAAO,CAACl+B,EAAO/C,IAAU+C,EAAQ,KAAK,YAAY/C,CAAK,EAAG,CAAC,EAE9D,MAAM+C,EAAQ,KAAK,WAAW,KAAO,KAAK,WAAW,OACrD,KAAK,WAAW,QAAUA,EAAQ,EAAK,KAAK,WAAW,KAAOA,EAAS,IAAM,CAC/E,CAEQ,iBAAwB,CAC9B,KAAK,WAAa,CAChB,KAAM,EACN,OAAQ,EACR,KAAM,EACN,YAAa,EACb,QAAS,EAEb,CAGA,MAAc,8BAA8C,CAC1D,GAAI,EAAE,cAAe,QAAS,CAC5B8K,EAAO,KAAK,0BAA2B,CAAE,UAAW,gBAAiB,EACrE,MACF,CAEA,GAAI,CAEFA,EAAO,MAAM,sCAAuC,CAAE,UAAW,gBAAiB,CACpF,OAASvjB,EAAO,CACdujB,EAAO,KAAK,0CAA2C,CACrD,UAAW,gBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAEA,MAAc,iBAAiB5E,EAAasa,EAAuC,CACjF,GAAI,CAEF,aAAa,QAAQ,SAASta,CAAG,GAAI,KAAK,UAAUsa,CAAK,CAAC,CAC5D,OAAS1V,EAAO,CACdujB,EAAO,MAAM,gCAAiC,CAC5C,UAAW,gBACX,IAAAnoB,EACA,MAAO4E,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAEA,MAAc,eAAe5E,EAA8C,CACzE,GAAI,CACF,MAAMozC,EAAS,aAAa,QAAQ,SAASpzC,CAAG,EAAE,EAClD,OAAOozC,EAAS,KAAK,MAAMA,CAAM,EAAI,IACvC,MAAgB,CACd,OAAO,IACT,CACF,CAEA,MAAc,kBAAkBpzC,EAA4B,CAC1D,GAAI,CACF,aAAa,WAAW,SAASA,CAAG,EAAE,CACxC,MAAgB,CAEhB,CACF,CAEA,MAAc,cAA8B,CAC1C,GAAI,CAEF,OAAO,KAAK,YAAY,EAAE,QAAQA,GAAO,CACnCA,EAAI,WAAW,QAAQ,GACzB,aAAa,WAAWA,CAAG,CAE/B,CAAC,CACH,OAAS4E,EAAO,CACdujB,EAAO,KAAK,qCAAsC,CAChD,UAAW,gBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAEA,SAAgB,CACV,KAAK,cACP,cAAc,KAAK,YAAY,EAEjC,KAAK,YAAY,QACjB,KAAK,cACP,CACF,CAEO,MAAM42C,GAAgBpB,GAAqB,cC9YlD,MAAMqB,EAAiB,CACrB,OAAe,SACP,OAA2B,KAC3B,oBAAqD,IACrD,mBAA0C,GAC1C,aAAmC,GACnC,kBAAoB,EACpB,qBAAuB,EACvB,eAAiB,IACjB,kBAAoB,IACpB,eACA,gBAAyE,eACzE,cAAgB,EAChB,QAA6B,CACnC,IAAK,GACL,kBAAmB,EACnB,eAAgB,IAChB,kBAAmB,IACnB,gBAAiB,KAGnB,OAAO,aAAgC,CACrC,OAAKA,GAAiB,WACpBA,GAAiB,SAAW,IAAIA,IAE3BA,GAAiB,QAC1B,CAKA,MAAM,QAAQ97C,EAA2C,CAGvD,GAFA,KAAK,QAAU,CAAE,GAAG,KAAK,QAAS,GAAGA,CAAA,EAEjC,KAAK,QAAQ,aAAe,UAAU,KAAM,CAC9CwoB,EAAO,MAAM,8BAA+B,CAAE,UAAW,mBAAoB,EAC7E,MACF,CAEA,KAAK,gBAAkB,aAEvB,GAAI,CACFA,EAAO,KAAK,0BAA2B,CACrC,UAAW,mBACX,IAAK,KAAK,QAAQ,IACnB,EAED,KAAK,OAAS,IAAI,UAAU,KAAK,QAAQ,IAAK,KAAK,QAAQ,SAAS,EAEpE,KAAK,OAAO,OAAS,KAAK,WAAW,KAAK,IAAI,EAC9C,KAAK,OAAO,UAAY,KAAK,cAAc,KAAK,IAAI,EACpD,KAAK,OAAO,QAAU,KAAK,YAAY,KAAK,IAAI,EAChD,KAAK,OAAO,QAAU,KAAK,YAAY,KAAK,IAAI,EAGhDgyB,GAAU,MAAM,4BAA6B,CAC3C,IAAK,KAAK,QAAQ,IAClB,QAAS,KAAK,kBAAoB,EACnC,CAEH,OAASv1C,EAAO,CACd,KAAK,YAAY,IAAI,MAAM,gCAAgCA,CAAK,EAAE,CAAC,CACrE,CACF,CAKA,YAAmB,CACb,KAAK,iBACP,cAAc,KAAK,cAAc,EACjC,KAAK,eAAiB,QAGpB,KAAK,SACP,KAAK,OAAO,MAAM,IAAM,mBAAmB,EAC3C,KAAK,OAAS,MAGhB,KAAK,gBAAkB,eACvB,KAAK,kBAAoB,EAEzBujB,EAAO,KAAK,yBAA0B,CAAE,UAAW,mBAAoB,EAEvE,KAAK,yBAAyB,EAAK,CACrC,CAKA,KAAKtpB,EAAcwC,EAAWq6C,EAAuC,SAAgB,CACnF,MAAMtoC,EAA4B,CAChC,KAAAvU,EACA,KAAAwC,EACA,UAAW,KAAK,MAChB,GAAI,KAAK,mBAAkB,EAG7B,GAAI,KAAK,QAAQ,aAAe,UAAU,KACxC,GAAI,CACF,KAAK,OAAO,KAAK,KAAK,UAAU+R,CAAO,CAAC,EAExC+U,EAAO,MAAM,yBAA0B,CACrC,UAAW,mBACX,KAAAtpB,EACA,GAAIuU,EAAQ,GACb,CAEH,OAASxO,EAAO,CACdujB,EAAO,MAAM,mCAAoC,CAC/C,UAAW,mBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,MAGI,KAAK,aAAa,QAAU,KAAK,QAAQ,iBAAmB,MAC9D,KAAK,aAAa,KAAKwO,CAAO,EAE9B+U,EAAO,MAAM,2BAA4B,CACvC,UAAW,mBACX,KAAAtpB,EACA,UAAW,KAAK,aAAa,OAC9B,GAEDspB,EAAO,KAAK,iDAAkD,CAC5D,UAAW,mBACX,KAAAtpB,CAAA,CACD,CAGP,CAKA,UAAU88C,EAAqBC,EAAqC,CAClE,OAAK,KAAK,gBAAgB,IAAID,CAAW,GACvC,KAAK,gBAAgB,IAAIA,EAAa,EAAE,EAG1C,KAAK,gBAAgB,IAAIA,CAAW,EAAG,KAAKC,CAAO,EAEnDzzB,EAAO,MAAM,uCAAwC,CACnD,UAAW,mBACX,YAAAwzB,EACA,aAAc,KAAK,gBAAgB,IAAIA,CAAW,EAAG,OACtD,EAGM,IAAM,CACX,MAAME,EAAW,KAAK,gBAAgB,IAAIF,CAAW,EACrD,GAAIE,EAAU,CACZ,MAAMtyC,EAAQsyC,EAAS,QAAQD,CAAO,EAClCryC,EAAQ,IACVsyC,EAAS,OAAOtyC,EAAO,CAAC,CAE5B,CACF,CACF,CAKA,mBAAmBqyC,EAAwC,CACzD,YAAK,mBAAmB,KAAKA,CAAO,EAG7B,IAAM,CACX,MAAMryC,EAAQ,KAAK,mBAAmB,QAAQqyC,CAAO,EACjDryC,EAAQ,IACV,KAAK,mBAAmB,OAAOA,EAAO,CAAC,CAE3C,CACF,CAKA,oBAA6B,CAC3B,OAAO,KAAK,eACd,CAKA,eAAgB,CACd,MAAO,CACL,gBAAiB,KAAK,gBACtB,kBAAmB,KAAK,kBACxB,iBAAkB,KAAK,aAAa,OACpC,gBAAiB,MAAM,KAAK,KAAK,gBAAgB,QAAQ,EAAE,OACzD,CAAC8T,EAAOw+B,IAAax+B,EAAQw+B,EAAS,OACtC,GAEF,cAAe,KAAK,cACpB,OAAQ,KAAK,cAAgB,EAAI,KAAK,MAAQ,KAAK,cAAgB,EAEvE,CAEQ,WAAWC,EAAqB,CACtC,KAAK,gBAAkB,YACvB,KAAK,kBAAoB,EAEzB3zB,EAAO,KAAK,mCAAoC,CAAE,UAAW,mBAAoB,EAGjF,KAAK,iBAGL,KAAK,oBAGL,KAAK,yBAAyB,EAAI,EAGlCgyB,GAAU,MAAM,sBAAuB,CACrC,IAAK,KAAK,QAAQ,IAClB,eAAgB,KAAK,aAAa,OACnC,CACH,CAEQ,cAAc3xC,EAA2B,CAC/C,GAAI,CACF,MAAM4K,EAA4B,KAAK,MAAM5K,EAAM,IAAI,EAGvD,GAAI4K,EAAQ,OAAS,qBAAsB,CACzC,KAAK,cAAgB,KAAK,MAC1B,MACF,CAEA+U,EAAO,MAAM,6BAA8B,CACzC,UAAW,mBACX,KAAM/U,EAAQ,KACd,GAAIA,EAAQ,GACb,GAGgB,KAAK,gBAAgB,IAAIA,EAAQ,IAAI,GAAK,IAClD,QAAQwoC,GAAW,CAC1B,GAAI,CACFA,EAAQxoC,CAAO,CACjB,OAASxO,EAAO,CACdujB,EAAO,MAAM,qCAAsC,CACjD,UAAW,mBACX,YAAa/U,EAAQ,KACrB,MAAOxO,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAAC,CAEH,OAASA,EAAO,CACdujB,EAAO,MAAM,oCAAqC,CAChD,UAAW,mBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAEQ,YAAY4D,EAAyB,CAC3C,KAAK,gBAAkB,eAEnB,KAAK,iBACP,cAAc,KAAK,cAAc,EACjC,KAAK,eAAiB,QAGxB2f,EAAO,KAAK,8BAA+B,CACzC,UAAW,mBACX,KAAM3f,EAAM,KACZ,OAAQA,EAAM,OACd,SAAUA,EAAM,SACjB,EAED,KAAK,yBAAyB,EAAK,EAG/B,CAACA,EAAM,UAAY,KAAK,kBAAoB,KAAK,sBACnD,KAAK,qBAET,CAEQ,YAAY5D,EAA4B,CAC9C,KAAK,gBAAkB,QAEvB,MAAMqkC,EAAerkC,aAAiB,MAAQA,EAAM,QAAU,kBAE9DujB,EAAO,MAAM,2BAA4B,CACvC,UAAW,mBACX,MAAO8gB,CAAA,CACR,EAGDkR,GAAU,MAAM,kBAAmB,CACjC,MAAOlR,EACP,QAAS,KAAK,kBACf,EAED,KAAK,yBAAyB,GAAOrkC,aAAiB,MAAQA,EAAQ,IAAI,MAAMqkC,CAAY,CAAC,CAC/F,CAEQ,qBAA4B,CAClC,KAAK,oBACL,MAAMlkC,EAAQ,KAAK,eAAiB,KAAK,IAAI,EAAG,KAAK,kBAAoB,CAAC,EAE1EojB,EAAO,KAAK,oCAAqC,CAC/C,UAAW,mBACX,QAAS,KAAK,kBACd,MAAApjB,CAAA,CACD,EAED,WAAW,IAAM,CACX,KAAK,kBAAoB,aAC3B,KAAK,QAAQ,KAAK,OAAO,CAE7B,EAAGA,CAAK,CACV,CAEQ,gBAAuB,CACzB,KAAK,gBACP,cAAc,KAAK,cAAc,EAGnC,KAAK,eAAiB,YAAY,IAAM,CAClC,KAAK,QAAQ,aAAe,UAAU,MACxC,KAAK,KAAK,YAAa,CAAE,UAAW,KAAK,MAAO,CAEpD,EAAG,KAAK,iBAAiB,CAC3B,CAEQ,mBAA0B,CAChC,GAAI,KAAK,aAAa,SAAW,EAAG,OAEpCojB,EAAO,KAAK,mCAAoC,CAC9C,UAAW,mBACX,MAAO,KAAK,aAAa,OAC1B,EAED,MAAM4zB,EAAW,CAAC,GAAG,KAAK,YAAY,EACtC,KAAK,aAAe,GAEpBA,EAAS,QAAQ3oC,GAAW,CAC1B,GAAI,KAAK,QAAQ,aAAe,UAAU,KACxC,GAAI,CACF,KAAK,OAAO,KAAK,KAAK,UAAUA,CAAO,CAAC,CAC1C,OAASxO,EAAO,CACdujB,EAAO,MAAM,gCAAiC,CAC5C,UAAW,mBACX,YAAa/U,EAAQ,KACrB,MAAOxO,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CAEJ,CAAC,CACH,CAEQ,yBAAyBo3C,EAAoBp3C,EAAqB,CACxE,KAAK,mBAAmB,QAAQg3C,GAAW,CACzC,GAAI,CACFA,EAAQI,EAAWp3C,CAAK,CAC1B,OAASq3C,EAAc,CACrB9zB,EAAO,MAAM,8BAA+B,CAC1C,UAAW,mBACX,MAAO8zB,aAAwB,MAAQA,EAAa,QAAU,gBAC/D,CACH,CACF,CAAC,CACH,CAEQ,mBAA4B,CAClC,MAAO,OAAO,KAAK,KAAK,IAAI,KAAK,SAAS,SAAS,EAAE,EAAE,OAAO,EAAG,CAAC,CAAC,EACrE,CACF,CAEO,MAAMC,GAAmBT,GAAiB,cCpXjD,MAAMU,EAAuB,CAC3B,OAAe,SACP,eAAoD,IACpD,iBAA+D,IAC/D,cACA,cAER,aAAc,CACZ,KAAK,qBACL,KAAK,gCACP,CAEA,OAAO,aAAsC,CAC3C,OAAKA,GAAuB,WAC1BA,GAAuB,SAAW,IAAIA,IAEjCA,GAAuB,QAChC,CAKA,MAAM,UACJC,EACAz8C,EAA4B,GACG,CAC/B,MAAM08C,EAAW,KAAK,YAAYD,EAAKz8C,CAAO,EAG9C,GAAI,KAAK,WAAW,IAAI08C,CAAQ,EAAG,CACjC,MAAMC,EAAS,KAAK,WAAW,IAAID,CAAQ,EAC3C,GAAIC,EAAO,QAAUA,EAAO,MAC1B,OAAOA,CAEX,CAGA,GAAI,KAAK,aAAa,IAAID,CAAQ,EAChC,OAAO,KAAK,aAAa,IAAIA,CAAQ,EAIvC,MAAME,EAAc,KAAK,iBAAiBH,EAAKz8C,CAAO,EACtD,KAAK,aAAa,IAAI08C,EAAUE,CAAW,EAE3C,GAAI,CACF,MAAMx8C,EAAS,MAAMw8C,EACrB,YAAK,WAAW,IAAIF,EAAUt8C,CAAM,EAC7BA,CACT,SACE,KAAK,aAAa,OAAOs8C,CAAQ,CACnC,CACF,CAKA,MAAM,cAAcG,EAAgB78C,EAA4B,GAAmB,CACjFwoB,EAAO,KAAK,6BAA8B,CACxC,UAAW,yBACX,MAAOq0B,EAAK,OACb,EAED,MAAMC,EAAkBD,EAAK,IAAI,MAAOjnC,EAAKhM,KAE3C,MAAM,KAAK,MAAMA,EAAQ,EAAE,EACpB,KAAK,UAAUgM,EAAK,CAAE,GAAG5V,EAAS,QAAS,QAAS,EAC5D,EAED,GAAI,CACF,MAAM,QAAQ,WAAW88C,CAAe,EAExCtC,GAAU,YAAY,CACpB,KAAM,0BACN,MAAOqC,EAAK,OACZ,KAAM,QACN,SAAU,CAAE,KAAMA,EAAK,MAAM,EAAG,CAAC,EAAE,CACpC,CACH,OAAS53C,EAAO,CACdujB,EAAO,KAAK,0BAA2B,CACrC,UAAW,yBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAKA,gBACEw3C,EACAz8C,EAA4B,GACpB,CACR,KAAM,CACJ,QAAA+8C,EAAU,GACV,OAAAhiC,EAAS,QACP/a,EAGJ,GAAI+8C,EAAU,GAAKA,EAAU,IAC3B,MAAM,IAAI,MAAM,mCAAmC,EAErD,GAAI,CAAC,CAAC,OAAQ,OAAQ,OAAQ,KAAK,EAAE,SAAShiC,CAAM,EAClD,MAAM,IAAI,MAAM,0BAA0B,EAI5C,OAAI0hC,EAAI,WAAW,GAAG,GAAKA,EAAI,WAAW,IAAI,EACrCA,EAILA,EAAI,SAAS,cAAc,EACtB,KAAK,oBAAoBA,EAAKz8C,CAAO,EAIvC,KAAK,wBAAwBy8C,EAAKz8C,CAAO,CAClD,CAKA,eACEg9C,EACAh9C,EAA4B,GACpB,CAGR,MAFe,CAAC,IAAK,IAAK,KAAM,KAAM,GAAI,EAGvC,IAAIi9C,GAAS,CACZ,MAAMC,EAAe,KAAK,gBAAgBF,EAAS,CACjD,GAAGh9C,CAAA,CAEJ,EACD,MAAO,GAAG,KAAK,cAAck9C,EAAcD,CAAK,CAAC,IAAIA,CAAK,GAC5D,CAAC,EACA,KAAK,IAAI,CACd,CAKA,kBACEA,EACAE,EACAn9C,EAA4B,GACpB,CACR,KAAM,CAAE,YAAAo9C,EAAc,QAAS,iBAAAC,EAAmB,WAAcr9C,EAEhE,OAAQo9C,EAAA,CACN,IAAK,OACH,OAAO,KAAK,sBAAsBH,EAAOE,CAAM,EACjD,IAAK,WACH,OAAO,KAAK,0BAA0BF,EAAOE,CAAM,EACrD,IAAK,QACL,QACE,OAAO,KAAK,uBAAuBF,EAAOE,EAAQE,CAAgB,EAExE,CAEA,MAAc,iBACZZ,EACAz8C,EAC+B,CAC/B,MAAMs9C,EAAY,KAAK,MACjBC,EAAe,KAAK,gBAAgBd,EAAKz8C,CAAO,EAEhDw9C,EAAkC,CACtC,IAAKD,EACL,OAAQ,KAAK,eAAed,EAAKz8C,CAAO,EACxC,YAAa,KAAK,kBAAkB,IAAK,IAAKA,CAAO,EACrD,OAAQ,GACR,QAAS,GACT,MAAO,IAGT,GAAI,CAEF,MAAMy9C,EAAM,IAAI,MAGVb,EAAc,IAAI,QAAc,CAACr7C,EAAS8B,IAAW,CACzDo6C,EAAI,OAAS,IAAMl8C,EAAA,EACnBk8C,EAAI,QAAU,IAAMp6C,EAAO,IAAI,MAAM,sBAAsB,CAAC,CAC9D,CAAC,EAGK,CAAE,QAAA/B,EAAU,KAAUtB,EACtB09C,EAAiB,IAAI,QAAc,CAACz9C,EAAGoD,IAAW,CACtD,WAAW,IAAMA,EAAO,IAAI,MAAM,oBAAoB,CAAC,EAAG/B,CAAO,CACnE,CAAC,EAGDm8C,EAAI,IAAMF,EAGV,MAAM,QAAQ,KAAK,CAACX,EAAac,CAAc,CAAC,EAGhD,MAAMC,EAAW,KAAK,MAAQL,EACxBjD,EAAwB,CAC5B,SAAAsD,EACA,SAAU,KAAK,iBAAiBF,CAAG,EACnC,OAAQ,KAAK,aAAaF,CAAY,EACtC,WAAY,CAAE,MAAOE,EAAI,aAAc,OAAQA,EAAI,eACnD,UAAWE,EAAW,IAGxBH,EAAU,OAAS,GACnBA,EAAU,QAAU,GACpBA,EAAU,QAAUnD,EAGpBG,GAAU,YAAY,CACpB,KAAM,kBACN,MAAOmD,EACP,KAAM,KACN,SAAU,CACR,IAAKlB,EAAI,MAAM,EAAG,GAAG,EACrB,OAAQpC,EAAQ,OAChB,UAAWA,EAAQ,UACrB,CACD,EAED7xB,EAAO,MAAM,4BAA6B,CACxC,UAAW,yBACX,IAAKi0B,EAAI,MAAM,EAAG,GAAG,EACrB,SAAAkB,EACA,OAAQtD,EAAQ,OAChB,WAAYA,EAAQ,WACrB,CAEH,OAASp1C,EAAO,CACdu4C,EAAU,OAAS,GACnBA,EAAU,QAAU,GACpBA,EAAU,MAAQ,GAElBh1B,EAAO,KAAK,uBAAwB,CAClC,UAAW,yBACX,IAAKi0B,EAAI,MAAM,EAAG,GAAG,EACrB,MAAOx3C,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EAGDu1C,GAAU,MAAM,oBAAqBv1C,aAAiB,MAAQA,EAAM,QAAU,gBAAiB,CAC7F,IAAKw3C,EAAI,MAAM,EAAG,GAAG,EACtB,CACH,CAEA,OAAOe,CACT,CAEA,MAAc,oBAAoC,CAEhD,KAAK,cAAgB,MAAM,KAAK,cAAc,MAAM,EAGpD,KAAK,cAAgB,MAAM,KAAK,cAAc,MAAM,EAEpDh1B,EAAO,MAAM,gCAAiC,CAC5C,UAAW,yBACX,KAAM,KAAK,cACX,KAAM,KAAK,cACZ,CACH,CAEQ,cAAczN,EAAkC,CACtD,OAAO,IAAI,QAASxZ,GAAY,CAC9B,MAAMq8C,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQ,EACfA,EAAO,OAAS,EAEhBA,EAAO,OACJC,GAASt8C,EAAQs8C,IAAS,IAAI,EAC/B,SAAS9iC,CAAM,GACf,GAEJ,CAAC,CACH,CAEQ,oBAAoB0hC,EAAaz8C,EAAmC,CAC1E,MAAM4V,EAAM,IAAI,IAAI6mC,CAAG,EACjB,CAAE,QAAAM,EAAU,IAAO/8C,EAGzB,OAAA4V,EAAI,aAAa,IAAI,IAAKmnC,EAAQ,UAAU,EAGxC/8C,EAAQ,SAAW,OACjB,KAAK,cACP4V,EAAI,aAAa,IAAI,KAAM,MAAM,EACxB,KAAK,cACdA,EAAI,aAAa,IAAI,KAAM,MAAM,EAEjCA,EAAI,aAAa,IAAI,KAAM,KAAK,EAEzB5V,EAAQ,QACjB4V,EAAI,aAAa,IAAI,KAAM5V,EAAQ,MAAM,EAGpC4V,EAAI,UACb,CAEQ,wBAAwB6mC,EAAaqB,EAAoC,CAG/E,OAAOrB,CACT,CAEQ,cAAc7mC,EAAaqnC,EAAuB,CACxD,GAAI,CACF,MAAMc,EAAS,IAAI,IAAInoC,CAAG,EAC1B,OAAAmoC,EAAO,aAAa,IAAI,IAAKd,EAAM,UAAU,EACtCc,EAAO,UAChB,MAAQ,CACN,OAAOnoC,CACT,CACF,CAEQ,uBAAuBqnC,EAAeE,EAAgBa,EAAuB,CACnF,MAAO,6BAA6B,KAAK;AAAA,oBACzBf,CAAK,aAAaE,CAAM;AAAA,iDACKa,CAAK;AAAA;AAAA,KAEjD,CAAC,EACJ,CAEQ,sBAAsBf,EAAeE,EAAwB,CACnE,MAAO,6BAA6B,KAAK;AAAA,oBACzBF,CAAK,aAAaE,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUvC,CAAC,EACJ,CAEQ,0BAA0BF,EAAeE,EAAwB,CACvE,MAAO,6BAA6B,KAAK;AAAA,oBACzBF,CAAK,aAAaE,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOvC,CAAC,EACJ,CAEQ,gCAAuC,CACzC,yBAA0B,QAE5B,IAAI,qBACD5B,GAAY,CACXA,EAAQ,QAAS5gC,GAAU,CACzB,GAAIA,EAAM,eAAgB,CAExB,MAAM8hC,EADM9hC,EAAM,OACF,QAAQ,IACpB8hC,GACF,KAAK,UAAUA,EAAK,CAAE,QAAS,OAAQ,CAE3C,CACF,CAAC,CACH,EACA,CACE,UAAW,GACX,WAAY,QACd,CAGN,CAEQ,YAAYA,EAAaz8C,EAAmC,CAClE,MAAO,GAAGy8C,CAAG,IAAI,KAAK,UAAUz8C,CAAO,CAAC,EAC1C,CAEQ,iBAAiBy9C,EAA+B,CAEtD,OAAOA,EAAI,aAAeA,EAAI,cAAgB,EAChD,CAEQ,aAAahB,EAAqB,CACxC,OAAIA,EAAI,SAAS,SAAS,GAAKA,EAAI,SAAS,OAAO,EAAU,OACzDA,EAAI,SAAS,SAAS,GAAKA,EAAI,SAAS,OAAO,EAAU,OACzDA,EAAI,SAAS,QAAQ,GAAKA,EAAI,SAAS,MAAM,EAAU,MACpD,MACT,CAEQ,MAAMwB,EAA2B,CACvC,OAAO,IAAI,QAAQ18C,GAAW,WAAWA,EAAS08C,CAAE,CAAC,CACvD,CACF,CAEO,MAAMC,GAAyB1B,GAAuB,cCpY7D,MAAM2B,EAAgB,CACpB,OAAe,SACP,OACA,WAAkC,GAClC,WAA4B,KAEpC,aAAc,CACZ,KAAK,OAAS,KAAK,mBACnB,KAAK,YACP,CAEA,OAAO,aAA+B,CACpC,OAAKA,GAAgB,WACnBA,GAAgB,SAAW,IAAIA,IAE1BA,GAAgB,QACzB,CAKA,YAAmB,CACjB,KAAK,WACL,KAAK,qBACL,KAAK,8BACL,KAAK,8BACL,KAAK,gBAEL31B,EAAO,KAAK,gCAAiC,CAC3C,UAAW,kBACX,WAAY,KAAK,OAAO,IAAI,QAC5B,cAAe,KAAK,OAAO,cAC5B,CACH,CAKA,aAAa3I,EAA0C,CACrD,KAAK,OAAS,CAAE,GAAG,KAAK,OAAQ,GAAGA,CAAA,EACnC,KAAK,aAEL2I,EAAO,KAAK,iCAAkC,CAC5C,UAAW,kBACX,QAAS,OAAO,KAAK3I,CAAS,EAC/B,CACH,CAKA,UAAmB,CACjB,OAAK,KAAK,YACR,KAAK,gBAEA,KAAK,UACd,CAKA,aAAau+B,EAAsB,CAEjC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,YAAcD,EAGnB,MAAME,EAAYD,EAAK,UACpB,QAAQ,sDAAuD,EAAE,EACjE,QAAQ,sDAAuD,EAAE,EACjE,QAAQ,gBAAiB,EAAE,EAC3B,QAAQ,kBAAmB,EAAE,EAC7B,QAAQ,kBAAmB,EAAE,EAEhC,OAAA71B,EAAO,MAAM,yBAA0B,CACrC,UAAW,kBACX,eAAgB41B,EAAK,OACrB,gBAAiBE,EAAU,OAC5B,EAEMA,CACT,CAKA,cAAchgD,EAAeY,EAA4C,OAAgB,CACvF,IAAIo/C,EAAYhgD,EAAM,OAUtB,OAPAggD,EAAYA,EACT,QAAQ,sDAAuD,EAAE,EACjE,QAAQ,gBAAiB,EAAE,EAC3B,QAAQ,UAAW,EAAE,EACrB,QAAQ,cAAe,EAAE,EAGpBp/C,EAAA,CACN,IAAK,QACHo/C,EAAYA,EAAU,QAAQ,YAAa,EAAE,EAC7C,MACF,IAAK,MACH,GAAI,CACF,MAAM1oC,EAAM,IAAI,IAAI0oC,CAAS,EAC7B,GAAI,CAAC,CAAC,QAAS,QAAQ,EAAE,SAAS1oC,EAAI,QAAQ,EAC5C,MAAM,IAAI,MAAM,kBAAkB,CAEtC,MAAQ,CACN0oC,EAAY,EACd,CACA,MACF,IAAK,SACHA,EAAYA,EAAU,QAAQ,WAAY,EAAE,EAC5C,MAGJ,OAAOA,CACT,CAKA,oBAAoB98B,EAAiB,GAAY,CAC/C,MAAMjhB,EAAQ,IAAI,WAAWihB,CAAM,EACnC,cAAO,gBAAgBjhB,CAAK,EACrB,MAAM,KAAKA,EAAOg+C,GAAQA,EAAK,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,CAAC,EAAE,KAAK,EAAE,CAC9E,CAKA,eAAetnC,EAAyB,CAQtC,MAPuB,CACrB,OAAO,SAAS,OAChB,6BACA,+BACA,2BAGoB,KAAKunC,GACrB,GAAAA,IAAYvnC,GACZunC,EAAQ,SAAS,cAAc,GAAKvnC,EAAO,SAAS,cAAc,GAClEunC,EAAQ,SAAS,aAAa,GAAKvnC,EAAO,SAAS,aAAa,EAErE,CACH,CAKA,cAActD,EAAiF,CAC7F,MAAM8qC,EAAoB,GAG1B,OAAI,KAAK,eAAe9qC,EAAQ,GAAG,GAAK,KAAK,eAAe,KAAK,UAAUA,EAAQ,IAAI,CAAC,IACtF8qC,EAAQ,KAAK,aAAa,GAIxB,KAAK,wBAAwB9qC,EAAQ,GAAG,GAAK,KAAK,wBAAwB,KAAK,UAAUA,EAAQ,IAAI,CAAC,IACxG8qC,EAAQ,KAAK,uBAAuB,EAIlC,KAAK,qBAAqB9qC,EAAQ,OAAO,GAC3C8qC,EAAQ,KAAK,oBAAoB,EAI/B,KAAK,yBAAyB9qC,EAAQ,GAAG,GAC3C8qC,EAAQ,KAAK,wBAAwB,EAGnCA,EAAQ,OAAS,IACnBj2B,EAAO,KAAK,4BAA6B,CACvC,UAAW,kBACX,QAAAi2B,EACA,IAAK9qC,EAAQ,IACd,EAED6mC,GAAU,MAAM,2BAA4B,CAC1C,QAAAiE,EACA,IAAK9qC,EAAQ,IACb,UAAW,UAAU,UACtB,GAGI8qC,CACT,CAKA,qBAA2C,CACzC,MAAO,CAAC,GAAG,KAAK,UAAU,CAC5B,CAKA,iBAAwB,CACtB,KAAK,WAAa,GAClBj2B,EAAO,MAAM,8BAA+B,CAAE,UAAW,kBAAmB,CAC9E,CAEQ,kBAAmC,CACzC,MAAO,CACL,IAAK,CACH,QAAS,GACT,WAAY,GACZ,WAAY,CACV,WAAY,CAAC,QAAQ,EACrB,UAAW,CACT,SACA,kBACA,0BACA,+BACA,oCAEF,SAAU,CACR,SACA,kBACA,gCAEF,OAAQ,CACN,SACA,QACA,SACA,+BAEF,WAAY,CACV,SACA,6BACA,+BACA,qBAEF,QAAS,CACP,SACA,6BAEF,SAAU,CAAC,QAAQ,EACnB,UAAW,CAAC,QAAQ,EACpB,SAAU,CACR,SACA,2BAEF,QAAS,CAAC,QAAQ,EAClB,WAAY,CAAC,QAAQ,EACrB,wBAAyB,GACzB,qBAAsB,GACxB,EAEF,cAAe,GACf,aAAc,GACd,oBAAqB,GACrB,eAAgB,kCAChB,KAAM,CACJ,QAAS,GACT,OAAQ,QACR,kBAAmB,GACrB,CAEJ,CAEQ,UAAiB,CACvB,GAAI,CAAC,KAAK,OAAO,IAAI,QAAS,OAE9B,MAAM8c,EAAS,KAAK,eAAe,KAAK,OAAO,IAAI,UAAU,EACvDoZ,EAAa,KAAK,OAAO,IAAI,WAC/B,sCACA,0BAGJ,IAAIC,EAAU,SAAS,cAAc,4CAA4C,EAC5EA,IACHA,EAAU,SAAS,cAAc,MAAM,EACvCA,EAAQ,aAAa,aAAcD,CAAU,EAC7C,SAAS,KAAK,YAAYC,CAAO,GAEnCA,EAAQ,QAAUrZ,EAElB9c,EAAO,MAAM,qBAAsB,CACjC,UAAW,kBACX,OAAQ8c,EAAO,MAAM,EAAG,GAAG,EAAI,MAC/B,WAAY,KAAK,OAAO,IAAI,WAC7B,CACH,CAEQ,eAAesZ,EAAmC,CACxD,MAAMtZ,EAAmB,GAWzB,GATA,OAAO,QAAQsZ,CAAU,EAAE,QAAQ,CAAC,CAACv+C,EAAK7B,CAAK,IAAM,CAC/CA,IAAU,GACZ8mC,EAAO,KAAK,KAAK,aAAajlC,CAAG,CAAC,EACzB,MAAM,QAAQ7B,CAAK,GAAKA,EAAM,OAAS,GAChD8mC,EAAO,KAAK,GAAG,KAAK,aAAajlC,CAAG,CAAC,IAAI7B,EAAM,KAAK,GAAG,CAAC,EAAE,CAE9D,CAAC,EAG4C,KAAK,WAAY,CAC5D,MAAMqgD,EAAiBvZ,EAAO,aAAuBwZ,EAAU,WAAW,YAAY,CAAC,EACnFD,EAAiB,KACnBvZ,EAAOuZ,CAAc,GAAK,WAAW,KAAK,UAAU,IAExD,CAEA,OAAOvZ,EAAO,KAAK,IAAI,CACzB,CAEQ,oBAA2B,CACjC,GAAI,CAAC,KAAK,OAAO,cAAe,OAGhC,IAAIqZ,EAAU,SAAS,cAAc,qCAAqC,EACrEA,IACHA,EAAU,SAAS,cAAc,MAAM,EACvCA,EAAQ,aAAa,aAAc,kBAAkB,EACrD,SAAS,KAAK,YAAYA,CAAO,GAEnCA,EAAQ,QAAU,eACpB,CAEQ,6BAAoC,CAC1C,GAAI,CAAC,KAAK,OAAO,aAAc,OAG/B,IAAIA,EAAU,SAAS,cAAc,oCAAoC,EACpEA,IACHA,EAAU,SAAS,cAAc,MAAM,EACvCA,EAAQ,aAAa,aAAc,iBAAiB,EACpD,SAAS,KAAK,YAAYA,CAAO,GAEnCA,EAAQ,QAAU,MACpB,CAEQ,6BAAoC,CAE1C,SAAS,iBAAiB,0BAA4B91C,GAAU,CAC9D,MAAMk2C,EAA+B,CACnC,KAAM,MACN,QAAS,CACP,WAAYl2C,EAAM,WAClB,kBAAmBA,EAAM,kBACzB,eAAgBA,EAAM,eACtB,WAAYA,EAAM,WAClB,WAAYA,EAAM,YAEpB,UAAW,UAAU,UACrB,UAAW,KAAK,MAChB,IAAK,OAAO,SAAS,MAGvB,KAAK,WAAW,KAAKk2C,CAAS,EAE9Bv2B,EAAO,KAAK,yBAA0B,CACpC,UAAW,kBACX,UAAWu2B,EAAU,QACtB,EAEDvE,GAAU,MAAM,gBAAiBuE,EAAU,OAAO,CACpD,CAAC,EAGD,OAAO,iBAAiB,QAAUl2C,GAAU,CAC1C,GAAIA,EAAM,SAAWA,EAAM,QAAQ,SAAS,eAAe,EAAG,CAC5D,MAAMk2C,EAA+B,CACnC,KAAM,gBACN,QAAS,CACP,QAASl2C,EAAM,QACf,SAAUA,EAAM,SAChB,OAAQA,EAAM,QAEhB,UAAW,UAAU,UACrB,UAAW,KAAK,MAChB,IAAK,OAAO,SAAS,MAGvB,KAAK,WAAW,KAAKk2C,CAAS,EAE9Bv2B,EAAO,KAAK,0BAA2B,CACrC,UAAW,kBACX,UAAWu2B,EAAU,QACtB,CACH,CACF,CAAC,CACH,CAEQ,eAAsB,CAC5B,KAAK,WAAa,KAAK,oBAAoB,EAAE,CAC/C,CAEQ,eAAezgD,EAAwB,CAC7C,OAAKA,EAEe,CAClB,+BACA,gBACA,cACA,YACA,cACA,qBAGiB,KAAK0gD,GAAWA,EAAQ,KAAK1gD,CAAK,CAAC,EAXnC,EAYrB,CAEQ,wBAAwBA,EAAwB,CACtD,OAAKA,EAEe,CAClB,mBACA,iBACA,kBACA,kBACA,iBACA,mBACA,qBAGiB,KAAK0gD,GAAWA,EAAQ,KAAK1gD,CAAK,CAAC,EAZnC,EAarB,CAEQ,yBAAyBA,EAAwB,CACvD,OAAKA,EAEqB,CACxB,UACA,cACA,cACA,eAGuB,KAAK0gD,GAAWA,EAAQ,KAAK1gD,CAAK,CAAC,EATzC,EAUrB,CAEQ,qBAAqBwZ,EAA0C,CACrE,MAAMmnC,EAAqB,CACzB,kBACA,YACA,oBAGF,OAAO,OAAO,KAAKnnC,CAAO,EAAE,KAAKiB,GAC/BkmC,EAAmB,SAASlmC,CAAM,GAClCjB,EAAQiB,CAAM,EAAE,SAAS,WAAW,EAExC,CAEQ,aAAa/L,EAAqB,CACxC,OAAOA,EAAI,QAAQ,kBAAmB,OAAO,EAAE,aACjD,CACF,CAEO,MAAMkyC,GAAkBf,GAAgB,cCnb/C,MAAMgB,EAAW,CACf,OAAe,SACP,YAA8B,KAC9B,cAER,aAAc,CACZ,KAAK,cAAgB,SAAS,KAChC,CAEA,OAAO,aAA0B,CAC/B,OAAKA,GAAW,WACdA,GAAW,SAAW,IAAIA,IAErBA,GAAW,QACpB,CAKA,gBAAiC,CAC/B,OAAO,KAAK,WACd,CAKA,OAAOz9C,EAAqB,CAC1B,KAAK,YAAcA,EACnB,KAAK,eAAeA,CAAI,EACxB,KAAK,qBAAqBA,EAAK,gBAAkB,EAAE,EAEnD8mB,EAAO,MAAM,mBAAoB,CAC/B,UAAW,aACX,MAAO9mB,EAAK,MACZ,aAAc,CAAC,CAACA,EAAK,UACrB,eAAgB,CAAC,CAACA,EAAK,QACvB,oBAAqBA,EAAK,gBAAgB,QAAU,EACrD,CACH,CAKA,eAAe09C,EAAyC,CACtD,MAAM/L,EAAQ,GAAG+L,EAAU,IAAI,yCACzBx1B,EAAc,QAAQw1B,EAAU,IAAI,OAAOA,EAAU,QAAQ,eAAe,KAAKA,EAAU,YAAY,MAAM,EAAG,GAAG,CAAC,MAE1H,MAAO,CACL,MAAA/L,EACA,YAAAzpB,EACA,SAAU,CACRw1B,EAAU,KACVA,EAAU,QAAQ,gBAClBA,EAAU,QAAQ,cAClB,gBACA,aACA,iBACA,GAAGA,EAAU,UAAU,MAAM,EAAG,CAAC,GAEnC,UAAWA,EAAU,IACrB,OAAQ,gBACR,UAAW,CACT,MAAA/L,EACA,YAAAzpB,EACA,KAAM,QACN,IAAKw1B,EAAU,IACf,MAAOA,EAAU,MAAM,CAAC,EACxB,SAAU,GAAGA,EAAU,IAAI,YAC3B,SAAU,cACV,OAAQ,SAEV,QAAS,CACP,KAAM,sBACN,MAAA/L,EACA,YAAAzpB,EACA,MAAOw1B,EAAU,MAAM,CAAC,EACxB,SAAU,GAAGA,EAAU,IAAI,YAC3B,KAAM,gBAER,eAAgB,CACd,KAAK,0BAA0BA,CAAS,EACxC,KAAK,+BAA+B,CAClC,CAAE,KAAM,OAAQ,IAAK,KACrB,CAAE,KAAM,SAAU,IAAK,WACvB,CAAE,KAAMA,EAAU,QAAQ,gBAAiB,IAAK,WAAWA,EAAU,QAAQ,gBAAgB,aAAa,IAC1G,CAAE,KAAMA,EAAU,KAAM,IAAKA,EAAU,IAAI,CAC5C,EACH,CAEJ,CAKA,gBAAgBv2B,EAAqB4J,EAAkBC,EAA4B,CACjF,MAAM2gB,EAAQ,aAAaxqB,CAAW,kBAAkB4J,EAAU,OAAOA,CAAO,GAAK,OAAO,GACtF7I,EAAc,+BAA+Bf,CAAW,yEAAyE4J,GAAWC,EAAW,aAAaD,CAAO,OAAOC,CAAQ,IAAM,EAAE,GAExM,MAAO,CACL,MAAA2gB,EACA,YAAAzpB,EACA,SAAU,CACRf,EACA,SACA,gBACA,gBACA,SACA,aACA,WAEF,UAAW,OAAO,SAAS,KAAK,MAAM,GAAG,EAAE,CAAC,EAC5C,OAAQ,gBACR,UAAW,CACT,MAAAwqB,EACA,YAAAzpB,EACA,KAAM,UACN,IAAK,OAAO,SAAS,KACrB,MAAO,8BACP,SAAU,aAAaf,CAAW,GAClC,SAAU,eAEZ,QAAS,CACP,KAAM,sBACN,MAAAwqB,EACA,YAAAzpB,EACA,MAAO,mCACP,SAAU,aAAaf,CAAW,GAClC,KAAM,gBAER,eAAgB,CACd,KAAK,kCAAkCA,CAAW,EACpD,CAEJ,CAKA,mBAA6B,CAC3B,MAAO,CACL,MAAO,mEACP,YAAa,+KACb,SAAU,CACR,gBACA,kBACA,oBACA,iBACA,cACA,gBACA,oBAEF,UAAW,IACX,OAAQ,gBACR,UAAW,CACT,MAAO,4CACP,YAAa,wEACb,KAAM,UACN,IAAK,OAAO,SAAS,OACrB,MAAO,gCACP,SAAU,gCACV,SAAU,cACV,OAAQ,SAEV,QAAS,CACP,KAAM,sBACN,MAAO,4CACP,YAAa,oDACb,MAAO,qCACP,SAAU,gCACV,KAAM,gBAER,eAAgB,CACd,KAAK,8BACL,KAAK,kCAAiC,CACxC,CAEJ,CAKA,OAAc,CACZ,SAAS,MAAQ,KAAK,cACtB,KAAK,iBACL,KAAK,uBACL,KAAK,YAAc,KAEnBL,EAAO,MAAM,iBAAkB,CAAE,UAAW,aAAc,CAC5D,CAEQ,eAAe9mB,EAAqB,CAE1C,SAAS,MAAQA,EAAK,MAGtB,KAAK,cAAc,cAAeA,EAAK,WAAW,EAClD,KAAK,cAAc,WAAYA,EAAK,UAAU,KAAK,IAAI,GAAK,EAAE,EAC9D,KAAK,cAAc,SAAUA,EAAK,QAAU,eAAe,EAGvDA,EAAK,WACP,KAAK,cAAc,YAAaA,EAAK,SAAS,EAI5CA,EAAK,YACP,KAAK,cAAc,WAAYA,EAAK,UAAU,MAAO,UAAU,EAC/D,KAAK,cAAc,iBAAkBA,EAAK,UAAU,YAAa,UAAU,EAC3E,KAAK,cAAc,UAAWA,EAAK,UAAU,KAAM,UAAU,EAC7D,KAAK,cAAc,SAAUA,EAAK,UAAU,IAAK,UAAU,EAC3D,KAAK,cAAc,WAAYA,EAAK,UAAU,MAAO,UAAU,EAC/D,KAAK,cAAc,eAAgBA,EAAK,UAAU,UAAY,GAAI,UAAU,EAC5E,KAAK,cAAc,eAAgBA,EAAK,UAAU,SAAU,UAAU,EACtE,KAAK,cAAc,YAAaA,EAAK,UAAU,QAAU,QAAS,UAAU,GAI1EA,EAAK,UACP,KAAK,cAAc,eAAgBA,EAAK,QAAQ,IAAI,EACpD,KAAK,cAAc,gBAAiBA,EAAK,QAAQ,KAAK,EACtD,KAAK,cAAc,sBAAuBA,EAAK,QAAQ,WAAW,EAC9DA,EAAK,QAAQ,QACf,KAAK,cAAc,gBAAiBA,EAAK,QAAQ,KAAK,EACtD,KAAK,cAAc,oBAAqBA,EAAK,QAAQ,UAAY,EAAE,GAEjEA,EAAK,QAAQ,MACf,KAAK,cAAc,eAAgBA,EAAK,QAAQ,IAAI,EAElDA,EAAK,QAAQ,SACf,KAAK,cAAc,kBAAmBA,EAAK,QAAQ,OAAO,EAGhE,CAEQ,cAAcoQ,EAAcnC,EAAiB0vC,EAAoB,OAAc,CACrF,GAAI,CAAC1vC,EAAS,OAEd,IAAIkqC,EAAU,SAAS,cAAc,QAAQwF,CAAS,KAAKvtC,CAAI,IAAI,EAE9D+nC,IACHA,EAAU,SAAS,cAAc,MAAM,EACvCA,EAAQ,aAAawF,EAAWvtC,CAAI,EACpC,SAAS,KAAK,YAAY+nC,CAAO,GAGnCA,EAAQ,QAAUlqC,CACpB,CAEQ,cAAc2vC,EAAaC,EAAoB,CACrD,IAAI1F,EAAU,SAAS,cAAc,aAAayF,CAAG,IAAI,EAEpDzF,IACHA,EAAU,SAAS,cAAc,MAAM,EACvCA,EAAQ,IAAMyF,EACd,SAAS,KAAK,YAAYzF,CAAO,GAGnCA,EAAQ,KAAO0F,CACjB,CAEQ,gBAAuB,CACZ,SAAS,iBAAiB,gBAAgB,EAClD,QAAQnE,GAAOA,EAAI,QAAQ,CACtC,CAEQ,qBAAqB15C,EAAkC,CAC7D,KAAK,uBAELA,EAAK,QAAQ,CAACG,EAAM+H,IAAU,CAC5B,MAAM41C,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,KAAO,sBACdA,EAAO,YAAc,KAAK,UAAU39C,CAAI,EACxC29C,EAAO,aAAa,WAAY,iBAAiB,EACjDA,EAAO,GAAK,mBAAmB51C,CAAK,GACpC,SAAS,KAAK,YAAY41C,CAAM,CAClC,CAAC,CACH,CAEQ,sBAA6B,CACnB,SAAS,iBAAiB,oCAAoC,EACtE,QAAQA,GAAUA,EAAO,QAAQ,CAC3C,CAEQ,0BAA0Bx2B,EAAgD,CAChF,MAAO,CACL,WAAY,qBACZ,QAAS,QACT,KAAMA,EAAM,KACZ,YAAaA,EAAM,YACnB,QAAS,CACP,QAAS,gBACT,GAAGA,EAAM,SAEX,UAAWA,EAAM,UACjB,IAAKA,EAAM,IACX,MAAOA,EAAM,MACb,WAAYA,EAAM,WAClB,WAAYA,EAAM,WAAa,CAC7B,QAAS,SACT,YAAaA,EAAM,WAAW,YAC9B,WAAYA,EAAM,WAAW,YAC3B,OACJ,eAAgBA,EAAM,UAAU,IAAIyc,IAAY,CAC9C,QAAS,+BACT,KAAMA,CAAA,EACN,EACF,YAAazc,EAAM,YACnB,aAAcA,EAAM,aAExB,CAEQ,+BAA+By2B,EAAuE,CAC5G,MAAO,CACL,WAAY,qBACZ,QAAS,iBACT,gBAAiBA,EAAY,IAAI,CAAC59C,EAAM+H,KAAW,CACjD,QAAS,WACT,SAAUA,EAAQ,EAClB,KAAM/H,EAAK,KACX,KAAM,GAAG,OAAO,SAAS,MAAM,GAAGA,EAAK,GAAG,IAC1C,EAEN,CAEQ,kCAAkCgnB,EAAyC,CACjF,MAAO,CACL,WAAY,qBACZ,QAAS,oBACT,MAAO,CACL,QAAS,QACT,KAAMA,CAAA,EAER,WAAY,CACV,QAAS,WACT,KAAM,aAAaA,CAAW,GAChC,CAEJ,CAEQ,6BAAkD,CACxD,MAAO,CACL,WAAY,qBACZ,QAAS,UACT,KAAM,cACN,IAAK,OAAO,SAAS,OACrB,YAAa,8DACb,gBAAiB,CACf,QAAS,eACT,OAAQ,GAAG,OAAO,SAAS,MAAM,iCACjC,cAAe,mCACjB,CAEJ,CAEQ,kCAAuD,CAC7D,MAAO,CACL,WAAY,qBACZ,QAAS,eACT,KAAM,cACN,IAAK,OAAO,SAAS,OACrB,KAAM,GAAG,OAAO,SAAS,MAAM,mBAC/B,YAAa,4CACb,OAAQ,CACN,kCACA,mCACA,2CACF,CAEJ,CACF,CAEO,MAAM62B,GAAaP,GAAW,cC/YrC,MAAMQ,EAAyB,CAC7B,OAAe,SACP,OACA,YAAc,GAEtB,aAAc,CACZ,KAAK,OAAS,KAAK,kBACrB,CAEA,OAAO,aAAwC,CAC7C,OAAKA,GAAyB,WAC5BA,GAAyB,SAAW,IAAIA,IAEnCA,GAAyB,QAClC,CAKA,MAAM,WAAWC,EAAqD,CACpE,GAAI,KAAK,YAAa,CACpBp3B,EAAO,MAAM,8BAA+B,CAAE,UAAW,oBAAqB,EAC9E,MACF,CAEIo3B,IACF,KAAK,OAAS,CAAE,GAAG,KAAK,OAAQ,GAAGA,CAAA,GAGrCp3B,EAAO,KAAK,qCAAsC,CAChD,UAAW,oBACX,OAAQ,KAAK,OACd,EAED,GAAI,CAEF,MAAM,KAAK,qBACX,MAAM,KAAK,sBACX,MAAM,KAAK,kBACX,MAAM,KAAK,wBACX,MAAM,KAAK,gBACX,MAAM,KAAK,sBAEX,KAAK,YAAc,GAEnBA,EAAO,KAAK,kCAAmC,CAC7C,UAAW,oBACX,QAAS,KAAK,mBAAkB,CACjC,EAGDgyB,GAAU,MAAM,qBAAsB,CACpC,QAAS,KAAK,oBACd,UAAW,KAAK,KAAI,CACrB,CAEH,OAASv1C,EAAO,CACd,MAAAujB,EAAO,MAAM,gCAAiC,CAC5C,UAAW,oBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,EAEDu1C,GAAU,MAAM,qBAAsBv1C,aAAiB,MAAQA,EAAM,QAAU,eAAe,EACxFA,CACR,CACF,CAKA,uBAA6C,CAC3C,MAAO,CACL,MAAO,KAAK,OAAO,MAAM,QAAU42C,GAAc,gBAAkB,KACnE,UAAW,KAAK,OAAO,UAAU,QAAUU,GAAiB,gBAAkB,KAC9E,UAAW,KAAK,OAAO,UAAU,QAAU,CAAE,QAAS,IAAS,KAC/D,UAAW,KAAK,KAAI,CAExB,CAKA,MAAM,aAAgD,CACpD,MAAMsD,EAAkC,GAExC,GAAI,KAAK,OAAO,MAAM,QACpB,GAAI,CACF,MAAMhE,GAAc,IAAI,eAAgB,CAAE,KAAM,IAAQ,CAAE,IAAK,IAAM,EACrE,MAAMz7C,EAAS,MAAMy7C,GAAc,IAAI,cAAc,EACrDgE,EAAO,MAAQ,CAAC,CAACz/C,CACnB,MAAQ,CACNy/C,EAAO,MAAQ,EACjB,CAOF,GAJI,KAAK,OAAO,UAAU,UACxBA,EAAO,UAAYtD,GAAiB,uBAAyB,aAG3D,KAAK,OAAO,SAAS,QACvB,GAAI,CACF,MAAMppC,EAAQ+rC,GAAgB,sBAC9BW,EAAO,SAAW1sC,EAAM,OAAS,CACnC,MAAQ,CACN0sC,EAAO,SAAW,EACpB,CAGF,OAAAA,EAAO,UAAY,KAAK,OAAO,UAAU,QACzCA,EAAO,OAAS,KAAK,OAAO,OAAO,YACnCA,EAAO,IAAM,KAAK,OAAO,IAAI,QAE7Br3B,EAAO,MAAM,iCAAkC,CAC7C,UAAW,oBACX,OAAAq3B,CAAA,CACD,EAEMA,CACT,CAKA,MAAM,UAA0B,CAC9Br3B,EAAO,KAAK,gCAAiC,CAAE,UAAW,oBAAqB,EAE/E,GAAI,CAEE,KAAK,OAAO,UAAU,SACxB+zB,GAAiB,aAIf,KAAK,OAAO,MAAM,SACpB,MAAMV,GAAc,QAIlB,KAAK,OAAO,IAAI,SAClB6D,GAAW,QAGb,KAAK,YAAc,GAEnBl3B,EAAO,KAAK,4BAA6B,CAAE,UAAW,oBAAqB,CAE7E,OAASvjB,EAAO,CACdujB,EAAO,MAAM,gCAAiC,CAC5C,UAAW,oBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAEQ,kBAAiC,CACvC,MAAO,CACL,UAAW,CACT,QAAS,GACT,OAAQ,QAEV,MAAO,CACL,QAAS,GACT,gBAAiB,IAEnB,UAAW,CACT,QAAS,GACT,IAA2C,gCAE7C,OAAQ,CACN,YAAa,GACb,QAAS,CACP,sBACA,+BACA,+BACF,EAEF,SAAU,CACR,QAAS,GACT,WAAY,IAEd,IAAK,CACH,QAAS,GACT,WAAY,GACd,CAEJ,CAEA,MAAc,oBAAoC,CAC3C,KAAK,OAAO,SAAS,UAE1Bi6C,GAAgB,aAEhB12B,EAAO,MAAM,8BAA+B,CAC1C,UAAW,oBACX,WAAY,KAAK,OAAO,SAAS,WAClC,EACH,CAEA,MAAc,qBAAqC,CAC5C,KAAK,OAAO,UAAU,UAEvB,KAAK,OAAO,UAAU,QACxBgyB,GAAU,UAAU,KAAK,OAAO,UAAU,MAAM,EAIlDA,GAAU,MAAM,sBAAuB,CACrC,UAAW,KAAK,MAChB,UAAW,UAAU,UACtB,EAEDhyB,EAAO,MAAM,+BAAgC,CAC3C,UAAW,oBACX,UAAW,CAAC,CAAC,KAAK,OAAO,UAAU,OACpC,EACH,CAEA,MAAc,iBAAiC,CACxC,KAAK,OAAO,MAAM,UAEnB,KAAK,OAAO,MAAM,iBACpB,MAAMqzB,GAAc,sBAGtBrzB,EAAO,MAAM,oCAAqC,CAChD,UAAW,oBACX,gBAAiB,KAAK,OAAO,MAAM,gBACpC,EACH,CAEA,MAAc,uBAAuC,CAC9C,KAAK,OAAO,OAAO,cAEpB,KAAK,OAAO,OAAO,QAAQ,OAAS,GACtC,MAAM01B,GAAuB,cAAc,KAAK,OAAO,OAAO,OAAO,EAGvE11B,EAAO,MAAM,uCAAwC,CACnD,UAAW,oBACX,aAAc,KAAK,OAAO,OAAO,QAAQ,OAC1C,EACH,CAEA,MAAc,eAA+B,CACtC,KAAK,OAAO,IAAI,UAGjB,OAAO,SAAS,WAAa,KAC/Bk3B,GAAW,OAAOA,GAAW,mBAAmB,EAGlDl3B,EAAO,MAAM,yBAA0B,CACrC,UAAW,oBACX,WAAY,KAAK,OAAO,IAAI,WAC7B,EACH,CAEA,MAAc,qBAAqC,CACjD,GAAI,GAAC,KAAK,OAAO,UAAU,SAAW,CAAC,KAAK,OAAO,UAAU,KAE7D,GAAI,CACF,MAAM+zB,GAAiB,QAAQ,CAC7B,IAAK,KAAK,OAAO,UAAU,IAC3B,kBAAmB,EACnB,kBAAmB,IACpB,EAGDA,GAAiB,UAAU,eAAiB9oC,GAAY,CACtD+mC,GAAU,MAAM,wBAAyB/mC,EAAQ,IAAI,CACvD,CAAC,EAED8oC,GAAiB,UAAU,sBAAwB9oC,GAAY,CAC7D+mC,GAAU,MAAM,+BAAgC/mC,EAAQ,IAAI,CAC9D,CAAC,EAED+U,EAAO,MAAM,+BAAgC,CAC3C,UAAW,oBACX,IAAK,KAAK,OAAO,UAAU,IAC5B,CAEH,OAASvjB,EAAO,CACdujB,EAAO,KAAK,yEAA0E,CACpF,UAAW,oBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAEQ,mBAA8B,CACpC,MAAM66C,EAAoB,GAE1B,OAAI,KAAK,OAAO,UAAU,SAASA,EAAQ,KAAK,WAAW,EACvD,KAAK,OAAO,MAAM,SAASA,EAAQ,KAAK,OAAO,EAC/C,KAAK,OAAO,UAAU,SAASA,EAAQ,KAAK,WAAW,EACvD,KAAK,OAAO,OAAO,aAAaA,EAAQ,KAAK,QAAQ,EACrD,KAAK,OAAO,SAAS,SAASA,EAAQ,KAAK,UAAU,EACrD,KAAK,OAAO,IAAI,SAASA,EAAQ,KAAK,KAAK,EAExCA,CACT,CACF,CAEO,MAAMC,GAAoBJ,GAAyB,cC9UpDK,GAAc,IAAI70C,GAAY,CAClC,eAAgB,CACd,QAAS,CACP,UAAW,IAAS,IACpB,OAAQ,IAAU,IAClB,MAAO,EACT,CAEJ,CAAC,EAGK80C,GAAgB,SAAY,CAChC,GAAI,CAEF,MAAMF,GAAkB,WAAW,CACjC,UAAW,CACT,QAAS,GACT,OAAQ,aAAa,QAAQ,SAAS,GAAK,QAE7C,MAAO,CACL,QAAS,GACT,gBAAiB,IAEnB,UAAW,CACT,QAAS,GACT,IAAK,MAAgB,EAEvB,OAAQ,CACN,YAAa,GACb,QAAS,CACP,sBACA,kEACA,qEACF,EAEF,SAAU,CACR,QAAS,GACT,WAAY,IAEd,IAAK,CACH,QAAS,GACT,WAAY,GACd,CACD,EAEDv3B,EAAO,KAAK,oCAAqC,CAC/C,UAAW,UACX,YAAa,MAAMu3B,GAAkB,uBAAsB,CAC5D,CAEH,OAAS96C,EAAO,CACdujB,EAAO,MAAM,qEAAsE,CACjF,UAAW,UACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,EAGI,kBAAmB,UACrB,OAAO,iBAAiB,OAAQ,SAAY,CAE1C,MAAMg7C,GAAA,EAEN,GAAI,CACF,MAAMC,EAAe,MAAM,UAAU,cAAc,SAAS,SAAU,CACpE,MAAO,IACR,EAED13B,EAAO,KAAK,yCAA0C,CACpD,UAAW,gBACX,MAAO03B,EAAa,MACpB,MAAOA,EAAa,YAAY,OAASA,EAAa,SAAS,OAASA,EAAa,QAAQ,MAC9F,EAGDA,EAAa,iBAAiB,cAAe,IAAM,CACjD,MAAMC,EAAYD,EAAa,WAC3BC,GACFA,EAAU,iBAAiB,cAAe,IAAM,CAC1CA,EAAU,QAAU,aAAe,UAAU,cAAc,YAC7D33B,EAAO,KAAK,0DAA2D,CACrE,UAAW,gBACZ,CAEL,CAAC,CAEL,CAAC,CACH,OAASvjB,EAAO,CACdujB,EAAO,KAAK,qCAAsC,CAChD,UAAW,gBACX,MAAOvjB,aAAiB,MAAQA,EAAM,QAAU,gBACjD,CACH,CACF,CAAC,EAGD,OAAO,iBAAiB,mBAAoBg7C,EAAa,EAG3DG,GAAS,WAAW,SAAS,eAAe,MAAM,CAAE,EAAE,aACnDv1B,EAAM,WAAN,CACC,eAAC1e,GAAA,CAAoB,OAAQ6zC,GAC3B,SAAA1zC,MAAC+zC,GAAA,CACC,OAAQ,CACN,mBAAoB,GACpB,qBAAsB,IAGxB,eAACnH,GAAA,EAAI,GACP,CACF,EACF,CACF","names":["f","require$$0","k","l","m","n","p","q","a","g","b","d","e","reactJsxRuntime_production_min","jsxRuntimeModule","client","Subscribable","listener","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","type","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","isActive","matchMutation","mutation","status","mutationKey","hashKey","options","_","val","isPlainObject","result","key","replaceEqualDeep","array","isPlainArray","aItems","aSize","bItems","bSize","copy","aItemsSet","equalItems","i","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","replaceData","prevData","data","addToEnd","items","item","max","newItems","addToStart","skipToken","ensureQueryFn","fetchOptions","FocusManager","#focused","#cleanup","#setup","onFocus","setup","focused","isFocused","focusManager","OnlineManager","#online","onOnline","onlineListener","offlineListener","online","onlineManager","pendingThenable","reject","thenable","_resolve","_reject","finalize","reason","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","isCancelledError","createRetryer","config","isRetryCancelled","isResolved","continueFn","cancel","cancelOptions","cancelRetry","continueRetry","canContinue","canStart","pause","continueResolve","run","promiseOrValue","initialPromise","error","retry","retryDelay","delay","shouldRetry","defaultScheduler","cb","createNotifyManager","queue","transactions","notifyFn","callback","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","args","fn","notifyManager","Removable","#gcTimeout","newGcTime","Query","#initialState","#revertState","#cache","#client","#retryer","#defaultOptions","#abortSignalConsumed","getDefaultState","newData","#dispatch","state","setStateOptions","promise","observer","x","abortController","addSignalProperty","object","fetchFn","queryFn","queryFnContext","queryFnContext2","context","context2","onError","action","reducer","fetchState","hasData","initialDataUpdatedAt","QueryCache","#queries","queryHash","queryInMap","defaultedFilters","queries","event","Mutation","#observers","#mutationCache","variables","onContinue","restored","isPaused","MutationCache","#mutations","#scopes","#mutationId","scope","scopeFor","scopedMutations","index","firstPendingMutation","pausedMutations","infiniteQueryBehavior","pages","direction","oldPages","oldPageParams","currentPage","cancelled","fetchPage","param","previous","page","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","QueryClient","#queryCache","#queryDefaults","#mutationDefaults","#mountCount","#unsubscribeFocus","#unsubscribeOnline","defaultedOptions","cachedData","queryCache","defaultedCancelOptions","promises","defaults","queryDefault","QueryClientContext","React.createContext","QueryClientProvider","children","React.useEffect","jsx","bind","thisArg","toString","getPrototypeOf","iterator","toStringTag","kindOf","cache","thing","str","kindOfTest","typeOfTest","isArray","isUndefined","isBuffer","isFunction","isArrayBuffer","isArrayBufferView","isString","isNumber","isObject","isBoolean","prototype","isEmptyObject","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","keys","len","findKey","_key","_global","isContextDefined","merge","caseless","assignValue","targetKey","extend","stripBOM","content","inherits","constructor","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","position","toArray","arr","isTypedArray","TypedArray","forEachEntry","_iterator","pair","matchAll","regExp","matches","isHTMLForm","toCamelCase","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducedDescriptors","descriptor","name","ret","freezeMethods","toObjectSet","arrayOrString","delimiter","define","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","token","callbacks","asap","isIterable","utils$1","AxiosError","message","code","request","response","utils","customProps","axiosError","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","el","exposedHelpers","build","encode","charMap","match","AxiosURLSearchParams","params","encoder","_encode","buildURL","url","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","id","h","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","method","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","line","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","w","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","AxiosHeaders$1","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","dest","entry","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","computed","accessors","defineAccessor","AxiosHeaders","mapped","headerValue","transformData","fns","isCancel","CanceledError","settle","validateStatus","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","loaded","total","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","cookies","expires","domain","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","xsrfValue","isXHRAdapterSupported","xhrAdapter","_config","requestData","requestHeaders","responseType","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","err","timeoutErrorMessage","protocol","composeSignals","signals","length","controller","aborted","onabort","unsubscribe","signal","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","isFetchSupported","isReadableStreamSupported","encodeText","test","supportsRequestStream","duplexAccessed","hasContentType","DEFAULT_CHUNK_SIZE","supportsResponseStream","resolvers","res","getBodyLength","body","resolveBodyLength","fetchAdapter","cancelToken","withCredentials","composedSignal","requestContentLength","_request","contentTypeHeader","isCredentialsSupported","isStreamResponse","responseContentLength","responseData","knownAdapters","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","s","throwIfCancellationRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","correctSpelling","assertOptions","schema","allowUnknown","Axios$1","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","chain","onFulfilled","onRejected","fullPath","Axios","generateHTTPMethod","isForm","CancelToken$1","CancelToken","executor","resolvePromise","onfulfilled","abort","c","spread","isAxiosError","payload","HttpStatusCode","createInstance","defaultConfig","instance","axios","all","Cancel","formToJSON","getAdapter","Logger","level","contextStr","logMessage","label","reportingError","logger","mockHotels","SearchService","filteredHotels","guestsString","destination","searchTerm","filtered","hotel","hotelName","hotelLocation","hotelDescription","beachTerms","cityTerms","mountainTerms","isBeachSearch","term","isCitySearch","isMountainSearch","hotelType","description","hotelId","suggestion","searchService","createStoreImpl","createState","listeners","setState","partial","replace","nextState","previousState","getState","api","initialState","__vite_import_meta_env__","createStore","React","is","y","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","trackedConnections","getTrackedConnectionState","api2","extractConnectionInformation","store","extensionConnector","existingConnection","newConnection","devtoolsImpl","devtoolsOptions","set","get","anonymousActionType","connection","connectionInformation","isRecording","nameOrAction","r","setStateFromDevtools","originalIsRecording","store2","didWarnAboutReservedActionType","originalDispatch","_a","parseJsonThen","stateFromDevtools","nextLiftedState","lastComputedState","devtools","stringified","createJSONStorage","getStorage","storage","parse","str2","newValue","toThenable","_onRejected","_onFulfilled","oldImpl","baseOptions","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","thenableSerialize","setItem","errorInSync","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","_b","migrationResult","migrated","persistImpl","persist","initialFilters","useSearchStore","newFilters","results","loading","pagination","aiProcessedQuery","checkIn","checkOut","adults","rooms","hotels","popularDestinations","recentSearches","PersistentSearchBar","className","compact","navigate","useNavigate","searchRef","inputRef","setDestination","setCheckIn","setCheckOut","guests","setGuests","showSuggestions","setShowSuggestions","suggestions","setSuggestions","selectedSuggestion","setSelectedSuggestion","isExpanded","setIsExpanded","debounceTimer","apiSuggestions","handleClickOutside","setQuery","setLoading","setResults","setError","handleSearch","searchResults","newSearch","handleSuggestionClick","city","handleInputFocus","handleKeyDown","prev","today","jsxs","MapPin","X","Search","Calendar","Users","TrendingUp","Clock","search","PremiumHeader","location","useLocation","isScrolled","setIsScrolled","isMobileMenuOpen","setIsMobileMenuOpen","handleScroll","navItems","Fragment","Phone","Globe","ChevronDown","Link","Menu","ProfessionalFooter","paymentMethods","trustBadges","Shield","Lock","Award","badge","Icon","ChevronRight","Mail","link","Layout","t","clsx","CLASS_PART_SEPARATOR","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","classParts","getGroupRecursive","getGroupIdForArbitraryProperty","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","classGroupFromNextClassPart","classRest","arbitraryPropertyRegex","arbitraryPropertyClassName","property","theme","prefix","getPrefixedClassGroupEntries","classGroup","processClassesRecursively","classDefinition","classPartObjectToEdit","getPart","isThemeGetter","currentClassPartObject","pathPart","func","classGroupEntries","prefixedClassGroup","createLruCache","maxCacheSize","cacheSize","previousCache","update","IMPORTANT_MODIFIER","createParseClassName","separator","experimentalParseClassName","isSeparatorSingleCharacter","firstSeparatorCharacter","separatorLength","parseClassName","modifiers","bracketDepth","modifierStart","postfixModifierPosition","currentCharacter","baseClassNameWithImportantModifier","hasImportantModifier","baseClassName","maybePostfixModifierPosition","sortModifiers","sortedModifiers","unsortedModifiers","modifier","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","classGroupsInConflict","classNames","originalClassName","variantModifier","modifierId","classId","conflictGroups","group","twJoin","argument","resolvedValue","string","toValue","mix","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","fromTheme","themeGetter","arbitraryValueRegex","fractionRegex","stringLengths","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isLength","isArbitraryLength","getIsArbitraryValue","isLengthOnly","isArbitraryNumber","isInteger","isPercent","isArbitraryValue","isTshirtSize","sizeLabels","isArbitrarySize","isNever","isArbitraryPosition","imageLabels","isArbitraryImage","isImage","isArbitraryShadow","isShadow","isAny","testValue","getDefaultConfig","colors","spacing","blur","brightness","borderColor","borderRadius","borderSpacing","borderWidth","contrast","grayscale","hueRotate","invert","gap","gradientColorStops","gradientColorStopPositions","inset","margin","opacity","padding","saturate","scale","sepia","skew","space","translate","getOverscroll","getOverflow","getSpacingWithAutoAndArbitrary","getSpacingWithArbitrary","getLengthWithEmptyAndArbitrary","getNumberWithAutoAndArbitrary","getPositions","getLineStyles","getBlendModes","getAlign","getZeroAndEmpty","getBreaks","getNumberAndArbitrary","twMerge","cn","inputs","buttonVariants","Button","forwardRef","variant","size","disabled","ref","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","useHotelStore","details","availability","maxAge","lastUpdated","HotelDetails","providedHotel","isLoading","onBookRoom","onBackToResults","selectedHotel","hotelLoading","setSelectedHotel","selectedDateRange","guestCount","selectedImageIndex","setSelectedImageIndex","activeTab","setActiveTab","showAllImages","setShowAllImages","renderStars","rating","Star","getPassionScoreColor","score","formatPrice","price","currency","maxPassionScore","totalNights","ArrowLeft","Sparkles","Leaf","Heart","Share2","image","ChevronLeft","Play","Camera","tab","__","passion","policy","Check","room","amenity","acc","category","amenities","attraction","HotelDetails$1","memo","HotelDetailsPage","useParams","inputVariants","Input","hint","generatedId","useId","inputId","inputName","PaymentConfigManager","applicationId","locationId","environment","idEnvironment","attempts","maxAttempts","checkSDK","paymentConfig","SquarePaymentManager","hasRealCredentials","demoOutcome","demoPaymentId","receiptUrl","failures","isDemoPayment","isProduction","errors","amount","squarePaymentManager","SquarePaymentForm","bookingId","onSuccess","bookingDetails","setIsLoading","isProcessing","setIsProcessing","squareError","setSquareError","paymentSuccess","setPaymentSuccess","isDemoMode","setIsDemoMode","card","setCard","billingInfo","setBillingInfo","initializeSquare","useCallback","enableMockPayments","cardElement","handlePayment","sourceId","paymentRequest","validation","errorMessage","handleBillingChange","field","Loader2","CheckCircle","statusMessage","testCards","testCard","CreditCard","AlertCircle","initialGuestDetails","initialPaymentInfo","bookingSteps","useBookingStore","step","info","confirmation","currentStep","currentIndex","selectedRoom","guestDetails","paymentInfo","isValid","API_URL","AuthService","savedUser","email","password","firstName","lastName","user","authService","AuthContext","createContext","AuthProvider","setUser","currentUser","userData","updatedUser","useAuth","useContext","jt","ee","ae","oe","se","te","Yt","E","Ot","Ft","$t","bt","yt","S","u","re","ie","T","F","D","v","ne","le","ce","de","ue","wt","tt","pe","me","ge","Wt","he","be","ye","we","M","xe","ve","Dt","Pt","Nt","Bt","Ct","kt","It","Mt","Ht","At","Lt","et","ut","ft","ot","at","st","pt","rt","B","P","nt","it","Y","C","lt","J","W","H","A","mt","L","z","ct","R","j","O","G","Vt","Ut","N","V","Kt","Xt","dt","Jt","Tt","gt","U","St","K","Gt","Qt","Rt","Et","qt","ht","$","Zt","Q","Z","I","zt","xt","_t","Te","$e","fe","vt","NotificationService","userId","confirmationNumber","notification","toast","refundAmount","refundText","checkInDate","checkInDateObj","tomorrow","title","actionUrl","userNotifications","limit","stored","notifications","notificationId","userSubscribers","subscribers","preferences","updated","newStatus","notificationService","BookingService","authToken","booking","bookings","stats","start","diffTime","pricePerNight","nights","baseAmount","guestFee","serviceFee","totalAmount","bookingService","BookingFlow","propSelectedRoom","onBookingComplete","onCancel","setGuestDetails","setSelectedRoom","nextStep","previousStep","validateCurrentStep","clearBooking","isAuthenticated","steps","User","handleNextStep","handlePreviousStep","handleCompleteBooking","roomRate","taxes","bookingData","renderStepIndicator","isCompleted","IconComponent","renderRoomSelectionStep","availableRooms","basePrice","renderGuestDetailsStep","handlePaymentSuccess","paymentResult","handlePaymentError","renderPaymentStep","renderStepContent","BookingPage","DefaultErrorFallback","resetError","errorInfo","handleReportError","AlertTriangle","RefreshCw","Home","ErrorBoundary","FallbackComponent","setupGlobalErrorHandling","LoadingSpinner","sizeClasses","createLazyComponent","importFn","LazyComponent","lazy","Suspense","preloadCriticalComponents","criticalImports","__vitePreload","BookingFlow$1","SquarePaymentForm$1","createLazyRoute","routeName","LazyHomePage","LazySearchResultsPage","LazyPaymentPage","LazyBookingConfirmationPage","LazyDealsPage","LazyDestinationsPage","LazyExperiencesPage","LazyRewardsPage","LazyBookingHistoryPage","LazyUserProfilePage","App","Routes","Route","Toaster","AnalyticsManager","eventName","properties","pageName","additionalProps","metric","performanceMetric","element","metadata","errorName","metricName","perfData","list","resourceEntry","events","metrics","loadTimeMetrics","sum","analytics","AdvancedCacheManager","ttl","tags","priority","compressed","processedData","fallback","cacheLevel","storedEntry","fallbackData","invalidatedCount","tag","criticalKeys","compressedData","entries","priorityOrder","aPriority","bPriority","toRemove","cleanedCount","advancedCache","WebSocketManager","_priority","messageType","handler","handlers","_event","messages","connected","handlerError","websocketManager","ProgressiveImageLoader","src","cacheKey","cached","loadPromise","urls","preloadPromises","quality","baseSrc","width","optimizedUrl","height","placeholder","placeholderColor","startTime","optimizedSrc","imageData","img","timeoutPromise","loadTime","canvas","blob","_options","urlObj","color","ms","progressiveImageLoader","SecurityManager","html","temp","sanitized","byte","allowed","threats","headerName","metaTag","directives","scriptSrcIndex","directive","violation","pattern","suspiciousPatterns","securityManager","SEOManager","hotelData","attribute","rel","href","script","breadcrumbs","seoManager","Phase2IntegrationManager","customConfig","health","systems","phase2Integration","queryClient","initializeApp","registration","newWorker","ReactDOM","BrowserRouter"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,70,71,72,73,74,75,76,82,83,97],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../node_modules/axios/lib/helpers/bind.js","../../node_modules/axios/lib/utils.js","../../node_modules/axios/lib/core/AxiosError.js","../../node_modules/axios/lib/helpers/null.js","../../node_modules/axios/lib/helpers/toFormData.js","../../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../node_modules/axios/lib/helpers/buildURL.js","../../node_modules/axios/lib/core/InterceptorManager.js","../../node_modules/axios/lib/defaults/transitional.js","../../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../node_modules/axios/lib/platform/browser/classes/FormData.js","../../node_modules/axios/lib/platform/browser/classes/Blob.js","../../node_modules/axios/lib/platform/browser/index.js","../../node_modules/axios/lib/platform/common/utils.js","../../node_modules/axios/lib/platform/index.js","../../node_modules/axios/lib/helpers/toURLEncodedForm.js","../../node_modules/axios/lib/helpers/formDataToJSON.js","../../node_modules/axios/lib/defaults/index.js","../../node_modules/axios/lib/helpers/parseHeaders.js","../../node_modules/axios/lib/core/AxiosHeaders.js","../../node_modules/axios/lib/core/transformData.js","../../node_modules/axios/lib/cancel/isCancel.js","../../node_modules/axios/lib/cancel/CanceledError.js","../../node_modules/axios/lib/core/settle.js","../../node_modules/axios/lib/helpers/parseProtocol.js","../../node_modules/axios/lib/helpers/speedometer.js","../../node_modules/axios/lib/helpers/throttle.js","../../node_modules/axios/lib/helpers/progressEventReducer.js","../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../node_modules/axios/lib/helpers/cookies.js","../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../node_modules/axios/lib/helpers/combineURLs.js","../../node_modules/axios/lib/core/buildFullPath.js","../../node_modules/axios/lib/core/mergeConfig.js","../../node_modules/axios/lib/helpers/resolveConfig.js","../../node_modules/axios/lib/adapters/xhr.js","../../node_modules/axios/lib/helpers/composeSignals.js","../../node_modules/axios/lib/helpers/trackStream.js","../../node_modules/axios/lib/adapters/fetch.js","../../node_modules/axios/lib/adapters/adapters.js","../../node_modules/axios/lib/core/dispatchRequest.js","../../node_modules/axios/lib/env/data.js","../../node_modules/axios/lib/helpers/validator.js","../../node_modules/axios/lib/core/Axios.js","../../node_modules/axios/lib/cancel/CancelToken.js","../../node_modules/axios/lib/helpers/spread.js","../../node_modules/axios/lib/helpers/isAxiosError.js","../../node_modules/axios/lib/helpers/HttpStatusCode.js","../../node_modules/axios/lib/axios.js","../../node_modules/axios/index.js","../../src/utils/logger.ts","../../src/services/searchService.ts","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/store/searchStore.ts","../../src/components/search/PersistentSearchBar.tsx","../../src/components/layout/PremiumHeader.tsx","../../src/components/layout/ProfessionalFooter.tsx","../../src/components/layout/Layout.tsx","../../node_modules/clsx/dist/clsx.mjs","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/utils/cn.ts","../../src/components/ui/Button.tsx","../../src/components/ui/Card.tsx","../../src/store/hotelStore.ts","../../src/components/hotels/HotelDetails.tsx","../../src/pages/HotelDetailsPage.tsx","../../src/components/ui/Input.tsx","../../src/utils/paymentConfig.ts","../../src/services/squarePaymentManager.ts","../../src/components/payment/SquarePaymentForm.tsx","../../src/store/bookingStore.ts","../../src/services/authService.ts","../../src/contexts/AuthContext.tsx","../../node_modules/sonner/dist/index.mjs","../../src/services/notificationService.ts","../../src/services/bookingService.ts","../../src/components/booking/BookingFlow.tsx","../../src/pages/BookingPage.tsx","../../src/components/ui/ErrorBoundary.tsx","../../src/hooks/useErrorHandling.ts","../../src/components/ui/LoadingSpinner.tsx","../../src/utils/lazyLoader.tsx","../../src/routes/LazyRoutes.tsx","../../src/App.tsx","../../src/utils/analytics.ts","../../src/utils/advancedCache.ts","../../src/utils/websocketManager.ts","../../src/utils/progressiveImageLoader.ts","../../src/utils/security.ts","../../src/utils/seoUtils.ts","../../src/utils/phase2Integration.ts","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/utils.ts\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aItems = array ? a : Object.keys(a);\n    const aSize = aItems.length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    const aItemsSet = new Set(aItems);\n    let equalItems = 0;\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      if ((!array && aItemsSet.has(key) || array) && a[key] === void 0 && b[key] === void 0) {\n        copy[key] = void 0;\n        equalItems++;\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key]);\n        if (copy[key] === a[key] && a[key] !== void 0) {\n          equalItems++;\n        }\n      }\n    }\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n  return b;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let isResolved = false;\n  let continueFn;\n  const thenable = pendingThenable();\n  const cancel = (cancelOptions) => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions));\n      config.abort?.();\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onSuccess?.(value);\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onError?.(value);\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/notifyManager.ts\nvar defaultScheduler = (cb) => setTimeout(cb, 0);\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/removable.ts\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { canFetch, createRetryer, isCancelledError } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    const onError = (error) => {\n      if (!(isCancelledError(error) && error.silent)) {\n        this.#dispatch({\n          type: \"error\",\n          error\n        });\n      }\n      if (!isCancelledError(error)) {\n        this.#cache.config.onError?.(\n          error,\n          this\n        );\n        this.#cache.config.onSettled?.(\n          this.state.data,\n          error,\n          this\n        );\n      }\n      this.scheduleGc();\n    };\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      abort: abortController.abort.bind(abortController),\n      onSuccess: (data) => {\n        if (data === void 0) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(\n              `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n            );\n          }\n          onError(new Error(`${this.queryHash} data is undefined`));\n          return;\n        }\n        try {\n          this.setData(data);\n        } catch (error) {\n          onError(error);\n          return;\n        }\n        this.#cache.config.onSuccess?.(data, this);\n        this.#cache.config.onSettled?.(\n          data,\n          this.state.error,\n          this\n        );\n        this.scheduleGc();\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    return this.#retryer.start();\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          this.#revertState = void 0;\n          return {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n        case \"error\":\n          const error = action.error;\n          if (isCancelledError(error) && error.revert && this.#revertState) {\n            return { ...this.#revertState, fetchStatus: \"idle\" };\n          }\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this\n        );\n        const context = await this.options.onMutate?.(variables);\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSuccess?.(data, variables, this.state.context);\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSettled?.(data, null, variables, this.state.context);\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n  \n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request, fetchOptions);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.11.0\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","/**\r\n * Production-safe logging utility\r\n * Automatically handles development vs production environments\r\n */\r\n\r\nexport enum LogLevel {\r\n  ERROR = 0,\r\n  WARN = 1,\r\n  INFO = 2,\r\n  DEBUG = 3,\r\n}\r\n\r\ninterface LogContext {\r\n  component?: string;\r\n  action?: string;\r\n  userId?: string;\r\n  sessionId?: string;\r\n  [key: string]: any;\r\n}\r\n\r\nclass Logger {\r\n  private level: LogLevel;\r\n  private isDevelopment: boolean;\r\n\r\n  constructor() {\r\n    this.isDevelopment = import.meta.env.DEV;\r\n    this.level = this.isDevelopment ? LogLevel.DEBUG : LogLevel.WARN;\r\n  }\r\n\r\n  private formatMessage(level: string, message: string, context?: LogContext): string {\r\n    const timestamp = new Date().toISOString();\r\n    const contextStr = context ? ` | ${JSON.stringify(context)}` : '';\r\n    return `[${timestamp}] ${level.toUpperCase()}: ${message}${contextStr}`;\r\n  }\r\n\r\n  private shouldLog(level: LogLevel): boolean {\r\n    return level <= this.level;\r\n  }\r\n\r\n  error(message: string, error?: Error | unknown, context?: LogContext): void {\r\n    if (!this.shouldLog(LogLevel.ERROR)) return;\r\n\r\n    const logMessage = this.formatMessage('error', message, context);\r\n    console.error(logMessage);\r\n    \r\n    if (error) {\r\n      console.error(error);\r\n    }\r\n\r\n    // In production, send to error reporting service\r\n    if (!this.isDevelopment && typeof window !== 'undefined') {\r\n      // Example: Send to Sentry, LogRocket, etc.\r\n      this.sendToErrorService(message, error, context);\r\n    }\r\n  }\r\n\r\n  warn(message: string, context?: LogContext): void {\r\n    if (!this.shouldLog(LogLevel.WARN)) return;\r\n    const logMessage = this.formatMessage('warn', message, context);\r\n    console.warn(logMessage);\r\n  }\r\n\r\n  info(message: string, context?: LogContext): void {\r\n    if (!this.shouldLog(LogLevel.INFO)) return;\r\n    const logMessage = this.formatMessage('info', message, context);\r\n    console.info(logMessage);\r\n  }\r\n\r\n  debug(message: string, context?: LogContext): void {\r\n    if (!this.shouldLog(LogLevel.DEBUG)) return;\r\n    const logMessage = this.formatMessage('debug', message, context);\r\n    console.debug(logMessage);\r\n  }\r\n\r\n  // Performance logging\r\n  time(label: string): void {\r\n    if (this.isDevelopment) {\r\n      console.time(label);\r\n    }\r\n  }\r\n\r\n  timeEnd(label: string): void {\r\n    if (this.isDevelopment) {\r\n      console.timeEnd(label);\r\n    }\r\n  }\r\n\r\n  // Group logging for related operations\r\n  group(label: string): void {\r\n    if (this.isDevelopment) {\r\n      console.group(label);\r\n    }\r\n  }\r\n\r\n  groupEnd(): void {\r\n    if (this.isDevelopment) {\r\n      console.groupEnd();\r\n    }\r\n  }\r\n\r\n  private sendToErrorService(message: string, error?: Error | unknown, context?: LogContext): void {\r\n    // Placeholder for production error reporting\r\n    // In a real app, integrate with Sentry, Bugsnag, etc.\r\n    try {\r\n      // Example error service payload\r\n      const payload = {\r\n        message,\r\n        error: error instanceof Error ? {\r\n          name: error.name,\r\n          message: error.message,\r\n          stack: error.stack,\r\n        } : error,\r\n        context,\r\n        timestamp: new Date().toISOString(),\r\n        url: window.location.href,\r\n        userAgent: navigator.userAgent,\r\n      };\r\n      \r\n      // Would send to your error reporting service here\r\n      // Example: fetch('/api/errors', { method: 'POST', body: JSON.stringify(payload) });\r\n      console.debug('Error payload prepared:', payload);\r\n    } catch (reportingError) {\r\n      // Fallback: don't let error reporting break the app\r\n      console.error('Failed to send error report:', reportingError);\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const logger = new Logger();\r\n\r\n// Convenience exports for common use cases\r\nexport const logError = (message: string, error?: Error | unknown, context?: LogContext) => \r\n  logger.error(message, error, context);\r\n\r\nexport const logWarn = (message: string, context?: LogContext) => \r\n  logger.warn(message, context);\r\n\r\nexport const logInfo = (message: string, context?: LogContext) => \r\n  logger.info(message, context);\r\n\r\nexport const logDebug = (message: string, context?: LogContext) => \r\n  logger.debug(message, context);\r\n\r\n// Performance helpers\r\nexport const startTimer = (label: string) => logger.time(label);\r\nexport const endTimer = (label: string) => logger.timeEnd(label);\r\n\r\n// Group helpers\r\nexport const startGroup = (label: string) => logger.group(label);\r\nexport const endGroup = () => logger.groupEnd();\r\n\r\nexport default logger;","import axios from 'axios';\r\nimport type { Hotel } from '@/types/hotel';\r\nimport { logger } from '@/utils/logger';\r\n\r\ninterface SearchParams {\r\n  destination: string;\r\n  checkIn: string;\r\n  checkOut: string;\r\n  guests: string;\r\n  rooms: string;\r\n}\r\n\r\ninterface SearchResponse {\r\n  hotels: Hotel[];\r\n  total: number;\r\n  page: number;\r\n  limit: number;\r\n}\r\n\r\n// Mock hotel data for fallback\r\nconst mockHotels: Hotel[] = [\r\n  {\r\n    id: '1',\r\n    name: 'Grand Luxury Resort & Spa',\r\n    description: 'Experience ultimate luxury with breathtaking ocean views and world-class amenities.',\r\n    rating: 4.8,\r\n    reviewCount: 2847,\r\n    priceRange: {\r\n      min: 350,\r\n      max: 650,\r\n      currency: 'USD',\r\n      avgNightly: 450,\r\n      originalPrice: 650\r\n    },\r\n    images: [\r\n      {\r\n        id: '1-1',\r\n        url: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop',\r\n        alt: 'Grand Luxury Resort exterior',\r\n        category: 'exterior',\r\n        isPrimary: true\r\n      },\r\n      {\r\n        id: '1-2', \r\n        url: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop',\r\n        alt: 'Luxury room interior',\r\n        category: 'room',\r\n        isPrimary: false\r\n      }\r\n    ],\r\n    amenities: [\r\n      { id: 'pool', name: 'Pool', category: 'Recreation' },\r\n      { id: 'spa', name: 'Spa', category: 'Wellness' },\r\n      { id: 'gym', name: 'Gym', category: 'Fitness' },\r\n      { id: 'restaurant', name: 'Restaurant', category: 'Dining' },\r\n      { id: 'wifi', name: 'WiFi', category: 'Technology' },\r\n      { id: 'room-service', name: 'Room Service', category: 'Service' }\r\n    ],\r\n    location: {\r\n      address: '123 Ocean Drive, Miami Beach, FL',\r\n      city: 'Miami Beach',\r\n      country: 'USA',\r\n      coordinates: { lat: 25.7617, lng: -80.1918 }\r\n    },\r\n    passionScore: { luxury: 0.92, beach: 0.95, wellness: 0.88 },\r\n    availability: {\r\n      available: true,\r\n      lastChecked: new Date().toISOString(),\r\n      lowAvailability: false\r\n    }\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Urban Boutique Hotel',\r\n    description: 'Modern sophistication in the heart of downtown with stunning city skyline views.',\r\n    rating: 4.6,\r\n    reviewCount: 1234,\r\n    priceRange: {\r\n      min: 200,\r\n      max: 350,\r\n      currency: 'USD',\r\n      avgNightly: 280,\r\n      originalPrice: 350\r\n    },\r\n    images: [\r\n      {\r\n        id: '2-1',\r\n        url: 'https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=800&h=600&fit=crop',\r\n        alt: 'Urban boutique hotel lobby',\r\n        category: 'interior',\r\n        isPrimary: true\r\n      },\r\n      {\r\n        id: '2-2',\r\n        url: 'https://images.unsplash.com/photo-1578683010236-d716f9a3f461?w=800&h=600&fit=crop',\r\n        alt: 'Modern city room',\r\n        category: 'room',\r\n        isPrimary: false\r\n      }\r\n    ],\r\n    amenities: [\r\n      { id: 'wifi', name: 'WiFi', category: 'Technology' },\r\n      { id: 'gym', name: 'Gym', category: 'Fitness' },\r\n      { id: 'restaurant', name: 'Restaurant', category: 'Dining' },\r\n      { id: 'bar', name: 'Bar', category: 'Dining' },\r\n      { id: 'concierge', name: 'Concierge', category: 'Service' }\r\n    ],\r\n    location: {\r\n      address: '456 City Center, New York, NY',\r\n      city: 'New York',\r\n      country: 'USA',\r\n      coordinates: { lat: 40.7128, lng: -74.0060 }\r\n    },\r\n    passionScore: { urban: 0.85, business: 0.90, culture: 0.82 },\r\n    availability: {\r\n      available: true,\r\n      lastChecked: new Date().toISOString(),\r\n      lowAvailability: true\r\n    }\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Mountain Retreat Lodge',\r\n    description: 'Peaceful escape surrounded by pristine nature and mountain wilderness.',\r\n    rating: 4.7,\r\n    reviewCount: 892,\r\n    priceRange: {\r\n      min: 250,\r\n      max: 380,\r\n      currency: 'USD',\r\n      avgNightly: 320,\r\n      originalPrice: 380\r\n    },\r\n    images: [\r\n      {\r\n        id: '3-1',\r\n        url: 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800&h=600&fit=crop',\r\n        alt: 'Mountain lodge exterior',\r\n        category: 'exterior',\r\n        isPrimary: true\r\n      },\r\n      {\r\n        id: '3-2',\r\n        url: 'https://images.unsplash.com/photo-1549294413-26f195200c16?w=800&h=600&fit=crop',\r\n        alt: 'Cozy mountain room',\r\n        category: 'room',\r\n        isPrimary: false\r\n      }\r\n    ],\r\n    amenities: [\r\n      { id: 'hiking', name: 'Hiking Trails', category: 'Recreation' },\r\n      { id: 'spa', name: 'Spa', category: 'Wellness' },\r\n      { id: 'restaurant', name: 'Restaurant', category: 'Dining' },\r\n      { id: 'wifi', name: 'WiFi', category: 'Technology' },\r\n      { id: 'fireplace', name: 'Fireplace', category: 'Comfort' }\r\n    ],\r\n    location: {\r\n      address: '789 Mountain View, Aspen, CO',\r\n      city: 'Aspen',\r\n      country: 'USA',\r\n      coordinates: { lat: 39.1911, lng: -106.8175 }\r\n    },\r\n    passionScore: { nature: 0.88, wellness: 0.85, adventure: 0.92 },\r\n    availability: {\r\n      available: true,\r\n      lastChecked: new Date().toISOString(),\r\n      lowAvailability: false\r\n    }\r\n  }\r\n];\r\n\r\nclass SearchService {\r\n  private baseURL = (import.meta.env.VITE_API_URL || 'http://localhost:3001') + '/api';\r\n  private timeout = 5000; // 5 second timeout\r\n\r\n  async searchHotels(params: SearchParams): Promise<SearchResponse> {\r\n    try {\r\n      // Try API call first\r\n      const response = await axios.post(`${this.baseURL}/hotels/search`, {\r\n        destination: params.destination,\r\n        checkIn: params.checkIn,\r\n        checkOut: params.checkOut,\r\n        guests: this.parseGuests(params.guests),\r\n        rooms: parseInt(params.rooms) || 1,\r\n      }, {\r\n        timeout: this.timeout,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json',\r\n        },\r\n      });\r\n\r\n      return {\r\n        hotels: response.data.hotels || [],\r\n        total: response.data.total || 0,\r\n        page: response.data.page || 1,\r\n        limit: response.data.limit || 10,\r\n      };\r\n    } catch (error) {\r\n      logger.info('Hotel search API unavailable, providing mock results for seamless UX', {\r\n        component: 'SearchService',\r\n        method: 'searchHotels',\r\n        destination: params.destination,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n        fallbackStrategy: 'filtered_mock_data',\r\n      });\r\n      \r\n      // Fallback to mock data with smart filtering\r\n      const filteredHotels = this.filterMockHotels(params.destination);\r\n      \r\n      return {\r\n        hotels: filteredHotels,\r\n        total: filteredHotels.length,\r\n        page: 1,\r\n        limit: 10,\r\n      };\r\n    }\r\n  }\r\n\r\n  private parseGuests(guestsString: string): { adults: number; children: number } {\r\n    // Parse strings like \"2 Adults, 1 Room\" or \"3 Adults, 2 Rooms\"\r\n    const adults = parseInt(guestsString.match(/(\\d+)\\s*Adult/i)?.[1] || '2');\r\n    return { adults, children: 0 };\r\n  }\r\n\r\n  private filterMockHotels(destination: string): Hotel[] {\r\n    if (!destination.trim()) {\r\n      return mockHotels;\r\n    }\r\n\r\n    const searchTerm = destination.toLowerCase();\r\n    \r\n    // Smart filtering based on destination\r\n    const filtered = mockHotels.filter(hotel => {\r\n      const hotelName = hotel.name.toLowerCase();\r\n      const hotelLocation = hotel.location.address.toLowerCase();\r\n      const hotelDescription = hotel.description.toLowerCase();\r\n      \r\n      return hotelName.includes(searchTerm) ||\r\n             hotelLocation.includes(searchTerm) ||\r\n             hotelDescription.includes(searchTerm) ||\r\n             this.matchesDestinationType(searchTerm, hotel);\r\n    });\r\n\r\n    return filtered.length > 0 ? filtered : mockHotels;\r\n  }\r\n\r\n  private matchesDestinationType(searchTerm: string, hotel: Hotel): boolean {\r\n    const beachTerms = ['beach', 'ocean', 'coastal', 'seaside', 'waterfront'];\r\n    const cityTerms = ['city', 'urban', 'downtown', 'metropolitan'];\r\n    const mountainTerms = ['mountain', 'alpine', 'wilderness', 'nature', 'retreat'];\r\n\r\n    const isBeachSearch = beachTerms.some(term => searchTerm.includes(term));\r\n    const isCitySearch = cityTerms.some(term => searchTerm.includes(term));\r\n    const isMountainSearch = mountainTerms.some(term => searchTerm.includes(term));\r\n\r\n    const hotelType = this.getHotelType(hotel);\r\n\r\n    return (isBeachSearch && hotelType === 'beach') ||\r\n           (isCitySearch && hotelType === 'city') ||\r\n           (isMountainSearch && hotelType === 'mountain');\r\n  }\r\n\r\n  private getHotelType(hotel: Hotel): string {\r\n    const name = hotel.name.toLowerCase();\r\n    const description = hotel.description.toLowerCase();\r\n    \r\n    if (name.includes('resort') || description.includes('ocean') || description.includes('beach')) {\r\n      return 'beach';\r\n    }\r\n    if (name.includes('urban') || name.includes('boutique') || description.includes('downtown')) {\r\n      return 'city';\r\n    }\r\n    if (name.includes('lodge') || name.includes('retreat') || description.includes('mountain')) {\r\n      return 'mountain';\r\n    }\r\n    \r\n    return 'general';\r\n  }\r\n\r\n  async getHotelDetails(hotelId: string): Promise<Hotel | null> {\r\n    try {\r\n      const response = await axios.get(`${this.baseURL}/hotels/${hotelId}`, {\r\n        timeout: this.timeout,\r\n      });\r\n      return response.data.hotel;\r\n    } catch (error) {\r\n      logger.info('Hotel details API unavailable, using mock data fallback', {\r\n        component: 'SearchService',\r\n        method: 'getHotelDetails',\r\n        hotelId,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n        fallbackStrategy: 'mock_hotel_data',\r\n      });\r\n      return mockHotels.find(h => h.id === hotelId) || null;\r\n    }\r\n  }\r\n\r\n  async getSuggestions(query: string): Promise<string[]> {\r\n    if (!query || query.length < 2) {\r\n      return [];\r\n    }\r\n\r\n    try {\r\n      const response = await axios.get(`${this.baseURL}/hotels/suggestions`, {\r\n        params: { q: query },\r\n        timeout: 2000, // Shorter timeout for suggestions\r\n      });\r\n      return response.data.suggestions || [];\r\n    } catch (error) {\r\n      // Fallback to mock suggestions\r\n      const mockSuggestions = [\r\n        'New York, NY',\r\n        'Miami Beach, FL', \r\n        'Los Angeles, CA',\r\n        'Paris, France',\r\n        'London, UK',\r\n        'Tokyo, Japan',\r\n        'Barcelona, Spain',\r\n        'Dubai, UAE',\r\n        'Sydney, Australia',\r\n        'Rome, Italy'\r\n      ];\r\n\r\n      return mockSuggestions.filter(suggestion => \r\n        suggestion.toLowerCase().includes(query.toLowerCase())\r\n      ).slice(0, 6);\r\n    }\r\n  }\r\n}\r\n\r\nexport const searchService = new SearchService();","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand';\nimport { devtools, persist } from 'zustand/middleware';\nimport type { SearchStore } from './types';\nimport type { SearchFilters } from '@/types/hotel';\n\nconst initialFilters: SearchFilters = {\n  priceRange: [0, 1000],\n  starRating: [],\n  amenities: [],\n  location: {},\n  accessibility: {\n    wheelchairAccessible: false,\n    hearingAccessible: false,\n    visualAccessible: false,\n  },\n  sustainability: false,\n  passions: [],\n};\n\nexport const useSearchStore = create<SearchStore>()(\n  devtools(\n    persist(\n      (set) => ({\n        // Initial state\n        query: '',\n        naturalLanguageQuery: '',\n        filters: initialFilters,\n        results: [],\n        loading: false,\n        error: null,\n        pagination: null,\n        aiProcessedQuery: null,\n        selectedDateRange: {\n          checkIn: '',\n          checkOut: '',\n        },\n        guestCount: {\n          adults: 2,\n          children: 0,\n          rooms: 1,\n        },\n\n        // Actions\n        setQuery: (query: string) => set({ query }),\n\n        setNaturalLanguageQuery: (query: string) =>\n          set({ naturalLanguageQuery: query }),\n\n        setFilters: (newFilters: Partial<SearchFilters>) =>\n          set((state) => ({\n            filters: { ...state.filters, ...newFilters },\n          })),\n\n        setResults: (results) => set({ results }),\n\n        setLoading: (loading) => set({ loading }),\n\n        setError: (error) => set({ error }),\n\n        setPagination: (pagination) => set({ pagination }),\n\n        setAiProcessedQuery: (aiProcessedQuery) => set({ aiProcessedQuery }),\n\n        setDateRange: (checkIn: string, checkOut: string) =>\n          set({ selectedDateRange: { checkIn, checkOut } }),\n\n        setGuestCount: (adults: number, children: number, rooms: number) =>\n          set({ guestCount: { adults, children, rooms } }),\n\n        clearSearch: () =>\n          set({\n            query: '',\n            naturalLanguageQuery: '',\n            results: [],\n            error: null,\n            pagination: null,\n            aiProcessedQuery: null,\n          }),\n\n        addToResults: (hotels) =>\n          set((state) => ({\n            results: [...state.results, ...hotels],\n          })),\n      }),\n      {\n        name: 'search-store',\n        partialize: (state) => ({\n          filters: state.filters,\n          selectedDateRange: state.selectedDateRange,\n          guestCount: state.guestCount,\n        }),\n      },\n    ),\n    { name: 'SearchStore' },\n  ),\n);","import { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Search, MapPin, Calendar, Users, TrendingUp, Clock, X } from 'lucide-react';\r\nimport { searchService } from '@/services/searchService';\r\nimport { useSearchStore } from '@/store/searchStore';\r\n\r\n// Popular destinations for suggestions\r\nconst popularDestinations = [\r\n  { city: 'New York', country: 'USA', trending: true },\r\n  { city: 'Paris', country: 'France', trending: true },\r\n  { city: 'Tokyo', country: 'Japan', trending: false },\r\n  { city: 'Dubai', country: 'UAE', trending: true },\r\n  { city: 'London', country: 'UK', trending: false },\r\n  { city: 'Bali', country: 'Indonesia', trending: true },\r\n  { city: 'Miami', country: 'USA', trending: false },\r\n  { city: 'Barcelona', country: 'Spain', trending: true },\r\n];\r\n\r\n// Recent searches (would come from localStorage)\r\nconst recentSearches = [\r\n  'Miami Beach Hotels',\r\n  'Paris Luxury Hotels',\r\n  'Tokyo Business Hotels',\r\n];\r\n\r\ninterface PersistentSearchBarProps {\r\n  className?: string;\r\n  compact?: boolean;\r\n}\r\n\r\nexport function PersistentSearchBar({ className = '', compact = false }: PersistentSearchBarProps) {\r\n  const navigate = useNavigate();\r\n  const searchRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  \r\n  const [destination, setDestination] = useState('');\r\n  const [checkIn, setCheckIn] = useState('');\r\n  const [checkOut, setCheckOut] = useState('');\r\n  const [guests, setGuests] = useState('2 Adults, 1 Room');\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [suggestions, setSuggestions] = useState<string[]>([]);\r\n  const [selectedSuggestion, setSelectedSuggestion] = useState(-1);\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  // Generate suggestions based on input\r\n  useEffect(() => {\r\n    const getSuggestions = async () => {\r\n      if (destination.length > 1) {\r\n        try {\r\n          const apiSuggestions = await searchService.getSuggestions(destination);\r\n          setSuggestions(apiSuggestions);\r\n        } catch (error) {\r\n          // Fallback to static suggestions\r\n          const filtered = popularDestinations\r\n            .filter(d => \r\n              d.city.toLowerCase().includes(destination.toLowerCase()) ||\r\n              d.country.toLowerCase().includes(destination.toLowerCase())\r\n            )\r\n            .map(d => `${d.city}, ${d.country}`)\r\n            .slice(0, 6);\r\n          \r\n          setSuggestions(filtered);\r\n        }\r\n      } else {\r\n        setSuggestions([]);\r\n      }\r\n    };\r\n\r\n    const debounceTimer = setTimeout(getSuggestions, 300);\r\n    return () => clearTimeout(debounceTimer);\r\n  }, [destination]);\r\n\r\n  // Handle click outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\r\n        setShowSuggestions(false);\r\n        setIsExpanded(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const { setQuery, setLoading, setResults, setError } = useSearchStore();\r\n\r\n  const handleSearch = async (e?: React.FormEvent) => {\r\n    e?.preventDefault();\r\n    \r\n    if (!destination) {\r\n      // Focus input if empty search\r\n      inputRef.current?.focus();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      setQuery(destination);\r\n      \r\n      // Perform search with robust service\r\n      const searchResults = await searchService.searchHotels({\r\n        destination,\r\n        checkIn: checkIn || '',\r\n        checkOut: checkOut || '',\r\n        guests: guests || '2 Adults, 1 Room',\r\n        rooms: '1',\r\n      });\r\n      \r\n      setResults(searchResults.hotels);\r\n      \r\n      // Save to recent searches\r\n      const recentSearches = JSON.parse(localStorage.getItem('recentSearches') || '[]');\r\n      const newSearch = `${destination} Hotels`;\r\n      if (!recentSearches.includes(newSearch)) {\r\n        recentSearches.unshift(newSearch);\r\n        localStorage.setItem('recentSearches', JSON.stringify(recentSearches.slice(0, 5)));\r\n      }\r\n      \r\n      // Navigate to search results\r\n      const params = new URLSearchParams({\r\n        destination,\r\n        checkIn: checkIn || '',\r\n        checkOut: checkOut || '',\r\n        guests: guests || '2 Adults, 1 Room',\r\n        rooms: '1',\r\n      });\r\n      \r\n      navigate(`/search?${params.toString()}`);\r\n    } catch (error) {\r\n      console.error('Search failed:', error);\r\n      setError('Search failed. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n      setShowSuggestions(false);\r\n      setIsExpanded(false);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion: string) => {\r\n    const [city] = suggestion.split(',');\r\n    setDestination(city.trim());\r\n    setShowSuggestions(false);\r\n    handleSearch();\r\n  };\r\n\r\n  const handleInputFocus = () => {\r\n    setShowSuggestions(true);\r\n    if (compact && !isExpanded) {\r\n      setIsExpanded(true);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'ArrowDown') {\r\n      e.preventDefault();\r\n      setSelectedSuggestion(prev => \r\n        prev < (suggestions.length > 0 ? suggestions.length - 1 : recentSearches.length - 1) ? prev + 1 : prev\r\n      );\r\n    } else if (e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      setSelectedSuggestion(prev => prev > 0 ? prev - 1 : -1);\r\n    } else if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      if (selectedSuggestion >= 0) {\r\n        if (suggestions.length > 0) {\r\n          handleSuggestionClick(suggestions[selectedSuggestion]);\r\n        } else if (recentSearches[selectedSuggestion]) {\r\n          setDestination(recentSearches[selectedSuggestion].replace(' Hotels', ''));\r\n          handleSearch();\r\n        }\r\n      } else {\r\n        handleSearch();\r\n      }\r\n    } else if (e.key === 'Escape') {\r\n      setShowSuggestions(false);\r\n      setIsExpanded(false);\r\n      inputRef.current?.blur();\r\n    }\r\n  };\r\n\r\n  // Get today's date for min date\r\n  const today = new Date().toISOString().split('T')[0];\r\n\r\n  return (\r\n    <div ref={searchRef} className={`relative ${className}`}>\r\n      <form onSubmit={handleSearch} className=\"w-full\">\r\n        {/* Compact Mode - Always Visible */}\r\n        {compact && !isExpanded ? (\r\n          <div className=\"flex items-center gap-3\">\r\n            {/* Main Search Input */}\r\n            <div className=\"flex-1 flex items-center gap-2 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all\">\r\n              <MapPin className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" />\r\n              <input\r\n                ref={inputRef}\r\n                id=\"compact-destination-input\"\r\n                name=\"destination\"\r\n                type=\"text\"\r\n                value={destination}\r\n                onChange={(e) => setDestination(e.target.value)}\r\n                onFocus={handleInputFocus}\r\n                onKeyDown={handleKeyDown}\r\n                placeholder=\"Search hotels, destinations...\"\r\n                aria-label=\"Search hotels and destinations\"\r\n                aria-expanded={showSuggestions}\r\n                aria-haspopup=\"listbox\"\r\n                autoComplete=\"destination\"\r\n                className=\"flex-1 bg-transparent outline-none text-sm placeholder-gray-500\"\r\n              />\r\n              {destination && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setDestination('')}\r\n                  aria-label=\"Clear search\"\r\n                  className=\"text-gray-400 hover:text-gray-600 p-1\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Search Button */}\r\n            <button\r\n              type=\"submit\"\r\n              aria-label=\"Search hotels\"\r\n              className=\"px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-all duration-200 flex items-center gap-2 font-medium text-sm min-h-[44px]\"\r\n            >\r\n              <Search className=\"w-4 h-4\" />\r\n              <span className=\"hidden md:inline\">Search</span>\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          /* Expanded Mode - Full Featured */\r\n          <div className=\"space-y-4\">\r\n            {/* Main Search Row */}\r\n            <div className=\"flex flex-col lg:flex-row gap-3\">\r\n              {/* Destination Input */}\r\n              <div className=\"flex-1 relative\">\r\n                <label htmlFor=\"destination-input\" className=\"sr-only\">\r\n                  Destination or Hotel Name\r\n                </label>\r\n                <div className=\"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all\">\r\n                  <MapPin className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" />\r\n                  <input\r\n                    id=\"destination-input\"\r\n                    name=\"destination\"\r\n                    ref={inputRef}\r\n                    type=\"text\"\r\n                    value={destination}\r\n                    onChange={(e) => setDestination(e.target.value)}\r\n                    onFocus={handleInputFocus}\r\n                    onKeyDown={handleKeyDown}\r\n                    placeholder=\"Where would you like to stay?\"\r\n                    aria-label=\"Destination or hotel name\"\r\n                    aria-expanded={showSuggestions}\r\n                    aria-haspopup=\"listbox\"\r\n                    autoComplete=\"destination\"\r\n                    className=\"flex-1 bg-transparent outline-none text-base placeholder-gray-500\"\r\n                  />\r\n                  {destination && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setDestination('')}\r\n                      aria-label=\"Clear destination\"\r\n                      className=\"text-gray-400 hover:text-gray-600 p-1 min-h-[44px] min-w-[44px] flex items-center justify-center\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Check In Date */}\r\n              <div className=\"lg:w-48\">\r\n                <label htmlFor=\"checkin-input\" className=\"sr-only\">\r\n                  Check-in Date\r\n                </label>\r\n                <div className=\"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all\">\r\n                  <Calendar className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-xs text-gray-500 mb-1\">Check-in</div>\r\n                    <input\r\n                      id=\"checkin-input\"\r\n                      name=\"checkin\"\r\n                      type=\"date\"\r\n                      value={checkIn}\r\n                      onChange={(e) => setCheckIn(e.target.value)}\r\n                      min={today}\r\n                      aria-label=\"Check-in date\"\r\n                      autoComplete=\"checkin\"\r\n                      className=\"bg-transparent outline-none text-sm font-medium w-full\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Check Out Date */}\r\n              <div className=\"lg:w-48\">\r\n                <label htmlFor=\"checkout-input\" className=\"sr-only\">\r\n                  Check-out Date\r\n                </label>\r\n                <div className=\"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all\">\r\n                  <Calendar className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-xs text-gray-500 mb-1\">Check-out</div>\r\n                    <input\r\n                      id=\"checkout-input\"\r\n                      name=\"checkout\"\r\n                      type=\"date\"\r\n                      value={checkOut}\r\n                      onChange={(e) => setCheckOut(e.target.value)}\r\n                      min={checkIn || today}\r\n                      aria-label=\"Check-out date\"\r\n                      autoComplete=\"checkout\"\r\n                      className=\"bg-transparent outline-none text-sm font-medium w-full\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Guests */}\r\n              <div className=\"lg:w-52\">\r\n                <label htmlFor=\"guests-select\" className=\"sr-only\">\r\n                  Number of Guests and Rooms\r\n                </label>\r\n                <div className=\"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all\">\r\n                  <Users className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-xs text-gray-500 mb-1\">Guests</div>\r\n                    <select \r\n                      id=\"guests-select\"\r\n                      name=\"guests\"\r\n                      value={guests}\r\n                      onChange={(e) => setGuests(e.target.value)}\r\n                      aria-label=\"Number of guests and rooms\"\r\n                      className=\"bg-transparent outline-none text-sm font-medium cursor-pointer w-full\"\r\n                    >\r\n                      <option>1 Adult, 1 Room</option>\r\n                      <option>2 Adults, 1 Room</option>\r\n                      <option>2 Adults, 2 Rooms</option>\r\n                      <option>3 Adults, 2 Rooms</option>\r\n                      <option>4 Adults, 2 Rooms</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Search Button */}\r\n              <button\r\n                type=\"submit\"\r\n                className=\"px-8 py-3 bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-lg hover:from-gray-800 hover:to-gray-700 transition-all duration-200 flex items-center gap-2 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 min-h-[44px]\"\r\n                aria-label=\"Search for hotels\"\r\n              >\r\n                <Search className=\"w-5 h-5\" />\r\n                <span>Search Hotels</span>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Quick Filters */}\r\n            <div className=\"flex flex-wrap items-center gap-3 text-xs\">\r\n              <span className=\"text-gray-500 font-medium\">Quick Search:</span>\r\n              {['Beach Resort', 'City Hotel', 'Mountain Lodge', 'Spa Resort'].map((filter) => (\r\n                <button \r\n                  key={filter}\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setDestination(filter);\r\n                    handleSearch();\r\n                  }}\r\n                  className=\"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors text-gray-700 hover:text-gray-900 min-h-[44px] flex items-center\"\r\n                  aria-label={`Search for ${filter.toLowerCase()}`}\r\n                >\r\n                  {filter}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </form>\r\n\r\n      {/* Suggestions Dropdown */}\r\n      {showSuggestions && (\r\n        <div \r\n          className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden z-50 max-h-96 overflow-y-auto\"\r\n          role=\"listbox\"\r\n          aria-label=\"Search suggestions\"\r\n        >\r\n          {/* Search Suggestions */}\r\n          {suggestions.length > 0 && (\r\n            <div className=\"p-2\">\r\n              <div className=\"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\r\n                Suggestions\r\n              </div>\r\n              {suggestions.map((suggestion, index) => (\r\n                <button\r\n                  key={suggestion}\r\n                  type=\"button\"\r\n                  onClick={() => handleSuggestionClick(suggestion)}\r\n                  role=\"option\"\r\n                  aria-selected={selectedSuggestion === index}\r\n                  className={`\r\n                    w-full text-left px-3 py-3 rounded-lg flex items-center gap-3 transition-colors min-h-[44px]\r\n                    ${selectedSuggestion === index ? 'bg-gray-100' : 'hover:bg-gray-50'}\r\n                  `}\r\n                >\r\n                  <MapPin className=\"w-4 h-4 text-gray-400\" aria-hidden=\"true\" />\r\n                  <span className=\"text-sm\">{suggestion}</span>\r\n                  {popularDestinations.find(d => suggestion.includes(d.city))?.trending && (\r\n                    <span className=\"ml-auto text-xs text-orange-600 font-medium flex items-center gap-1\">\r\n                      <TrendingUp className=\"w-3 h-3\" />\r\n                      Trending\r\n                    </span>\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Recent Searches */}\r\n          {!destination && recentSearches.length > 0 && (\r\n            <div className=\"p-2 border-t border-gray-100\">\r\n              <div className=\"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-2\">\r\n                <Clock className=\"w-3 h-3\" />\r\n                Recent Searches\r\n              </div>\r\n              {recentSearches.map((search, index) => (\r\n                <button\r\n                  key={search}\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setDestination(search.replace(' Hotels', ''));\r\n                    handleSearch();\r\n                  }}\r\n                  role=\"option\"\r\n                  aria-selected={selectedSuggestion === suggestions.length + index}\r\n                  className={`\r\n                    w-full text-left px-3 py-3 rounded-lg hover:bg-gray-50 transition-colors text-sm text-gray-600 min-h-[44px]\r\n                    ${selectedSuggestion === suggestions.length + index ? 'bg-gray-100' : ''}\r\n                  `}\r\n                >\r\n                  {search}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Popular Destinations */}\r\n          {!destination && (\r\n            <div className=\"p-2 border-t border-gray-100\">\r\n              <div className=\"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\r\n                Popular Destinations\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                {popularDestinations.slice(0, 6).map((dest) => (\r\n                  <button\r\n                    key={dest.city}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setDestination(dest.city);\r\n                      handleSearch();\r\n                    }}\r\n                    className=\"text-left px-3 py-3 rounded-lg hover:bg-gray-50 transition-colors group min-h-[44px]\"\r\n                    aria-label={`Search hotels in ${dest.city}, ${dest.country}`}\r\n                  >\r\n                    <div className=\"text-sm font-medium text-gray-700 group-hover:text-gray-900\">\r\n                      {dest.city}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">{dest.country}</div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Globe, ChevronDown, Menu, X, Phone } from 'lucide-react';\r\nimport { PersistentSearchBar } from '../search/PersistentSearchBar';\r\n\r\nexport function PremiumHeader() {\r\n  const location = useLocation();\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setIsScrolled(window.scrollY > 10);\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  // Clean, industry-standard navigation items (max 7 as per best practices)\r\n  const navItems = [\r\n    { href: '/destinations', label: 'DESTINATIONS' },\r\n    { href: '/deals', label: 'OFFERS' },\r\n    { href: '/experiences', label: 'EXPERIENCES' },\r\n    { href: '/rewards', label: 'REWARDS' },\r\n  ];\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* Utility Bar - Following Marriott/Hilton Pattern */}\r\n      <div className=\"hidden lg:block bg-gray-900 text-white text-xs\">\r\n        <div className=\"max-w-screen-2xl mx-auto px-6\">\r\n          <div className=\"flex items-center justify-between h-9\">\r\n            {/* Left: Contact */}\r\n            <div className=\"flex items-center gap-6\">\r\n              <a href=\"tel:1-800-LUXURY\" className=\"flex items-center gap-1.5 hover:text-gray-300 transition-colors\">\r\n                <Phone className=\"w-3 h-3\" />\r\n                <span>1-800-LUXURY</span>\r\n              </a>\r\n              <span className=\"text-gray-500\">|</span>\r\n              <a href=\"#\" className=\"hover:text-gray-300 transition-colors\">\r\n                Customer Support\r\n              </a>\r\n            </div>\r\n\r\n            {/* Right: Language & Currency */}\r\n            <div className=\"flex items-center gap-4\">\r\n              <button className=\"flex items-center gap-1.5 hover:text-gray-300 transition-colors\">\r\n                <Globe className=\"w-3 h-3\" />\r\n                <span>English</span>\r\n                <ChevronDown className=\"w-3 h-3\" />\r\n              </button>\r\n              <span className=\"text-gray-500\">|</span>\r\n              <button className=\"hover:text-gray-300 transition-colors\">\r\n                USD\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Header - Clean, Minimal Following Four Seasons/Mandarin Oriental Style */}\r\n      <header \r\n        className={`\r\n          sticky top-0 z-50 bg-white transition-all duration-300\r\n          ${isScrolled ? 'shadow-md' : 'border-b border-gray-200'}\r\n        `}\r\n      >\r\n        <div className=\"max-w-screen-2xl mx-auto px-6\">\r\n          <div className=\"flex items-center justify-between h-20\">\r\n            {/* Logo - VIBE HOTELS with Neon Luxury Branding */}\r\n            <Link to=\"/\" className=\"flex items-center group vh-logo-container\">\r\n              {/* VH Monogram - Luxury Hotel Version */}\r\n              <div className=\"relative mr-4 sm:mr-5\">\r\n                {/* 3D Shadow Layer */}\r\n                <div className=\"vh-3d-shadow vh-neon-logo text-4xl sm:text-5xl\">\r\n                  VH\r\n                </div>\r\n                {/* Main Logo */}\r\n                <div className=\"vh-neon-logo text-4xl sm:text-5xl relative z-10\">\r\n                  VH\r\n                </div>\r\n                {/* Animated Neon Glow */}\r\n                <div className=\"vh-neon-glow vh-neon-logo text-4xl sm:text-5xl\">\r\n                  VH\r\n                </div>\r\n              </div>\r\n              \r\n              {/* VIBE HOTELS Brand Identity */}\r\n              <div className=\"flex flex-col\">\r\n                {/* Main Brand Name */}\r\n                <div className=\"vh-luxury-border\">\r\n                  <span className=\"vh-brand-gradient text-2xl sm:text-3xl font-black tracking-tight\">\r\n                    VIBE HOTELS\r\n                  </span>\r\n                </div>\r\n                {/* Luxury Tagline */}\r\n                <div className=\"vh-luxury-text text-xs sm:text-sm mt-1\">\r\n                  Experience Elevated\r\n                </div>\r\n              </div>\r\n            </Link>\r\n\r\n            {/* Center Navigation - Desktop */}\r\n            <nav className=\"hidden lg:flex items-center gap-10\">\r\n              {navItems.map((item) => (\r\n                <Link\r\n                  key={item.href}\r\n                  to={item.href}\r\n                  className={`\r\n                    text-xs font-medium tracking-wider transition-colors duration-200\r\n                    ${location.pathname === item.href \r\n                      ? 'text-gray-900 border-b-2 border-gray-900 pb-1' \r\n                      : 'text-gray-700 hover:text-gray-900'\r\n                    }\r\n                  `}\r\n                >\r\n                  {item.label}\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n\r\n            {/* Right Actions */}\r\n            <div className=\"flex items-center gap-5\">\r\n\r\n              {/* Sign In / Join - Industry Standard */}\r\n              <div className=\"hidden lg:flex items-center gap-4\">\r\n                <Link\r\n                  to=\"/signin\"\r\n                  className=\"text-xs font-medium tracking-wider text-gray-700 hover:text-gray-900 transition-colors\"\r\n                >\r\n                  SIGN IN\r\n                </Link>\r\n                <span className=\"text-gray-300\">|</span>\r\n                <Link\r\n                  to=\"/join\"\r\n                  className=\"text-xs font-medium tracking-wider text-gray-700 hover:text-gray-900 transition-colors\"\r\n                >\r\n                  JOIN\r\n                </Link>\r\n              </div>\r\n\r\n              {/* Book Now CTA - Premium Style */}\r\n              <Link\r\n                to=\"/search\"\r\n                className=\"hidden lg:block px-6 py-3 bg-gray-900 text-white text-xs font-medium tracking-wider hover:bg-gray-800 transition-colors\"\r\n              >\r\n                BOOK NOW\r\n              </Link>\r\n\r\n              {/* Mobile Menu Toggle */}\r\n              <button\r\n                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n                className=\"lg:hidden p-2\"\r\n                aria-label=\"Menu\"\r\n              >\r\n                {isMobileMenuOpen ? (\r\n                  <X className=\"w-6 h-6 text-gray-700\" />\r\n                ) : (\r\n                  <Menu className=\"w-6 h-6 text-gray-700\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Persistent Search Bar - Always Visible for Accessibility */}\r\n        <div className=\"border-t border-gray-200\">\r\n          <div className=\"max-w-screen-2xl mx-auto px-6 py-4\">\r\n            <PersistentSearchBar className=\"w-full\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Menu - Clean Slide Panel */}\r\n        {isMobileMenuOpen && (\r\n          <div className=\"lg:hidden fixed inset-0 z-50 bg-black/50\" onClick={() => setIsMobileMenuOpen(false)}>\r\n            <div \r\n              className=\"absolute right-0 top-0 h-full w-80 bg-white shadow-xl\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {/* Mobile Menu Header */}\r\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n                <span className=\"text-lg font-light tracking-wider\">MENU</span>\r\n                <button\r\n                  onClick={() => setIsMobileMenuOpen(false)}\r\n                  className=\"p-2\"\r\n                >\r\n                  <X className=\"w-5 h-5 text-gray-700\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Mobile Navigation */}\r\n              <nav className=\"p-6\">\r\n                <div className=\"space-y-6\">\r\n                  {navItems.map((item) => (\r\n                    <Link\r\n                      key={item.href}\r\n                      to={item.href}\r\n                      onClick={() => setIsMobileMenuOpen(false)}\r\n                      className={`\r\n                        block text-sm font-medium tracking-wider transition-colors\r\n                        ${location.pathname === item.href \r\n                          ? 'text-gray-900' \r\n                          : 'text-gray-700'\r\n                        }\r\n                      `}\r\n                    >\r\n                      {item.label}\r\n                    </Link>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Mobile Actions */}\r\n                <div className=\"mt-8 pt-8 border-t border-gray-200 space-y-4\">\r\n                  <Link\r\n                    to=\"/signin\"\r\n                    onClick={() => setIsMobileMenuOpen(false)}\r\n                    className=\"block text-sm font-medium tracking-wider text-gray-700\"\r\n                  >\r\n                    SIGN IN\r\n                  </Link>\r\n                  <Link\r\n                    to=\"/join\"\r\n                    onClick={() => setIsMobileMenuOpen(false)}\r\n                    className=\"block text-sm font-medium tracking-wider text-gray-700\"\r\n                  >\r\n                    JOIN REWARDS\r\n                  </Link>\r\n                  <Link\r\n                    to=\"/search\"\r\n                    onClick={() => setIsMobileMenuOpen(false)}\r\n                    className=\"block w-full px-6 py-3 bg-gray-900 text-white text-sm font-medium tracking-wider text-center\"\r\n                  >\r\n                    BOOK NOW\r\n                  </Link>\r\n                </div>\r\n\r\n                {/* Mobile Contact */}\r\n                <div className=\"mt-8 pt-8 border-t border-gray-200\">\r\n                  <a href=\"tel:1-800-LUXURY\" className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n                    <Phone className=\"w-4 h-4\" />\r\n                    <span>1-800-LUXURY</span>\r\n                  </a>\r\n                </div>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </header>\r\n    </>\r\n  );\r\n}","import { Link } from 'react-router-dom';\r\nimport { Shield, Lock, Award, Phone, Mail, Globe, ChevronRight } from 'lucide-react';\r\n\r\nexport function ProfessionalFooter() {\r\n  // Payment method icons (base64 encoded for professional look)\r\n  const paymentMethods = [\r\n    { name: 'Visa', icon: '' },\r\n    { name: 'Mastercard', icon: '' },\r\n    { name: 'Amex', icon: '' },\r\n    { name: 'PayPal', icon: '' },\r\n    { name: 'Apple Pay', icon: '' },\r\n    { name: 'Google Pay', icon: 'G' },\r\n  ];\r\n\r\n  const trustBadges = [\r\n    { icon: Shield, label: 'Secure Booking', description: '256-bit SSL Encryption' },\r\n    { icon: Lock, label: 'Data Protection', description: 'GDPR Compliant' },\r\n    { icon: Award, label: 'Best Price', description: 'Guaranteed' },\r\n    { icon: Phone, label: '24/7 Support', description: 'Always Here to Help' },\r\n  ];\r\n\r\n  return (\r\n    <footer className=\"bg-gradient-to-b from-gray-50 to-white border-t\">\r\n      {/* Trust Badges Section - Like Marriott/Hilton */}\r\n      <div className=\"bg-white border-b\">\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\r\n            {trustBadges.map((badge) => {\r\n              const Icon = badge.icon;\r\n              return (\r\n                <div key={badge.label} className=\"flex items-start gap-3\">\r\n                  <div className=\"bg-blue-50 p-2 rounded-lg\">\r\n                    <Icon className=\"h-5 w-5 text-blue-600\" />\r\n                  </div>\r\n                  <div>\r\n                    <h4 className=\"text-sm font-semibold text-gray-900\">{badge.label}</h4>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">{badge.description}</p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Footer Content */}\r\n      <div className=\"container mx-auto px-4 py-12\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8\">\r\n          {/* Brand Column - Premium Feel */}\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Vibe Hotels</h2>\r\n              <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n                Experience luxury redefined. Book from our curated collection of premium hotels \r\n                worldwide with exclusive member benefits and guaranteed best rates.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Newsletter Signup - Professional Style */}\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <h3 className=\"text-sm font-semibold text-gray-900 mb-2\">\r\n                Join Our Newsletter\r\n              </h3>\r\n              <p className=\"text-xs text-gray-600 mb-3\">\r\n                Get exclusive deals and travel inspiration\r\n              </p>\r\n              <div className=\"flex gap-2\">\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Your email address\"\r\n                  className=\"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n                <button className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\">\r\n                  <ChevronRight className=\"h-4 w-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* App Download Buttons */}\r\n            <div className=\"flex gap-3\">\r\n              <button className=\"bg-black text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-800 transition-colors\">\r\n                <span className=\"text-lg\"></span>\r\n                <div className=\"text-left\">\r\n                  <div className=\"text-xs opacity-80\">Download on the</div>\r\n                  <div className=\"text-sm font-semibold\">App Store</div>\r\n                </div>\r\n              </button>\r\n              <button className=\"bg-black text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-800 transition-colors\">\r\n                <span className=\"text-lg\"></span>\r\n                <div className=\"text-left\">\r\n                  <div className=\"text-xs opacity-80\">Get it on</div>\r\n                  <div className=\"text-sm font-semibold\">Google Play</div>\r\n                </div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Explore Column */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4\">\r\n              Explore\r\n            </h3>\r\n            <ul className=\"space-y-3\">\r\n              {['Destinations', 'Deals & Offers', 'Weekend Getaways', 'Business Travel', 'Luxury Collection', 'Boutique Hotels'].map((item) => (\r\n                <li key={item}>\r\n                  <Link to=\"#\" className=\"text-sm text-gray-600 hover:text-blue-600 transition-colors\">\r\n                    {item}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Services Column */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4\">\r\n              Services\r\n            </h3>\r\n            <ul className=\"space-y-3\">\r\n              {['Rewards Program', 'Gift Cards', 'Group Bookings', 'Meeting Rooms', 'Wedding Venues', 'Travel Insurance'].map((item) => (\r\n                <li key={item}>\r\n                  <Link to=\"#\" className=\"text-sm text-gray-600 hover:text-blue-600 transition-colors\">\r\n                    {item}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Support Column */}\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4\">\r\n              Support\r\n            </h3>\r\n            <ul className=\"space-y-3\">\r\n              {['Help Center', 'Contact Us', 'Cancel Booking', 'Modify Booking', 'FAQs', 'Feedback'].map((item) => (\r\n                <li key={item}>\r\n                  <Link to=\"#\" className=\"text-sm text-gray-600 hover:text-blue-600 transition-colors\">\r\n                    {item}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n\r\n            {/* Contact Info */}\r\n            <div className=\"mt-6 space-y-2\">\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                <Phone className=\"h-4 w-4\" />\r\n                <span>1-888-HOTELS</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                <Mail className=\"h-4 w-4\" />\r\n                <span>support@vibehotels.com</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Payment Methods & Legal */}\r\n        <div className=\"mt-12 pt-8 border-t border-gray-200\">\r\n          <div className=\"flex flex-col md:flex-row justify-between items-center gap-6\">\r\n            {/* Payment Methods */}\r\n            <div className=\"flex items-center gap-4\">\r\n              <span className=\"text-xs text-gray-500 uppercase tracking-wider\">We Accept</span>\r\n              <div className=\"flex items-center gap-3\">\r\n                {paymentMethods.map((method) => (\r\n                  <div\r\n                    key={method.name}\r\n                    className=\"bg-white border border-gray-200 rounded px-3 py-1 flex items-center justify-center\"\r\n                    title={method.name}\r\n                  >\r\n                    <span className=\"text-lg\">{method.icon}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Language & Currency */}\r\n            <div className=\"flex items-center gap-4\">\r\n              <button className=\"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600 transition-colors\">\r\n                <Globe className=\"h-4 w-4\" />\r\n                <span>English (US)</span>\r\n              </button>\r\n              <button className=\"text-sm text-gray-600 hover:text-blue-600 transition-colors\">\r\n                $ USD\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Copyright & Legal Links */}\r\n          <div className=\"mt-6 pt-6 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4\">\r\n            <div className=\"text-xs text-gray-500\">\r\n               2025 Vibe Hotels International. All rights reserved. Vibe Hotels is a registered trademark.\r\n            </div>\r\n            <div className=\"flex items-center gap-6 text-xs\">\r\n              {['Privacy Policy', 'Terms of Use', 'Cookie Preferences', 'Sitemap', 'Accessibility'].map((link) => (\r\n                <Link\r\n                  key={link}\r\n                  to=\"#\"\r\n                  className=\"text-gray-500 hover:text-blue-600 transition-colors\"\r\n                >\r\n                  {link}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Partner Logos */}\r\n          <div className=\"mt-6 flex items-center justify-center gap-8 opacity-50 grayscale\">\r\n            <span className=\"text-xs text-gray-400\">Our Partners:</span>\r\n            <span className=\"text-sm font-semibold text-gray-400\">TripAdvisor</span>\r\n            <span className=\"text-sm font-semibold text-gray-400\">Kayak</span>\r\n            <span className=\"text-sm font-semibold text-gray-400\">Expedia</span>\r\n            <span className=\"text-sm font-semibold text-gray-400\">Hotels.com</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}","import React from 'react';\r\nimport { PremiumHeader } from './PremiumHeader';\r\nimport { ProfessionalFooter } from './ProfessionalFooter';\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport function Layout({ children }: LayoutProps) {\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col\">\r\n      <PremiumHeader />\r\n      <main className=\"flex-1\">\r\n        {children}\r\n      </main>\r\n      <ProfessionalFooter />\r\n    </div>\r\n  );\r\n}","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    prefix\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  const prefixedClassGroupEntries = getPrefixedClassGroupEntries(Object.entries(config.classGroups), prefix);\n  prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n    processClassesRecursively(classGroup, classMap, classGroupId, theme);\n  });\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\nconst getPrefixedClassGroupEntries = (classGroupEntries, prefix) => {\n  if (!prefix) {\n    return classGroupEntries;\n  }\n  return classGroupEntries.map(([classGroupId, classGroup]) => {\n    const prefixedClassGroup = classGroup.map(classDefinition => {\n      if (typeof classDefinition === 'string') {\n        return prefix + classDefinition;\n      }\n      if (typeof classDefinition === 'object') {\n        return Object.fromEntries(Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]));\n      }\n      return classDefinition;\n    });\n    return [classGroupId, prefixedClassGroup];\n  });\n};\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst createParseClassName = config => {\n  const {\n    separator,\n    experimentalParseClassName\n  } = config;\n  const isSeparatorSingleCharacter = separator.length === 1;\n  const firstSeparatorCharacter = separator[0];\n  const separatorLength = separator.length;\n  // parseClassName inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n  const parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0) {\n        if (currentCharacter === firstSeparatorCharacter && (isSeparatorSingleCharacter || className.slice(index, index + separatorLength) === separator)) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + separatorLength;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const hasImportantModifier = baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER);\n    const baseClassName = hasImportantModifier ? baseClassNameWithImportantModifier.substring(1) : baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (experimentalParseClassName) {\n    return className => experimentalParseClassName({\n      className,\n      parseClassName\n    });\n  }\n  return parseClassName;\n};\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst sortModifiers = modifiers => {\n  if (modifiers.length <= 1) {\n    return modifiers;\n  }\n  const sortedModifiers = [];\n  let unsortedModifiers = [];\n  modifiers.forEach(modifier => {\n    const isArbitraryVariant = modifier[0] === '[';\n    if (isArbitraryVariant) {\n      sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n      unsortedModifiers = [];\n    } else {\n      unsortedModifiers.push(modifier);\n    }\n  });\n  sortedModifiers.push(...unsortedModifiers.sort());\n  return sortedModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    let hasPostfixModifier = Boolean(maybePostfixModifierPosition);\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst stringLengths = /*#__PURE__*/new Set(['px', 'full', 'screen']);\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isLength = value => isNumber(value) || stringLengths.has(value) || fractionRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, 'length', isLengthOnly);\nconst isNumber = value => Boolean(value) && !Number.isNaN(Number(value));\nconst isArbitraryNumber = value => getIsArbitraryValue(value, 'number', isNumber);\nconst isInteger = value => Boolean(value) && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst sizeLabels = /*#__PURE__*/new Set(['length', 'size', 'percentage']);\nconst isArbitrarySize = value => getIsArbitraryValue(value, sizeLabels, isNever);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, 'position', isNever);\nconst imageLabels = /*#__PURE__*/new Set(['image', 'url']);\nconst isArbitraryImage = value => getIsArbitraryValue(value, imageLabels, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, '', isShadow);\nconst isAny = () => true;\nconst getIsArbitraryValue = (value, label, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return typeof label === 'string' ? result[1] === label : label.has(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isInteger,\n  isLength,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  const colors = fromTheme('colors');\n  const spacing = fromTheme('spacing');\n  const blur = fromTheme('blur');\n  const brightness = fromTheme('brightness');\n  const borderColor = fromTheme('borderColor');\n  const borderRadius = fromTheme('borderRadius');\n  const borderSpacing = fromTheme('borderSpacing');\n  const borderWidth = fromTheme('borderWidth');\n  const contrast = fromTheme('contrast');\n  const grayscale = fromTheme('grayscale');\n  const hueRotate = fromTheme('hueRotate');\n  const invert = fromTheme('invert');\n  const gap = fromTheme('gap');\n  const gradientColorStops = fromTheme('gradientColorStops');\n  const gradientColorStopPositions = fromTheme('gradientColorStopPositions');\n  const inset = fromTheme('inset');\n  const margin = fromTheme('margin');\n  const opacity = fromTheme('opacity');\n  const padding = fromTheme('padding');\n  const saturate = fromTheme('saturate');\n  const scale = fromTheme('scale');\n  const sepia = fromTheme('sepia');\n  const skew = fromTheme('skew');\n  const space = fromTheme('space');\n  const translate = fromTheme('translate');\n  const getOverscroll = () => ['auto', 'contain', 'none'];\n  const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing];\n  const getSpacingWithArbitrary = () => [isArbitraryValue, spacing];\n  const getLengthWithEmptyAndArbitrary = () => ['', isLength, isArbitraryLength];\n  const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue];\n  const getPositions = () => ['bottom', 'center', 'left', 'left-bottom', 'left-top', 'right', 'right-bottom', 'right-top', 'top'];\n  const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'];\n  const getBlendModes = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const getAlign = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'];\n  const getZeroAndEmpty = () => ['', '0', isArbitraryValue];\n  const getBreaks = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const getNumberAndArbitrary = () => [isNumber, isArbitraryValue];\n  return {\n    cacheSize: 500,\n    separator: ':',\n    theme: {\n      colors: [isAny],\n      spacing: [isLength, isArbitraryLength],\n      blur: ['none', '', isTshirtSize, isArbitraryValue],\n      brightness: getNumberAndArbitrary(),\n      borderColor: [colors],\n      borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n      borderSpacing: getSpacingWithArbitrary(),\n      borderWidth: getLengthWithEmptyAndArbitrary(),\n      contrast: getNumberAndArbitrary(),\n      grayscale: getZeroAndEmpty(),\n      hueRotate: getNumberAndArbitrary(),\n      invert: getZeroAndEmpty(),\n      gap: getSpacingWithArbitrary(),\n      gradientColorStops: [colors],\n      gradientColorStopPositions: [isPercent, isArbitraryLength],\n      inset: getSpacingWithAutoAndArbitrary(),\n      margin: getSpacingWithAutoAndArbitrary(),\n      opacity: getNumberAndArbitrary(),\n      padding: getSpacingWithArbitrary(),\n      saturate: getNumberAndArbitrary(),\n      scale: getNumberAndArbitrary(),\n      sepia: getZeroAndEmpty(),\n      skew: getNumberAndArbitrary(),\n      space: getSpacingWithArbitrary(),\n      translate: getSpacingWithArbitrary()\n    },\n    classGroups: {\n      // Layout\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', 'video', isArbitraryValue]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isTshirtSize]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': getBreaks()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': getBreaks()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: [...getPositions(), isArbitraryValue]\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: getOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': getOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': getOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': getOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: [inset]\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': [inset]\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': [inset]\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: [inset]\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: [inset]\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: [inset]\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: [inset]\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: [inset]\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: [inset]\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: ['auto', isInteger, isArbitraryValue]\n      }],\n      // Flexbox and Grid\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: getSpacingWithAutoAndArbitrary()\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['wrap', 'wrap-reverse', 'nowrap']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: ['1', 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: getZeroAndEmpty()\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: getZeroAndEmpty()\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: ['first', 'last', 'none', isInteger, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': [isAny]\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: ['auto', {\n          span: ['full', isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': [isAny]\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: ['auto', {\n          span: [isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: [gap]\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': [gap]\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': [gap]\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: ['normal', ...getAlign()]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': ['start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...getAlign(), 'baseline']\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline']\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': [...getAlign(), 'baseline']\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: [padding]\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: [padding]\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: [padding]\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: [padding]\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: [padding]\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: [padding]\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: [padding]\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: [padding]\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: [padding]\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: [margin]\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: [margin]\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: [margin]\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: [margin]\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: [margin]\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: [margin]\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: [margin]\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: [margin]\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: [margin]\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x': [{\n        'space-x': [space]\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y': [{\n        'space-y': [space]\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // Sizing\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: ['auto', 'min', 'max', 'fit', 'svw', 'lvw', 'dvw', isArbitraryValue, spacing]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [isArbitraryValue, spacing, 'min', 'max', 'fit']\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [isArbitraryValue, spacing, 'none', 'full', 'min', 'max', 'fit', 'prose', {\n          screen: [isTshirtSize]\n        }, isTshirtSize]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/size\n       */\n      size: [{\n        size: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit']\n      }],\n      // Typography\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', isTshirtSize, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black', isArbitraryNumber]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isAny]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest', isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': ['none', isNumber, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose', isLength, isArbitraryValue]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryValue]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['none', 'disc', 'decimal', isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: [colors]\n      }],\n      /**\n       * Placeholder Opacity\n       * @see https://tailwindcss.com/docs/placeholder-opacity\n       */\n      'placeholder-opacity': [{\n        'placeholder-opacity': [opacity]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: [colors]\n      }],\n      /**\n       * Text Opacity\n       * @see https://tailwindcss.com/docs/text-opacity\n       */\n      'text-opacity': [{\n        'text-opacity': [opacity]\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...getLineStyles(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: ['auto', 'from-font', isLength, isArbitraryLength]\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': ['auto', isLength, isArbitraryValue]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: [colors]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: getSpacingWithArbitrary()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryValue]\n      }],\n      // Backgrounds\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Opacity\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/background-opacity\n       */\n      'bg-opacity': [{\n        'bg-opacity': [opacity]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: [...getPositions(), isArbitraryPosition]\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: ['no-repeat', {\n          repeat: ['', 'x', 'y', 'round', 'space']\n        }]\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: ['auto', 'cover', 'contain', isArbitrarySize]\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n        }, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: [colors]\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: [gradientColorStops]\n      }],\n      // Borders\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: [borderRadius]\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': [borderRadius]\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': [borderRadius]\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': [borderRadius]\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': [borderRadius]\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': [borderRadius]\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': [borderRadius]\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': [borderRadius]\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': [borderRadius]\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': [borderRadius]\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: [borderWidth]\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': [borderWidth]\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': [borderWidth]\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': [borderWidth]\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': [borderWidth]\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': [borderWidth]\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': [borderWidth]\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': [borderWidth]\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': [borderWidth]\n      }],\n      /**\n       * Border Opacity\n       * @see https://tailwindcss.com/docs/border-opacity\n       */\n      'border-opacity': [{\n        'border-opacity': [opacity]\n      }],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...getLineStyles(), 'hidden']\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x': [{\n        'divide-x': [borderWidth]\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y': [{\n        'divide-y': [borderWidth]\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Divide Opacity\n       * @see https://tailwindcss.com/docs/divide-opacity\n       */\n      'divide-opacity': [{\n        'divide-opacity': [opacity]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/divide-style\n       */\n      'divide-style': [{\n        divide: getLineStyles()\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: [borderColor]\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': [borderColor]\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': [borderColor]\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': [borderColor]\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': [borderColor]\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': [borderColor]\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': [borderColor]\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': [borderColor]\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': [borderColor]\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: [borderColor]\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: ['', ...getLineStyles()]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isLength, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: [isLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: [colors]\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w': [{\n        ring: getLengthWithEmptyAndArbitrary()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/ring-color\n       */\n      'ring-color': [{\n        ring: [colors]\n      }],\n      /**\n       * Ring Opacity\n       * @see https://tailwindcss.com/docs/ring-opacity\n       */\n      'ring-opacity': [{\n        'ring-opacity': [opacity]\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://tailwindcss.com/docs/ring-offset-width\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isLength, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://tailwindcss.com/docs/ring-offset-color\n       */\n      'ring-offset-color': [{\n        'ring-offset': [colors]\n      }],\n      // Effects\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow-color\n       */\n      'shadow-color': [{\n        shadow: [isAny]\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [opacity]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...getBlendModes(), 'plus-lighter', 'plus-darker']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': getBlendModes()\n      }],\n      // Filters\n      /**\n       * Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: ['', 'none']\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: [blur]\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [brightness]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [contrast]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue]\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [grayscale]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [hueRotate]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [invert]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [saturate]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [sepia]\n      }],\n      /**\n       * Backdrop Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': ['', 'none']\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': [blur]\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [brightness]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [contrast]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': [grayscale]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [hueRotate]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': [invert]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [opacity]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [saturate]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': [sepia]\n      }],\n      // Tables\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': [borderSpacing]\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': [borderSpacing]\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': [borderSpacing]\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // Transitions and Animation\n      /**\n       * Tranisition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['none', 'all', '', 'colors', 'opacity', 'shadow', 'transform', isArbitraryValue]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: getNumberAndArbitrary()\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: getNumberAndArbitrary()\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue]\n      }],\n      // Transforms\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: ['', 'gpu', 'none']\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: [scale]\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': [scale]\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': [scale]\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: [isInteger, isArbitraryValue]\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': [translate]\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': [translate]\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': [skew]\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': [skew]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: ['center', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', isArbitraryValue]\n      }],\n      // Interactivity\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: ['auto', colors]\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryValue]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: [colors]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['none', 'auto']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', 'y', 'x', '']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue]\n      }],\n      // SVG\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [colors, 'none']\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [colors, 'none']\n      }],\n      // Accessibility\n      /**\n       * Screen Readers\n       * @see https://tailwindcss.com/docs/screen-readers\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    }\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  separator,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'separator', separator);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  for (const configKey in override) {\n    overrideConfigProperties(baseConfig[configKey], override[configKey]);\n  }\n  for (const key in extend) {\n    mergeConfigProperties(baseConfig[key], extend[key]);\n  }\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      const mergeValue = mergeObject[key];\n      if (mergeValue !== undefined) {\n        baseObject[key] = (baseObject[key] || []).concat(mergeValue);\n      }\n    }\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { type ClassValue, clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}","import type { ButtonHTMLAttributes} from 'react';\r\nimport { forwardRef } from 'react';\r\nimport { cn } from '../../utils/cn';\r\n\r\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'destructive' | 'accent';\r\n  size?: 'sm' | 'md' | 'lg' | 'icon';\r\n  loading?: boolean;\r\n}\r\n\r\nexport const buttonVariants = {\r\n  base: 'inline-flex items-center justify-center rounded-xl font-semibold transition-all duration-300 transform focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-40 hover:scale-105 active:scale-95 disabled:transform-none',\r\n  variants: {\r\n    primary: 'bg-gradient-to-r from-slate-800 to-slate-700 text-white hover:from-slate-700 hover:to-slate-600 focus-visible:ring-slate-500 shadow-luxury hover:shadow-luxury-lg',\r\n    secondary: 'bg-gradient-to-r from-amber-600 to-amber-700 text-white hover:from-amber-700 hover:to-amber-800 focus-visible:ring-amber-500 shadow-luxury hover:shadow-luxury-lg',\r\n    outline: 'border-2 border-slate-300 bg-transparent text-slate-700 hover:bg-slate-800 hover:text-white hover:border-slate-800 focus-visible:ring-slate-500 shadow-luxury-sm hover:shadow-luxury',\r\n    ghost: 'hover:bg-slate-100 hover:text-slate-800 focus-visible:ring-slate-400 rounded-lg',\r\n    destructive: 'bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500 shadow-luxury hover:shadow-luxury-lg',\r\n    accent: 'bg-gradient-to-r from-emerald-600 to-emerald-700 text-white hover:from-emerald-700 hover:to-emerald-800 focus-visible:ring-emerald-500 shadow-luxury hover:shadow-luxury-lg',\r\n  },\r\n  sizes: {\r\n    sm: 'h-9 px-4 text-sm font-medium',\r\n    md: 'h-11 px-6 text-base',\r\n    lg: 'h-14 px-8 text-lg font-bold',\r\n    icon: 'h-9 w-9 p-0',\r\n  },\r\n};\r\n\r\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant = 'primary', size = 'md', loading, children, disabled, ...props }, ref) => {\r\n    return (\r\n      <button\r\n        ref={ref}\r\n        className={cn(\r\n          buttonVariants.base,\r\n          buttonVariants.variants[variant],\r\n          buttonVariants.sizes[size],\r\n          className,\r\n        )}\r\n        disabled={disabled || loading}\r\n        {...props}\r\n      >\r\n        {loading && (\r\n          <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n          </svg>\r\n        )}\r\n        {children}\r\n      </button>\r\n    );\r\n  },\r\n);\r\n\r\nButton.displayName = 'Button';\r\n","import React from 'react';\r\nimport { cn } from '@/utils/cn';\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCard.displayName = 'Card';\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = 'CardHeader';\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      'text-2xl font-semibold leading-none tracking-tight',\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCardTitle.displayName = 'CardTitle';\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn('text-sm text-muted-foreground', className)}\r\n    {...props}\r\n  />\r\n));\r\nCardDescription.displayName = 'CardDescription';\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\r\n));\r\nCardContent.displayName = 'CardContent';\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex items-center p-6 pt-0', className)}\r\n    {...props}\r\n  />\r\n));\r\nCardFooter.displayName = 'CardFooter';\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };","import { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport type { HotelStore } from './types';\n\nexport const useHotelStore = create<HotelStore>()(\n  devtools(\n    (set, get) => ({\n      // Initial state\n      selectedHotel: null,\n      hotelDetails: {},\n      availability: {},\n      cache: {\n        hotels: {},\n        lastUpdated: {},\n      },\n      loading: {},\n      errors: {},\n\n      // Actions\n      setSelectedHotel: (hotel) => set({ selectedHotel: hotel }),\n\n      setHotelDetails: (hotelId, details) =>\n        set((state) => ({\n          hotelDetails: {\n            ...state.hotelDetails,\n            [hotelId]: details,\n          },\n        })),\n\n      setAvailability: (hotelId, availability) =>\n        set((state) => ({\n          availability: {\n            ...state.availability,\n            [hotelId]: availability,\n          },\n        })),\n\n      setCachedHotel: (hotel) =>\n        set((state) => ({\n          cache: {\n            ...state.cache,\n            hotels: {\n              ...state.cache.hotels,\n              [hotel.id]: hotel,\n            },\n            lastUpdated: {\n              ...state.cache.lastUpdated,\n              [hotel.id]: new Date().toISOString(),\n            },\n          },\n        })),\n\n      setLoading: (hotelId, loading) =>\n        set((state) => ({\n          loading: {\n            ...state.loading,\n            [hotelId]: loading,\n          },\n        })),\n\n      setError: (hotelId, error) =>\n        set((state) => ({\n          errors: {\n            ...state.errors,\n            [hotelId]: error || '',\n          },\n        })),\n\n      clearCache: () =>\n        set({\n          cache: {\n            hotels: {},\n            lastUpdated: {},\n          },\n        }),\n\n      getCachedHotel: (hotelId) => {\n        const state = get();\n        return state.cache.hotels[hotelId] || null;\n      },\n\n      isHotelCached: (hotelId, maxAge = 5 * 60 * 1000) => {\n        const state = get();\n        const lastUpdated = state.cache.lastUpdated[hotelId];\n        if (!lastUpdated) {\nreturn false;\n}\n\n        const age = Date.now() - new Date(lastUpdated).getTime();\n        return age < maxAge;\n      },\n    }),\n    { name: 'HotelStore' },\n  ),\n);","import React, { useState, memo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  ArrowLeft,\r\n  Star,\r\n  MapPin,\r\n  Heart,\r\n  Share2,\r\n  Calendar,\r\n  Users,\r\n  Sparkles,\r\n  Shield,\r\n  Leaf,\r\n  Camera,\r\n  Play,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Clock,\r\n  Check,\r\n  X,\r\n} from 'lucide-react';\r\nimport { Button } from '../ui/Button';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { useHotelStore } from '@/store/hotelStore';\r\nimport { useSearchStore } from '@/store/searchStore';\r\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\r\nimport type { HotelDetails } from '@/types/hotel';\r\nimport { cn } from '@/utils/cn';\r\nimport './HotelDetails.css';\r\n\r\ninterface HotelDetailsProps {\r\n  hotelId?: string;\r\n  hotel?: HotelDetails;\r\n  isLoading?: boolean;\r\n  onBookRoom?: (roomId: string) => void;\r\n  onBackToResults?: () => void;\r\n  className?: string;\r\n}\r\n\r\nconst HotelDetails: React.FC<HotelDetailsProps> = ({\r\n  // hotelId removed (unused)\r\n  hotel: providedHotel,\r\n  isLoading = false,\r\n  onBookRoom,\r\n  onBackToResults,\r\n  className = '',\r\n}) => {\r\n  const navigate = useNavigate();\r\n  const { selectedHotel, loading: hotelLoading, setSelectedHotel } = useHotelStore();\r\n  const { selectedDateRange, guestCount } = useSearchStore();\r\n\r\n  const hotel = (providedHotel || selectedHotel) as HotelDetails | null;\r\n  const loading = isLoading || hotelLoading;\r\n\r\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'rooms' | 'amenities' | 'location' | 'reviews'>('rooms');\r\n  const [showAllImages, setShowAllImages] = useState(false);\r\n\r\n  const renderStars = (rating: number) => {\r\n    return (\r\n      <div className=\"flex items-center gap-1\">\r\n  {[...Array(5)].map((_, i) => (\r\n          <Star\r\n            key={i}\r\n            className={cn(\r\n              'w-5 h-5',\r\n              i < Math.floor(rating)\r\n                ? 'text-yellow-400 fill-current'\r\n    : 'text-gray-300',\r\n            )}\r\n          />\r\n        ))}\r\n        <span className=\"ml-2 text-lg font-medium text-gray-700 dark:text-gray-300\">\r\n          {rating.toFixed(1)}\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getPassionScoreColor = (score: number) => {\r\n    if (score >= 0.8) {\r\n      return 'from-purple-500 to-pink-500';\r\n    }\r\n    if (score >= 0.6) {\r\n      return 'from-secondary-500 to-purple-500';\r\n    }\r\n    if (score >= 0.4) {\r\n      return 'from-accent-500 to-secondary-500';\r\n    }\r\n    return 'from-gray-400 to-gray-500';\r\n  };\r\n\r\n  const formatPrice = (price: number, currency: string = 'USD') => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency,\r\n    }).format(price);\r\n  };\r\n\r\n  if (!hotel) {\r\n    return (\r\n      <div className={cn('text-center py-12', className)}>\r\n        <div className=\"max-w-md mx-auto\">\r\n          <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center\">\r\n            <MapPin className=\"w-8 h-8 text-gray-400\" />\r\n          </div>\r\n          <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\r\n            Hotel not found\r\n          </h3>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n            The hotel you're looking for doesn't exist or has been removed.\r\n          </p>\r\n          <Button onClick={onBackToResults} variant=\"outline\">\r\n            Back to Results\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={cn('animate-pulse space-y-6', className)}>\r\n        <div className=\"h-96 bg-gray-300 dark:bg-gray-600 rounded-lg\"></div>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"h-8 bg-gray-300 dark:bg-gray-600 rounded w-3/4\"></div>\r\n          <div className=\"h-4 bg-gray-300 dark:bg-gray-600 rounded w-1/2\"></div>\r\n          <div className=\"h-32 bg-gray-300 dark:bg-gray-600 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const maxPassionScore = hotel.passionScore\r\n    ? Math.max(...Object.values(hotel.passionScore))\r\n    : 0;\r\n  // const primaryImage = hotel.images?.find((img) => img.isPrimary) || hotel.images?.[0];\r\n  const totalNights =\r\n    selectedDateRange.checkIn && selectedDateRange.checkOut\r\n      ? Math.ceil(\r\n          (new Date(selectedDateRange.checkOut).getTime() -\r\n            new Date(selectedDateRange.checkIn).getTime()) /\r\n            (1000 * 60 * 60 * 24),\r\n        )\r\n      : 1;\r\n\r\n  return (\r\n    <div className={cn('max-w-7xl mx-auto', className)}>\r\n      {/* Back Button & Actions */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        {onBackToResults && (\r\n          <Button\r\n            onClick={onBackToResults}\r\n            variant=\"ghost\"\r\n            className=\"text-primary-600 hover:text-primary-800\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5 mr-2\" />\r\n            Back to Results\r\n          </Button>\r\n        )}\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          {maxPassionScore > 0.6 && (\r\n            <div\r\n              className={cn(\r\n                'bg-gradient-to-r text-white px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1',\r\n                getPassionScoreColor(maxPassionScore),\r\n              )}\r\n            >\r\n              <Sparkles className=\"w-4 h-4\" />\r\n              {Math.round(maxPassionScore * 100)}% Passion Match\r\n            </div>\r\n          )}\r\n\r\n          {hotel.sustainabilityScore && hotel.sustainabilityScore > 0.8 && (\r\n            <div className=\"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1\">\r\n              <Leaf className=\"w-4 h-4\" />\r\n              Eco-Friendly\r\n            </div>\r\n          )}\r\n\r\n          <Button variant=\"outline\" size=\"icon\">\r\n            <Heart className=\"w-4 h-4\" />\r\n          </Button>\r\n\r\n          <Button variant=\"outline\" size=\"icon\">\r\n            <Share2 className=\"w-4 h-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Hotel Images */}\r\n      <div className=\"relative mb-8\">\r\n        {!showAllImages ? (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4\">\r\n            <div className=\"lg:col-span-3 relative group\">\r\n              <img\r\n                src={hotel.images[selectedImageIndex]?.url || '/placeholder-hotel.jpg'}\r\n                alt={hotel.images[selectedImageIndex]?.alt || hotel.name}\r\n                className=\"w-full h-96 object-cover rounded-lg\"\r\n                onError={(e) => {\r\n                  (e.target as HTMLImageElement).src = '/placeholder-hotel.jpg';\r\n                }}\r\n              />\r\n\r\n              {/* Image Navigation */}\r\n              {hotel.images.length > 1 && (\r\n                <>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    size=\"icon\"\r\n                    className=\"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                    onClick={() =>\r\n                      setSelectedImageIndex(\r\n                        selectedImageIndex > 0\r\n                          ? selectedImageIndex - 1\r\n                          : hotel.images.length - 1,\r\n                      )\r\n                    }\r\n                  >\r\n                    <ChevronLeft className=\"w-5 h-5\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    size=\"icon\"\r\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                    onClick={() =>\r\n                      setSelectedImageIndex(\r\n                        selectedImageIndex < hotel.images.length - 1\r\n                          ? selectedImageIndex + 1\r\n                          : 0,\r\n                      )\r\n                    }\r\n                  >\r\n                    <ChevronRight className=\"w-5 h-5\" />\r\n                  </Button>\r\n                </>\r\n              )}\r\n\r\n              {/* Virtual Tour */}\r\n              {hotel.virtualTourUrl && (\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  className=\"absolute bottom-4 left-4 bg-black/50 hover:bg-black/70 text-white\"\r\n                  onClick={() => window.open(hotel.virtualTourUrl, '_blank')}\r\n                >\r\n                  <Play className=\"w-4 h-4 mr-2\" />\r\n                  Virtual Tour\r\n                </Button>\r\n              )}\r\n\r\n              {/* Image Counter */}\r\n              <div className=\"absolute bottom-4 right-4 bg-black/50 text-white px-2 py-1 rounded text-sm\">\r\n                {selectedImageIndex + 1} / {hotel.images.length}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 lg:grid-cols-1 gap-2\">\r\n              {hotel.images.slice(1, 4).map((image, index) => (\r\n                <div key={index + 1} className=\"relative group cursor-pointer\">\r\n                  <img\r\n                    src={image.url}\r\n                    alt={image.alt}\r\n                    className=\"w-full h-28 lg:h-32 object-cover rounded-lg group-hover:opacity-80 transition-opacity\"\r\n                    onClick={() => setSelectedImageIndex(index + 1)}\r\n                    onError={(e) => {\r\n                      (e.target as HTMLImageElement).src = '/placeholder-hotel.jpg';\r\n                    }}\r\n                  />\r\n                  {index === 2 && hotel.images.length > 4 && (\r\n                    <div\r\n                      className=\"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center text-white font-medium cursor-pointer\"\r\n                      onClick={() => setShowAllImages(true)}\r\n                    >\r\n                      <Camera className=\"w-5 h-5 mr-2\" />\r\n                      View All {hotel.images.length} Photos\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n            {hotel.images.map((image, index) => (\r\n              <div key={index} className=\"relative group cursor-pointer\">\r\n                <img\r\n                  src={image.url}\r\n                  alt={image.alt}\r\n                  className=\"w-full h-48 object-cover rounded-lg group-hover:opacity-80 transition-opacity\"\r\n                  onClick={() => {\r\n                    setSelectedImageIndex(index);\r\n                    setShowAllImages(false);\r\n                  }}\r\n                  onError={(e) => {\r\n                    (e.target as HTMLImageElement).src = '/placeholder-hotel.jpg';\r\n                  }}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {showAllImages && (\r\n          <Button\r\n            onClick={() => setShowAllImages(false)}\r\n            variant=\"outline\"\r\n            className=\"mt-4\"\r\n          >\r\n            <X className=\"w-4 h-4 mr-2\" />\r\n            Close Gallery\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Hotel Header */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-6\">\r\n          <div className=\"flex-1\">\r\n            <h1 className=\"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-3\">\r\n              {hotel.name}\r\n            </h1>\r\n            <div className=\"flex items-center gap-2 text-gray-600 dark:text-gray-400 mb-3\">\r\n              <MapPin className=\"w-5 h-5\" />\r\n              <span className=\"text-lg\">\r\n                {hotel.location.address}, {hotel.location.city},\r\n                {' '}\r\n                {hotel.location.country}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-4 mb-4\">\r\n              {renderStars(hotel.rating)}\r\n              <span className=\"text-gray-600 dark:text-gray-400\">\r\n                ({hotel.reviewCount.toLocaleString()} reviews)\r\n              </span>\r\n            </div>\r\n\r\n            {/* Quick Info */}\r\n            <div className=\"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <Clock className=\"w-4 h-4\" />\r\n                Check-in: {hotel.checkInTime}\r\n              </div>\r\n              <div className=\"flex items-center gap-1\">\r\n                <Clock className=\"w-4 h-4\" />\r\n                Check-out: {hotel.checkOutTime}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Booking Card */}\r\n          <Card className=\"w-full lg:w-96 p-6 lg:sticky lg:top-6\">\r\n            <div className=\"text-center mb-4\">\r\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">From</div>\r\n              <div className=\"text-3xl font-bold text-primary-600\">\r\n                {formatPrice(hotel.priceRange.avgNightly, hotel.priceRange.currency)}\r\n              </div>\r\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">per night</div>\r\n              {totalNights > 1 && (\r\n                <div className=\"text-lg font-semibold text-gray-900 dark:text-white mt-2\">\r\n                  Total:{' '}\r\n                  {formatPrice(\r\n                    hotel.priceRange.avgNightly * totalNights,\r\n                    hotel.priceRange.currency,\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Date & Guest Info */}\r\n            {selectedDateRange.checkIn && selectedDateRange.checkOut && (\r\n              <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4\">\r\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                  <div>\r\n                    <div className=\"text-gray-600 dark:text-gray-400\">Check-in</div>\r\n                    <div className=\"font-medium\">{selectedDateRange.checkIn}</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-gray-600 dark:text-gray-400\">Check-out</div>\r\n                    <div className=\"font-medium\">{selectedDateRange.checkOut}</div>\r\n                  </div>\r\n                  <div className=\"col-span-2\">\r\n                    <div className=\"text-gray-600 dark:text-gray-400\">Guests</div>\r\n                    <div className=\"font-medium\">\r\n                      {guestCount.adults} adults{guestCount.children > 0 && `, ${guestCount.children} children`}  {guestCount.rooms} room{guestCount.rooms > 1 ? 's' : ''}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <Button\r\n              className=\"w-full mb-3\"\r\n              size=\"lg\"\r\n              onClick={() => {\r\n                if (hotel) {\r\n                  setSelectedHotel(hotel);\r\n                  navigate('/booking');\r\n                }\r\n              }}\r\n            >\r\n              <Calendar className=\"w-4 h-4 mr-2\" />\r\n              Book Now\r\n            </Button>\r\n\r\n            <Button variant=\"outline\" className=\"w-full\">\r\n              <Users className=\"w-4 h-4 mr-2\" />\r\n              View Rooms\r\n            </Button>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"border-b border-gray-200 dark:border-gray-700 mb-8\">\r\n        <nav className=\"flex space-x-8 overflow-x-auto\">\r\n          {[\r\n            { id: 'overview', label: 'Overview', icon: null },\r\n            { id: 'rooms', label: 'Rooms & Rates', icon: null },\r\n            { id: 'amenities', label: 'Amenities', icon: null },\r\n            { id: 'location', label: 'Location', icon: MapPin },\r\n            { id: 'reviews', label: 'Reviews', icon: Star },\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as typeof activeTab)}\r\n              className={cn(\r\n                'flex items-center gap-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap',\r\n                activeTab === tab.id\r\n                  ? 'border-primary-600 text-primary-600'\r\n                  : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600',\r\n              )}\r\n            >\r\n              {tab.icon && <tab.icon className=\"w-4 h-4\" />}\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"mb-8\">\r\n        {activeTab === 'overview' && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n            <div className=\"lg:col-span-2\">\r\n              <h3 className=\"text-xl font-semibold mb-4\">About This Hotel</h3>\r\n              <p className=\"text-gray-700 dark:text-gray-300 mb-6 leading-relaxed\">\r\n                {hotel.fullDescription || hotel.description}\r\n              </p>\r\n\r\n              {/* Passion Scores */}\r\n              {hotel.passionScore && Object.keys(hotel.passionScore).length > 0 && (\r\n                <div className=\"mb-6\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-3\">Perfect For</h4>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                    {Object.entries(hotel.passionScore)\r\n                      .filter(([_, score]) => score > 0.3)\r\n                      .sort(([_, a], [__, b]) => b - a)\r\n                      .map(([passion, score]) => (\r\n                        <div key={passion} className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n                          <span className=\"font-medium text-gray-900 dark:text-white capitalize\">\r\n                            {passion.replace(/([A-Z])/g, ' $1').trim()}\r\n                          </span>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-16 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden\">\r\n                              <div\r\n                                className={cn(\r\n                                  'h-full bg-gradient-to-r transition-all duration-500 passion-bar',\r\n                                  getPassionScoreColor(score),\r\n                                )}\r\n                                data-width={score * 100}\r\n                              />\r\n                            </div>\r\n                            <span className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                              {Math.round(score * 100)}%\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <h4 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Hotel Policies</h4>\r\n              <div className=\"space-y-3\">\r\n                {hotel.policies.map(\r\n                  (\r\n                    policy: HotelDetails['policies'][number],\r\n                    index: number,\r\n                  ) => (\r\n                  <div key={index} className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n                    {policy.type === 'cancellation' ? (\r\n                      <Shield className=\"w-5 h-5 text-secondary-500 mt-0.5 flex-shrink-0\" />\r\n                    ) : (\r\n                      <Check className=\"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0\" />\r\n                    )}\r\n                    <div>\r\n                      <div className=\"font-medium text-gray-900 dark:text-white\">{policy.title}</div>\r\n                      <div className=\"text-sm text-gray-600 dark:text-gray-400\">{policy.description}</div>\r\n                    </div>\r\n                  </div>\r\n                  ),\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-6\">\r\n              <Card className=\"p-6\">\r\n                <h4 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Check-in Information</h4>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-gray-600 dark:text-gray-400\">Check-in:</span>\r\n                    <span className=\"font-medium text-gray-900 dark:text-white\">{hotel.checkInTime}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-gray-600 dark:text-gray-400\">Check-out:</span>\r\n                    <span className=\"font-medium text-gray-900 dark:text-white\">{hotel.checkOutTime}</span>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n\r\n              {hotel.sustainabilityScore && hotel.sustainabilityScore > 0.5 && (\r\n                <Card className=\"p-6\">\r\n                  <div className=\"flex items-center gap-3 mb-3\">\r\n                    <Leaf className=\"w-6 h-6 text-green-500\" />\r\n                    <h4 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Sustainability</h4>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <div className=\"flex-1 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden\">\r\n                      <div\r\n                        className=\"h-full bg-green-500 transition-all duration-500 passion-bar\"\r\n                        data-width={hotel.sustainabilityScore * 100}\r\n                      />\r\n                    </div>\r\n                    <span className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                      {Math.round(hotel.sustainabilityScore * 100)}%\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    This hotel has green certifications and follows sustainable practices.\r\n                  </p>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'rooms' && (\r\n          <div className=\"grid gap-6\">\r\n            {hotel.rooms.map((room: HotelDetails['rooms'][number]) => (\r\n              <div key={room.id} className=\"border border-gray-200 rounded-lg p-6\">\r\n                <div className=\"flex flex-col lg:flex-row gap-6\">\r\n                  <div className=\"lg:w-1/3\">\r\n                    <img\r\n                      src={room.images[0] || '/placeholder-room.jpg'}\r\n                      alt={room.name}\r\n                      className=\"w-full h-48 object-cover rounded-lg\"\r\n                      onError={(e) => {\r\n                        (e.target as HTMLImageElement).src = '/placeholder-room.jpg';\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"lg:w-2/3\">\r\n                    <div className=\"flex justify-between items-start mb-4\">\r\n                      <div>\r\n                        <h4 className=\"text-xl font-semibold mb-2\">{room.name}</h4>\r\n                        <p className=\"text-gray-600 mb-2\">{room.description}</p>\r\n                        <div className=\"flex flex-wrap gap-4 text-sm text-gray-600\">\r\n                          <span> Up to {room.capacity} guests</span>\r\n                          <span> {room.type}</span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <div className=\"text-2xl font-bold text-secondary-600\">\r\n                          {formatPrice(room.price, room.currency)}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">per night</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                      <h5 className=\"font-medium mb-2\">Room Amenities:</h5>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {room.amenities.map((amenity: string, index: number) => (\r\n                          <span\r\n                            key={index}\r\n                            className=\"px-2 py-1 bg-secondary-100 text-secondary-800 text-sm rounded-full\"\r\n                          >\r\n                            {amenity}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <button\r\n                      onClick={() => onBookRoom && onBookRoom(room.id)}\r\n                      disabled={!room.availability}\r\n                      className=\"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                    >\r\n                      {room.availability ? 'Book This Room' : 'Not Available'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'amenities' && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {Object.entries(\r\n              hotel.amenities.reduce<\r\n                Record<string, HotelDetails['amenities'][number][]>\r\n              >((acc, amenity) => {\r\n                if (!acc[amenity.category]) {\r\n                  acc[amenity.category] = [];\r\n                }\r\n                acc[amenity.category].push(amenity);\r\n                return acc;\r\n              }, {}),\r\n            ).map(([category, amenities]) => (\r\n              <div key={category} className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                <h4 className=\"text-lg font-semibold mb-4 capitalize\">\r\n                  {category.replace('_', ' ')} Amenities\r\n                </h4>\r\n                <div className=\"space-y-3\">\r\n                  {amenities.map((amenity) => (\r\n                    <div key={amenity.id} className=\"flex items-center\">\r\n                      <span className=\"text-2xl mr-3\">{amenity.icon}</span>\r\n                      <span className=\"text-gray-700\">{amenity.name}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'location' && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n            <div>\r\n              <h4 className=\"text-lg font-semibold mb-4\">Nearby Attractions</h4>\r\n              <div className=\"space-y-3\">\r\n                {hotel.nearbyAttractions.map(\r\n                  (\r\n                    attraction: HotelDetails['nearbyAttractions'][number],\r\n                    index: number,\r\n                  ) => (\r\n                  <div key={index} className=\"flex justify-between items-center p-3 bg-gray-50 rounded-lg\">\r\n                    <div>\r\n                      <div className=\"font-medium text-gray-900\">{attraction.name}</div>\r\n                      <div className=\"text-sm text-gray-600\">{attraction.type}</div>\r\n                    </div>\r\n                    <div className=\"text-sm font-medium text-secondary-600\">\r\n                      {attraction.distance}\r\n                    </div>\r\n                  </div>\r\n                  ),\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <h4 className=\"text-lg font-semibold mb-4\">Map Location</h4>\r\n              <div className=\"h-64 bg-gray-200 rounded-lg flex items-center justify-center\">\r\n                <span className=\"text-gray-500\">Interactive Map Coming Soon</span>\r\n              </div>\r\n              <div className=\"mt-4 text-sm text-gray-600\">\r\n                <strong>Address:</strong> {hotel.location.address}, {hotel.location.city},{' '}\r\n                {hotel.location.country}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(HotelDetails);\r\n","\nimport { useParams } from 'react-router-dom';\nimport HotelDetails from '@/components/hotels/HotelDetails';\n\nexport function HotelDetailsPage() {\n  const { id } = useParams<{ id: string }>();\n\n  if (!id) {\n    return <div>Hotel not found</div>;\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <HotelDetails />\n    </div>\n  );\n}","import type { InputHTMLAttributes} from 'react';\r\nimport { forwardRef, useId } from 'react';\r\nimport { cn } from '../../utils/cn';\r\n\r\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\r\n  variant?: 'default' | 'outline' | 'filled';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  label?: string;\r\n  error?: string;\r\n  hint?: string;\r\n}\r\n\r\nexport const inputVariants = {\r\n  base: 'flex w-full rounded-md border bg-background text-foreground px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n  variants: {\r\n    default: 'border-input',\r\n    outline: 'border-gray-300 focus:border-primary-500',\r\n    filled: 'bg-gray-50 border-transparent focus:bg-white focus:border-primary-500',\r\n  },\r\n  sizes: {\r\n    sm: 'h-8 px-2 text-xs',\r\n    md: 'h-10 px-3 text-sm',\r\n    lg: 'h-12 px-4 text-base',\r\n  },\r\n};\r\n\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, variant = 'default', size = 'md', type, label, error, hint, id, name, ...props }, ref) => {\r\n    // Generate a unique ID if not provided\r\n    const generatedId = useId();\r\n    const inputId = id || generatedId;\r\n    const inputName = name || inputId;\r\n    \r\n    if (label) {\r\n      return (\r\n        <div className=\"space-y-1\">\r\n          <label \r\n            htmlFor={inputId}\r\n            className=\"text-sm font-medium text-foreground\"\r\n          >\r\n            {label}\r\n            {props.required && <span className=\"text-red-500 ml-1\">*</span>}\r\n          </label>\r\n          <input\r\n            id={inputId}\r\n            name={inputName}\r\n            type={type}\r\n            className={cn(\r\n              inputVariants.base,\r\n              inputVariants.variants[variant],\r\n              inputVariants.sizes[size],\r\n              error && 'border-red-500 focus:border-red-500 focus:ring-red-500',\r\n              className,\r\n            )}\r\n            ref={ref}\r\n            aria-invalid={!!error}\r\n            aria-describedby={error ? `${inputId}-error` : hint ? `${inputId}-hint` : undefined}\r\n            {...props}\r\n          />\r\n          {error && (\r\n            <p id={`${inputId}-error`} className=\"text-sm text-red-500 mt-1\">\r\n              {error}\r\n            </p>\r\n          )}\r\n          {hint && !error && (\r\n            <p id={`${inputId}-hint`} className=\"text-sm text-gray-500 mt-1\">\r\n              {hint}\r\n            </p>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <input\r\n          id={inputId}\r\n          name={inputName}\r\n          type={type}\r\n          className={cn(\r\n            inputVariants.base,\r\n            inputVariants.variants[variant],\r\n            inputVariants.sizes[size],\r\n            error && 'border-red-500 focus:border-red-500 focus:ring-red-500',\r\n            className,\r\n          )}\r\n          ref={ref}\r\n          aria-invalid={!!error}\r\n          aria-describedby={error ? `${inputId}-error` : hint ? `${inputId}-hint` : undefined}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <p id={`${inputId}-error`} className=\"text-sm text-red-500 mt-1\">\r\n            {error}\r\n          </p>\r\n        )}\r\n        {hint && !error && (\r\n          <p id={`${inputId}-hint`} className=\"text-sm text-gray-500 mt-1\">\r\n            {hint}\r\n          </p>\r\n        )}\r\n      </>\r\n    );\r\n  },\r\n);\r\n\r\nInput.displayName = 'Input';\r\n","/**\r\n * Square Payment Configuration Manager\r\n * Handles environment-specific Square setup and validation\r\n */\r\n\r\nexport interface SquareConfig {\r\n  applicationId: string;\r\n  locationId: string;\r\n  environment: 'sandbox' | 'production';\r\n  isConfigured: boolean;\r\n}\r\n\r\nexport class PaymentConfigManager {\r\n  private static instance: PaymentConfigManager;\r\n  private config: SquareConfig | null = null;\r\n\r\n  private constructor() {\r\n    this.initializeConfig();\r\n  }\r\n\r\n  static getInstance(): PaymentConfigManager {\r\n    if (!PaymentConfigManager.instance) {\r\n      PaymentConfigManager.instance = new PaymentConfigManager();\r\n    }\r\n    return PaymentConfigManager.instance;\r\n  }\r\n\r\n  private initializeConfig(): void {\r\n    const applicationId = import.meta.env.VITE_SQUARE_APPLICATION_ID;\r\n    const locationId = import.meta.env.VITE_SQUARE_LOCATION_ID;\r\n\r\n    if (!applicationId || !locationId) {\r\n      console.warn('Square configuration missing. Payment will run in demo mode.');\r\n      this.config = {\r\n        applicationId: '',\r\n        locationId: '',\r\n        environment: 'sandbox',\r\n        isConfigured: false,\r\n      };\r\n      return;\r\n    }\r\n\r\n    // Determine environment based on application ID prefix\r\n    const environment = applicationId.startsWith('sandbox-') ? 'sandbox' : 'production';\r\n    \r\n    this.config = {\r\n      applicationId,\r\n      locationId,\r\n      environment,\r\n      isConfigured: true,\r\n    };\r\n\r\n    // Validate configuration consistency\r\n    this.validateConfig();\r\n  }\r\n\r\n  private validateConfig(): void {\r\n    if (!this.config) return;\r\n\r\n    const { applicationId, environment } = this.config;\r\n    \r\n    // Check if environment matches application ID\r\n    const idEnvironment = applicationId.startsWith('sandbox-') ? 'sandbox' : 'production';\r\n    if (environment !== idEnvironment) {\r\n      console.error('Square configuration mismatch: environment and application ID don\\'t match');\r\n    }\r\n\r\n    // Validate ID formats\r\n    if (environment === 'sandbox' && !applicationId.startsWith('sandbox-sq0idb-')) {\r\n      console.error('Invalid sandbox application ID format');\r\n    }\r\n    \r\n    if (environment === 'production' && !applicationId.startsWith('sq0idb-')) {\r\n      console.error('Invalid production application ID format');\r\n    }\r\n\r\n    console.info(`Square ${environment} environment configured successfully`);\r\n  }\r\n\r\n  getConfig(): SquareConfig | null {\r\n    return this.config;\r\n  }\r\n\r\n  isConfigured(): boolean {\r\n    return this.config?.isConfigured ?? false;\r\n  }\r\n\r\n  getEnvironment(): 'sandbox' | 'production' | null {\r\n    return this.config?.environment ?? null;\r\n  }\r\n\r\n  isPlaceholder(): boolean {\r\n    if (!this.config) return true;\r\n    \r\n    return this.config.applicationId.includes('XXXXXXXX') ||\r\n           this.config.locationId.includes('XXXXXXXX') ||\r\n           this.config.applicationId === 'sandbox-sq0idb-XXXXXXXXXXXXXXXXXXXXXXXX' ||\r\n           this.config.locationId === 'LXXXXXXXXXXXXXXXX';\r\n  }\r\n\r\n  isProduction(): boolean {\r\n    return this.config?.environment === 'production';\r\n  }\r\n\r\n  isSandbox(): boolean {\r\n    return this.config?.environment === 'sandbox';\r\n  }\r\n\r\n  /**\r\n   * Get the appropriate Square Web SDK URL based on environment\r\n   */\r\n  getSquareSDKUrl(): string {\r\n    const environment = this.getEnvironment();\r\n    return environment === 'production' \r\n      ? 'https://web.squarecdn.com/v1/square.js'\r\n      : 'https://sandbox.web.squarecdn.com/v1/square.js';\r\n  }\r\n\r\n  /**\r\n   * Validate that Square Web SDK is properly loaded\r\n   */\r\n  async validateSDK(): Promise<{ isLoaded: boolean; error?: string }> {\r\n    return new Promise((resolve) => {\r\n      // Check if Square object exists\r\n      if (typeof window !== 'undefined' && (window as any).Square) {\r\n        resolve({ isLoaded: true });\r\n        return;\r\n      }\r\n\r\n      // Wait up to 10 seconds for SDK to load\r\n      let attempts = 0;\r\n      const maxAttempts = 50; // 10 seconds with 200ms intervals\r\n\r\n      const checkSDK = () => {\r\n        attempts++;\r\n        \r\n        if ((window as any).Square) {\r\n          resolve({ isLoaded: true });\r\n        } else if (attempts >= maxAttempts) {\r\n          resolve({ \r\n            isLoaded: false, \r\n            error: 'Square Web SDK failed to load. Check your internet connection and Square configuration.' \r\n          });\r\n        } else {\r\n          setTimeout(checkSDK, 200);\r\n        }\r\n      };\r\n\r\n      checkSDK();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get demo mode message based on configuration status\r\n   */\r\n  getDemoModeMessage(): string | null {\r\n    if (this.isConfigured()) {\r\n      return null;\r\n    }\r\n\r\n    return `Demo payment mode active. To enable real Square payments:\r\n1. Set VITE_SQUARE_APPLICATION_ID in your .env file\r\n2. Set VITE_SQUARE_LOCATION_ID in your .env file\r\n3. Restart the development server`;\r\n  }\r\n\r\n  /**\r\n   * Get environment-specific test card numbers\r\n   */\r\n  getTestCards(): { name: string; number: string; description: string }[] {\r\n    if (!this.isSandbox()) {\r\n      return [];\r\n    }\r\n\r\n    return [\r\n      {\r\n        name: 'Visa Success',\r\n        number: '4111111111111111',\r\n        description: 'Always successful payment'\r\n      },\r\n      {\r\n        name: 'Mastercard Success',\r\n        number: '5555555555554444',\r\n        description: 'Always successful payment'\r\n      },\r\n      {\r\n        name: 'American Express Success',\r\n        number: '378282246310005',\r\n        description: 'Always successful payment'\r\n      },\r\n      {\r\n        name: 'Generic Decline',\r\n        number: '4000000000000002',\r\n        description: 'Always declined'\r\n      },\r\n      {\r\n        name: 'Insufficient Funds',\r\n        number: '4000000000009995',\r\n        description: 'Declined - insufficient funds'\r\n      },\r\n      {\r\n        name: 'Lost Card',\r\n        number: '4000000000009987',\r\n        description: 'Declined - lost card'\r\n      }\r\n    ];\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const paymentConfig = PaymentConfigManager.getInstance();","/**\r\n * Square Payment Manager\r\n * Handles both real Square payments and intelligent demo mode fallback\r\n */\r\n\r\nimport { paymentConfig } from '../utils/paymentConfig';\r\nimport { logger } from '../utils/logger';\r\n\r\nexport interface PaymentResult {\r\n  success: boolean;\r\n  paymentId: string;\r\n  receiptUrl?: string;\r\n  errorMessage?: string;\r\n  isDemoPayment?: boolean;\r\n}\r\n\r\nexport interface PaymentRequest {\r\n  sourceId: string;\r\n  amount: number;\r\n  currency: string;\r\n  bookingId: string;\r\n  billingAddress?: {\r\n    firstName?: string;\r\n    lastName?: string;\r\n    addressLine1?: string;\r\n    addressLine2?: string;\r\n    locality?: string;\r\n    administrativeDistrictLevel1?: string;\r\n    postalCode?: string;\r\n    country?: string;\r\n  };\r\n  metadata?: {\r\n    email?: string;\r\n    customerName?: string;\r\n    bookingSource?: string;\r\n  };\r\n}\r\n\r\nexport class SquarePaymentManager {\r\n  private static instance: SquarePaymentManager;\r\n\r\n  private constructor() {}\r\n\r\n  static getInstance(): SquarePaymentManager {\r\n    if (!SquarePaymentManager.instance) {\r\n      SquarePaymentManager.instance = new SquarePaymentManager();\r\n    }\r\n    return SquarePaymentManager.instance;\r\n  }\r\n\r\n  async processPayment(request: PaymentRequest): Promise<PaymentResult> {\r\n    try {\r\n      // Check if we should use demo mode\r\n      if (this.shouldUseDemoMode()) {\r\n        return this.processDemoPayment(request);\r\n      }\r\n\r\n      // Process real Square payment\r\n      return this.processRealPayment(request);\r\n    } catch (error) {\r\n      logger.warn('Payment processing failed, falling back to demo mode', {\r\n        component: 'SquarePaymentManager',\r\n        method: 'processPayment',\r\n        bookingId: request.bookingId,\r\n        amount: request.amount,\r\n        currency: request.currency,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n        fallbackStrategy: 'demo_payment',\r\n      });\r\n      \r\n      // Fallback to demo mode if real payment fails\r\n      return this.processDemoPayment(request);\r\n    }\r\n  }\r\n\r\n  private shouldUseDemoMode(): boolean {\r\n    // Use demo mode if:\r\n    // 1. Square is not configured\r\n    // 2. Mock payments are explicitly enabled\r\n    // 3. We're in development without real credentials\r\n    \r\n    const enableMockPayments = import.meta.env.VITE_ENABLE_MOCK_PAYMENTS === 'true';\r\n    const hasRealCredentials = paymentConfig.isConfigured() && \r\n      !this.isPlaceholderCredentials();\r\n    \r\n    return enableMockPayments || !hasRealCredentials;\r\n  }\r\n\r\n  private isPlaceholderCredentials(): boolean {\r\n    const config = paymentConfig.getConfig();\r\n    if (!config) return true;\r\n    \r\n    return config.applicationId.includes('XXXXXXXX') ||\r\n           config.locationId.includes('XXXXXXXX') ||\r\n           config.applicationId === 'sandbox-sq0idb-XXXXXXXXXXXXXXXXXXXXXXXX' ||\r\n           config.locationId === 'LXXXXXXXXXXXXXXXX';\r\n  }\r\n\r\n  private async processRealPayment(request: PaymentRequest): Promise<PaymentResult> {\r\n    const apiUrl = import.meta.env.VITE_API_URL || 'http://localhost:3001';\r\n    \r\n    const response = await fetch(`${apiUrl}/api/payments/create`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json',\r\n      },\r\n      body: JSON.stringify(request),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Payment API error: ${response.status} ${response.statusText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    \r\n    if (data.success) {\r\n      return {\r\n        success: true,\r\n        paymentId: data.paymentId,\r\n        receiptUrl: data.receiptUrl,\r\n        isDemoPayment: false,\r\n      };\r\n    } else {\r\n      throw new Error(data.errorMessage || 'Payment processing failed');\r\n    }\r\n  }\r\n\r\n  private async processDemoPayment(request: PaymentRequest): Promise<PaymentResult> {\r\n    logger.info('Processing demo payment for development/testing', {\r\n      component: 'SquarePaymentManager',\r\n      method: 'processDemoPayment',\r\n      bookingId: request.bookingId,\r\n      amount: request.amount,\r\n      currency: request.currency,\r\n      isDemoMode: true,\r\n    });\r\n    \r\n    // Simulate processing time\r\n    await new Promise(resolve => setTimeout(resolve, 2000));\r\n    \r\n    // Simulate different outcomes based on card/amount patterns\r\n    const demoOutcome = this.getDemoPaymentOutcome(request);\r\n    \r\n    if (demoOutcome.success) {\r\n      const demoPaymentId = `demo_payment_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n      const receiptUrl = `https://demo.vibe-hotels.com/receipt/${demoPaymentId}`;\r\n      \r\n      logger.info('Demo payment completed successfully', {\r\n        component: 'SquarePaymentManager',\r\n        paymentId: demoPaymentId,\r\n        bookingId: request.bookingId,\r\n        amount: request.amount,\r\n        currency: request.currency,\r\n        isDemoPayment: true,\r\n      });\r\n      \r\n      return {\r\n        success: true,\r\n        paymentId: demoPaymentId,\r\n        receiptUrl,\r\n        isDemoPayment: true,\r\n      };\r\n    } else {\r\n      logger.info('Demo payment declined for testing scenario', {\r\n        component: 'SquarePaymentManager',\r\n        bookingId: request.bookingId,\r\n        amount: request.amount,\r\n        currency: request.currency,\r\n        declineReason: demoOutcome.reason,\r\n        isDemoPayment: true,\r\n      });\r\n      \r\n      return {\r\n        success: false,\r\n        paymentId: '',\r\n        errorMessage: demoOutcome.reason,\r\n        isDemoPayment: true,\r\n      };\r\n    }\r\n  }\r\n\r\n  private getDemoPaymentOutcome(request: PaymentRequest): { success: boolean; reason?: string } {\r\n    // Simulate different payment scenarios based on amount or other factors\r\n    \r\n    // Always succeed for demo purposes in development\r\n    if (import.meta.env.DEV) {\r\n      return { success: true };\r\n    }\r\n    \r\n    // Simulate failure scenarios for testing\r\n    if (request.amount < 1) {\r\n      return { success: false, reason: 'Amount too small - minimum $1.00 required' };\r\n    }\r\n    \r\n    if (request.amount > 10000) {\r\n      return { success: false, reason: 'Amount exceeds daily limit' };\r\n    }\r\n    \r\n    // Simulate random failures (5% of the time)\r\n    if (Math.random() < 0.05) {\r\n      const failures = [\r\n        'Card declined - insufficient funds',\r\n        'Card expired - please use a different card',\r\n        'Payment blocked by bank - contact your bank',\r\n        'Network timeout - please try again',\r\n      ];\r\n      return { \r\n        success: false, \r\n        reason: failures[Math.floor(Math.random() * failures.length)] \r\n      };\r\n    }\r\n    \r\n    return { success: true };\r\n  }\r\n\r\n  /**\r\n   * Get payment status message for UI\r\n   */\r\n  getPaymentStatusMessage(isDemoPayment: boolean, isProduction: boolean): string {\r\n    if (isDemoPayment && !isProduction) {\r\n      return ' Demo Payment Mode - Safe testing environment. No real charges will occur.';\r\n    }\r\n    \r\n    if (isDemoPayment && isProduction) {\r\n      return ' Demo Payment Mode - Real payments unavailable. Contact support to enable live payments.';\r\n    }\r\n    \r\n    return ' Secure Payment Processing - Your payment will be processed securely by Square.';\r\n  }\r\n\r\n  /**\r\n   * Get appropriate test card suggestions\r\n   */\r\n  getTestCardSuggestions(): { name: string; number: string; description: string }[] {\r\n    if (!paymentConfig.isSandbox()) {\r\n      return [];\r\n    }\r\n    \r\n    return paymentConfig.getTestCards();\r\n  }\r\n\r\n  /**\r\n   * Validate payment request\r\n   */\r\n  validatePaymentRequest(request: PaymentRequest): { valid: boolean; errors: string[] } {\r\n    const errors: string[] = [];\r\n    \r\n    if (!request.sourceId && !this.shouldUseDemoMode()) {\r\n      errors.push('Payment method is required');\r\n    }\r\n    \r\n    if (!request.amount || request.amount <= 0) {\r\n      errors.push('Amount must be greater than $0.00');\r\n    }\r\n    \r\n    if (request.amount < 0.50) {\r\n      errors.push('Minimum payment amount is $0.50');\r\n    }\r\n    \r\n    if (request.amount > 999999.99) {\r\n      errors.push('Maximum payment amount is $999,999.99');\r\n    }\r\n    \r\n    if (!request.bookingId?.trim()) {\r\n      errors.push('Booking ID is required');\r\n    }\r\n    \r\n    if (request.currency && !['USD', 'CAD', 'GBP', 'EUR', 'AUD'].includes(request.currency)) {\r\n      errors.push('Unsupported currency');\r\n    }\r\n    \r\n    return {\r\n      valid: errors.length === 0,\r\n      errors,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Format currency for display\r\n   */\r\n  formatCurrency(amount: number, currency: string = 'USD'): string {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency,\r\n      minimumFractionDigits: 2,\r\n    }).format(amount);\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const squarePaymentManager = SquarePaymentManager.getInstance();","import React, { useEffect, useState, useCallback, memo } from 'react';\r\nimport { Button } from '../ui/Button';\r\nimport { Input } from '../ui/Input';\r\nimport { CreditCard, Lock, Shield, Loader2, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport { squarePaymentManager, PaymentRequest } from '../../services/squarePaymentManager';\r\nimport { paymentConfig } from '../../utils/paymentConfig';\r\nimport { logger } from '../../utils/logger';\r\n\r\ninterface SquarePaymentFormProps {\r\n  bookingId: string;\r\n  amount: number;\r\n  currency?: string;\r\n  onSuccess: (paymentResult: { paymentId: string; receiptUrl?: string }) => void;\r\n  onError: (error: Error) => void;\r\n  bookingDetails?: {\r\n    hotelName: string;\r\n    checkIn: string;\r\n    checkOut: string;\r\n    guests: number;\r\n  };\r\n}\r\n\r\ninterface BillingInfo {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  addressLine1: string;\r\n  addressLine2: string;\r\n  locality: string;\r\n  administrativeDistrictLevel1: string;\r\n  postalCode: string;\r\n  country: string;\r\n}\r\n\r\nconst SquarePaymentForm = memo<SquarePaymentFormProps>(({\r\n  bookingId,\r\n  amount,\r\n  currency = 'USD',\r\n  onSuccess,\r\n  onError,\r\n  bookingDetails,\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [squareError, setSquareError] = useState<string | null>(null);\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\r\n  const [isDemoMode, setIsDemoMode] = useState(false);\r\n  const [card, setCard] = useState<any>(null);\r\n  const [billingInfo, setBillingInfo] = useState<BillingInfo>({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    addressLine1: '',\r\n    addressLine2: '',\r\n    locality: '',\r\n    administrativeDistrictLevel1: '',\r\n    postalCode: '',\r\n    country: 'US',\r\n  });\r\n\r\n  const initializeSquare = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setSquareError(null);\r\n\r\n      // Check if we should use demo mode\r\n      const enableMockPayments = import.meta.env.VITE_ENABLE_MOCK_PAYMENTS === 'true';\r\n      const hasRealCredentials = paymentConfig.isConfigured() && !paymentConfig.isPlaceholder();\r\n      \r\n      if (enableMockPayments || !hasRealCredentials) {\r\n        setIsDemoMode(true);\r\n        setIsLoading(false);\r\n        logger.info('Demo payment mode enabled - safe testing environment', { component: 'SquarePaymentForm' });\r\n        return;\r\n      }\r\n\r\n      // Try to initialize real Square Web SDK\r\n      const config = paymentConfig.getConfig();\r\n      if (!config) {\r\n        throw new Error('Square configuration not available');\r\n      }\r\n\r\n      // Load Square Web SDK\r\n      if (!window.Square) {\r\n        throw new Error('Square Web SDK not loaded');\r\n      }\r\n\r\n      // Initialize Square Web SDK\r\n      const payments = (window as any).Square.payments(config.applicationId, config.locationId);\r\n      \r\n      // Create and configure card element\r\n      const cardElement = await payments.card({\r\n        style: {\r\n          input: {\r\n            fontSize: '16px',\r\n            fontFamily: 'Inter, system-ui, sans-serif',\r\n            color: '#374151',\r\n            lineHeight: '24px'\r\n          },\r\n          '.input-container': {\r\n            borderRadius: '8px',\r\n            borderWidth: '1px',\r\n            borderColor: '#D1D5DB',\r\n            backgroundColor: '#FFFFFF'\r\n          },\r\n          '.input-container.is-focus': {\r\n            borderColor: '#3B82F6',\r\n            boxShadow: '0 0 0 1px #3B82F6'\r\n          },\r\n          '.input-container.is-error': {\r\n            borderColor: '#EF4444'\r\n          }\r\n        }\r\n      });\r\n      \r\n      await cardElement.attach('#card-container');\r\n      setCard(cardElement);\r\n      setIsDemoMode(false);\r\n      logger.info('Square Web SDK initialized successfully', { component: 'SquarePaymentForm' });\r\n    } catch (error) {\r\n      logger.warn('Square initialization failed, using demo mode', { component: 'SquarePaymentForm', error });\r\n      setIsDemoMode(true);\r\n      setSquareError(null); // Clear error since we're falling back to demo\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    initializeSquare();\r\n  }, [initializeSquare]);\r\n\r\n  const handlePayment = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsProcessing(true);\r\n    setSquareError(null);\r\n\r\n    try {\r\n      let sourceId = '';\r\n\r\n      // Get payment token if using real Square\r\n      if (!isDemoMode && card) {\r\n        const result = await card.tokenize();\r\n        if (result.status === 'OK' && result.token) {\r\n          sourceId = result.token;\r\n        } else {\r\n          throw new Error(result.errors?.[0]?.message || 'Payment tokenization failed');\r\n        }\r\n      }\r\n\r\n      // Create payment request\r\n      const paymentRequest: PaymentRequest = {\r\n        sourceId,\r\n        amount,\r\n        currency,\r\n        bookingId,\r\n        billingAddress: {\r\n          firstName: billingInfo.firstName,\r\n          lastName: billingInfo.lastName,\r\n          addressLine1: billingInfo.addressLine1,\r\n          addressLine2: billingInfo.addressLine2,\r\n          locality: billingInfo.locality,\r\n          administrativeDistrictLevel1: billingInfo.administrativeDistrictLevel1,\r\n          postalCode: billingInfo.postalCode,\r\n          country: billingInfo.country,\r\n        },\r\n        metadata: {\r\n          email: billingInfo.email,\r\n          customerName: `${billingInfo.firstName} ${billingInfo.lastName}`,\r\n          bookingSource: 'vibe-hotels-website',\r\n        },\r\n      };\r\n\r\n      // Validate payment request\r\n      const validation = squarePaymentManager.validatePaymentRequest(paymentRequest);\r\n      if (!validation.valid) {\r\n        throw new Error(validation.errors.join(', '));\r\n      }\r\n\r\n      // Process payment\r\n      const result = await squarePaymentManager.processPayment(paymentRequest);\r\n      \r\n      if (result.success) {\r\n        setPaymentSuccess(true);\r\n        \r\n        // Show success message for demo vs real payments\r\n        if (result.isDemoPayment) {\r\n          logger.info('Demo payment completed successfully', { \r\n            component: 'SquarePaymentForm', \r\n            paymentId: result.paymentId, \r\n            amount \r\n          });\r\n        } else {\r\n          logger.info('Real Square payment completed successfully', { \r\n            component: 'SquarePaymentForm', \r\n            paymentId: result.paymentId, \r\n            amount \r\n          });\r\n        }\r\n        \r\n        setTimeout(() => {\r\n          onSuccess({ \r\n            paymentId: result.paymentId, \r\n            receiptUrl: result.receiptUrl \r\n          });\r\n        }, 2000);\r\n      } else {\r\n        throw new Error(result.errorMessage || 'Payment processing failed');\r\n      }\r\n    } catch (error) {\r\n      logger.error('Payment processing error', error, { \r\n        component: 'SquarePaymentForm', \r\n        bookingId, \r\n        amount,\r\n        isDemoMode \r\n      });\r\n      const errorMessage = error instanceof Error ? error.message : 'Payment processing failed';\r\n      setSquareError(errorMessage);\r\n      onError(error instanceof Error ? error : new Error(errorMessage));\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleBillingChange = (field: string, value: string) => {\r\n    setBillingInfo((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center p-8\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600\" />\r\n          <p className=\"text-gray-600\">Loading secure payment form...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (paymentSuccess) {\r\n    return (\r\n      <div className=\"max-w-md mx-auto\">\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-8 text-center\">\r\n          <CheckCircle className=\"h-16 w-16 text-green-500 mx-auto mb-4\" />\r\n          <h3 className=\"text-xl font-semibold text-green-900 mb-2\">Payment Successful!</h3>\r\n          <p className=\"text-green-700\">Your booking has been confirmed.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const statusMessage = squarePaymentManager.getPaymentStatusMessage(isDemoMode, import.meta.env.PROD);\r\n  const testCards = squarePaymentManager.getTestCardSuggestions();\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <form onSubmit={handlePayment} className=\"space-y-6\">\r\n        {/* Payment Status */}\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <div className=\"flex items-start\">\r\n            <Shield className=\"h-5 w-5 text-blue-500 mr-2 mt-0.5\" />\r\n            <div>\r\n              <h3 className=\"text-sm font-medium text-blue-900 mb-1\">Payment Security</h3>\r\n              <p className=\"text-sm text-blue-700\">{statusMessage}</p>\r\n              \r\n              {isDemoMode && testCards.length > 0 && (\r\n                <div className=\"mt-3\">\r\n                  <p className=\"text-xs text-blue-600 font-medium mb-2\">Test Card Numbers:</p>\r\n                  <div className=\"space-y-1\">\r\n                    {testCards.map((testCard, index) => (\r\n                      <div key={index} className=\"text-xs text-blue-600\">\r\n                        <strong>{testCard.name}:</strong> {testCard.number} - {testCard.description}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Billing Information */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n            <CreditCard className=\"h-5 w-5 mr-2\" />\r\n            Billing Information\r\n          </h3>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"First Name\"\r\n              value={billingInfo.firstName}\r\n              onChange={(e) => handleBillingChange('firstName', e.target.value)}\r\n              required\r\n              className=\"w-full\"\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Last Name\"\r\n              value={billingInfo.lastName}\r\n              onChange={(e) => handleBillingChange('lastName', e.target.value)}\r\n              required\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n          \r\n          <Input\r\n            type=\"email\"\r\n            placeholder=\"Email Address\"\r\n            value={billingInfo.email}\r\n            onChange={(e) => handleBillingChange('email', e.target.value)}\r\n            required\r\n            className=\"w-full\"\r\n          />\r\n          \r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Street Address\"\r\n            value={billingInfo.addressLine1}\r\n            onChange={(e) => handleBillingChange('addressLine1', e.target.value)}\r\n            required\r\n            className=\"w-full\"\r\n          />\r\n          \r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Apt, Suite, etc. (Optional)\"\r\n            value={billingInfo.addressLine2}\r\n            onChange={(e) => handleBillingChange('addressLine2', e.target.value)}\r\n            className=\"w-full\"\r\n          />\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"City\"\r\n              value={billingInfo.locality}\r\n              onChange={(e) => handleBillingChange('locality', e.target.value)}\r\n              required\r\n              className=\"w-full\"\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"State\"\r\n              value={billingInfo.administrativeDistrictLevel1}\r\n              onChange={(e) => handleBillingChange('administrativeDistrictLevel1', e.target.value)}\r\n              required\r\n              className=\"w-full\"\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"ZIP Code\"\r\n              value={billingInfo.postalCode}\r\n              onChange={(e) => handleBillingChange('postalCode', e.target.value)}\r\n              required\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Payment Method */}\r\n        {!isDemoMode && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n              <Lock className=\"h-5 w-5 mr-2\" />\r\n              Payment Method\r\n            </h3>\r\n            <div \r\n              id=\"card-container\" \r\n              className=\"border border-gray-300 rounded-lg p-3 min-h-[50px] bg-white\"\r\n              style={{ minHeight: '50px' }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Demo Payment Method */}\r\n        {isDemoMode && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n              <Lock className=\"h-5 w-5 mr-2\" />\r\n              Demo Payment Method\r\n            </h3>\r\n            <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n              <p className=\"text-sm text-gray-600 mb-3\">\r\n                Demo mode - no real payment will be processed. All test transactions will succeed.\r\n              </p>\r\n              <div className=\"flex items-center justify-center py-4 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                <div className=\"text-center\">\r\n                  <CreditCard className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\r\n                  <p className=\"text-sm text-gray-500\">Demo Payment Processing</p>\r\n                  <p className=\"text-xs text-gray-400\">Safe testing environment</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error Display */}\r\n        {squareError && (\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n            <div className=\"flex items-start\">\r\n              <AlertCircle className=\"h-5 w-5 text-red-500 mr-2 mt-0.5\" />\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-red-900\">Payment Error</h4>\r\n                <p className=\"text-sm text-red-700 mt-1\">{squareError}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Payment Summary */}\r\n        <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-2\">Payment Summary</h4>\r\n          <div className=\"space-y-2 text-sm\">\r\n            {bookingDetails && (\r\n              <>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Hotel:</span>\r\n                  <span className=\"text-gray-900\">{bookingDetails.hotelName}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Check-in:</span>\r\n                  <span className=\"text-gray-900\">{bookingDetails.checkIn}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Check-out:</span>\r\n                  <span className=\"text-gray-900\">{bookingDetails.checkOut}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Guests:</span>\r\n                  <span className=\"text-gray-900\">{bookingDetails.guests}</span>\r\n                </div>\r\n                <hr className=\"border-gray-300\" />\r\n              </>\r\n            )}\r\n            <div className=\"flex justify-between font-semibold text-lg\">\r\n              <span className=\"text-gray-900\">Total:</span>\r\n              <span className=\"text-gray-900\">\r\n                {squarePaymentManager.formatCurrency(amount, currency)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Submit Button */}\r\n        <Button\r\n          type=\"submit\"\r\n          disabled={isProcessing}\r\n          className=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2\"\r\n        >\r\n          {isProcessing ? (\r\n            <>\r\n              <Loader2 className=\"h-5 w-5 animate-spin\" />\r\n              <span>Processing Payment...</span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Lock className=\"h-5 w-5\" />\r\n              <span>Complete Payment - {squarePaymentManager.formatCurrency(amount, currency)}</span>\r\n            </>\r\n          )}\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n});\r\n\r\nSquarePaymentForm.displayName = 'SquarePaymentForm';\r\n\r\nexport { SquarePaymentForm };","import { create } from 'zustand';\r\nimport { devtools, persist } from 'zustand/middleware';\r\nimport type { BookingStore } from './types';\r\nimport type { GuestDetails, PaymentInfo } from '@/types/booking';\r\n\r\nconst initialGuestDetails: GuestDetails = {\r\n  firstName: '',\r\n  lastName: '',\r\n  email: '',\r\n  phone: '',\r\n  adults: 2,\r\n  children: 0,\r\n  specialRequests: '',\r\n  preferences: {\r\n    bedType: 'any',\r\n    floor: 'any',\r\n    roomType: 'any',\r\n    smokingAllowed: false,\r\n  },\r\n};\r\n\r\nconst initialPaymentInfo: PaymentInfo = {\r\n  cardNumber: '',\r\n  expiryDate: '',\r\n  cvv: '',\r\n  cardholderName: '',\r\n  billingAddress: {\r\n    street: '',\r\n    city: '',\r\n    state: '',\r\n    zipCode: '',\r\n    country: '',\r\n  },\r\n  saveCard: false,\r\n};\r\n\r\nconst bookingSteps = ['room-selection', 'guest-details', 'payment', 'confirmation'] as const;\r\n\r\nexport const useBookingStore = create<BookingStore>()(\r\n  devtools(\r\n    persist(\r\n      (set, get) => ({\r\n      // Initial state\r\n      currentStep: 'room-selection',\r\n      guestDetails: initialGuestDetails,\r\n      selectedRoom: null,\r\n      paymentInfo: initialPaymentInfo,\r\n      confirmation: null,\r\n      errors: {},\r\n      loading: false,\r\n\r\n      // Actions\r\n      setCurrentStep: (step) => set({ currentStep: step }),\r\n\r\n      setGuestDetails: (details) =>\r\n        set((state) => ({\r\n          guestDetails: { ...state.guestDetails, ...details },\r\n        })),\r\n\r\n      setSelectedRoom: (room) => set({ selectedRoom: room }),\r\n\r\n      setPaymentInfo: (info) =>\r\n        set((state) => ({\r\n          paymentInfo: { ...state.paymentInfo, ...info },\r\n        })),\r\n\r\n      setConfirmation: (confirmation) => set({ confirmation }),\r\n\r\n      setErrors: (errors) => set({ errors }),\r\n\r\n      setLoading: (loading) => set({ loading }),\r\n\r\n      clearBooking: () =>\r\n        set({\r\n          currentStep: 'room-selection',\r\n          guestDetails: initialGuestDetails,\r\n          selectedRoom: null,\r\n          paymentInfo: initialPaymentInfo,\r\n          confirmation: null,\r\n          errors: {},\r\n          loading: false,\r\n        }),\r\n\r\n      nextStep: () => {\r\n        const { currentStep } = get();\r\n        const currentIndex = bookingSteps.indexOf(currentStep);\r\n        if (currentIndex < bookingSteps.length - 1) {\r\n          set({ currentStep: bookingSteps[currentIndex + 1] });\r\n        }\r\n      },\r\n\r\n      previousStep: () => {\r\n        const { currentStep } = get();\r\n        const currentIndex = bookingSteps.indexOf(currentStep);\r\n        if (currentIndex > 0) {\r\n          set({ currentStep: bookingSteps[currentIndex - 1] });\r\n        }\r\n      },\r\n\r\n      validateCurrentStep: () => {\r\n        const { currentStep, selectedRoom, guestDetails, paymentInfo } = get();\r\n        let isValid = true;\r\n        const errors: Record<string, string> = {};\r\n\r\n        switch (currentStep) {\r\n          case 'room-selection':\r\n            if (!selectedRoom) {\r\n              errors.room = 'Please select a room';\r\n              isValid = false;\r\n            }\r\n            break;\r\n\r\n          case 'guest-details':\r\n            if (!guestDetails.firstName) {\r\n              errors.firstName = 'First name is required';\r\n              isValid = false;\r\n            }\r\n            if (!guestDetails.lastName) {\r\n              errors.lastName = 'Last name is required';\r\n              isValid = false;\r\n            }\r\n            if (!guestDetails.email) {\r\n              errors.email = 'Email is required';\r\n              isValid = false;\r\n            }\r\n            if (!guestDetails.phone) {\r\n              errors.phone = 'Phone number is required';\r\n              isValid = false;\r\n            }\r\n            break;\r\n\r\n          case 'payment':\r\n            if (!paymentInfo.cardNumber) {\r\n              errors.cardNumber = 'Card number is required';\r\n              isValid = false;\r\n            }\r\n            if (!paymentInfo.expiryDate) {\r\n              errors.expiryDate = 'Expiry date is required';\r\n              isValid = false;\r\n            }\r\n            if (!paymentInfo.cvv) {\r\n              errors.cvv = 'CVV is required';\r\n              isValid = false;\r\n            }\r\n            if (!paymentInfo.cardholderName) {\r\n              errors.cardholderName = 'Cardholder name is required';\r\n              isValid = false;\r\n            }\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n\r\n        set({ errors });\r\n        return isValid;\r\n      },\r\n    }),\r\n    {\r\n      name: 'booking-store',\r\n      // Only persist certain parts of the booking state\r\n      partialize: (state) => ({\r\n        guestDetails: state.guestDetails,\r\n        selectedRoom: state.selectedRoom,\r\n        currentStep: state.currentStep,\r\n      }),\r\n    },\r\n  ),\r\n  { name: 'BookingStore' },\r\n),\r\n);","import axios from 'axios';\r\n\r\n// Use proxy in development, direct URL in production\r\nconst isDevelopment = import.meta.env.DEV;\r\nconst API_URL = isDevelopment ? '' : (import.meta.env.VITE_API_URL || 'http://localhost:4002');\r\n\r\nexport interface User {\r\n  id: string;\r\n  email: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  role?: string;\r\n}\r\n\r\nexport interface AuthResponse {\r\n  success: boolean;\r\n  token: string;\r\n  user: User;\r\n}\r\n\r\nclass AuthService {\r\n  private token: string | null = null;\r\n  private user: User | null = null;\r\n\r\n  constructor() {\r\n    // Load token from localStorage\r\n    this.token = localStorage.getItem('authToken');\r\n    const savedUser = localStorage.getItem('user');\r\n    if (savedUser) {\r\n      this.user = JSON.parse(savedUser);\r\n    }\r\n\r\n    // Set default axios header if token exists\r\n    if (this.token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${this.token}`;\r\n    }\r\n  }\r\n\r\n  async register(email: string, password: string, firstName?: string, lastName?: string): Promise<AuthResponse> {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/auth/register`, {\r\n        email,\r\n        password,\r\n        firstName,\r\n        lastName,\r\n        acceptTerms: true,\r\n      });\r\n\r\n      if (response.data.success) {\r\n        this.setAuth(response.data.data.accessToken, response.data.data.user);\r\n      }\r\n\r\n      return {\r\n        success: response.data.success,\r\n        token: response.data.data.accessToken,\r\n        user: response.data.data.user\r\n      };\r\n    } catch (error: any) {\r\n      throw new Error(error.response?.data?.error || 'Registration failed');\r\n    }\r\n  }\r\n\r\n  async login(email: string, password: string): Promise<AuthResponse> {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/auth/login`, {\r\n        email,\r\n        password,\r\n      });\r\n\r\n      if (response.data.success) {\r\n        this.setAuth(response.data.data.accessToken, response.data.data.user);\r\n      }\r\n\r\n      return {\r\n        success: response.data.success,\r\n        token: response.data.data.accessToken,\r\n        user: response.data.data.user\r\n      };\r\n    } catch (error: any) {\r\n      throw new Error(error.response?.data?.error || 'Login failed');\r\n    }\r\n  }\r\n\r\n  async getCurrentUser(): Promise<User | null> {\r\n    if (!this.token) {\r\nreturn null;\r\n}\r\n\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/auth/me`);\r\n      if (response.data.success) {\r\n        this.user = response.data.data.user;\r\n        localStorage.setItem('user', JSON.stringify(this.user));\r\n        return this.user;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      this.logout();\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private setAuth(token: string, user: User) {\r\n    this.token = token;\r\n    this.user = user;\r\n    localStorage.setItem('authToken', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  }\r\n\r\n  logout() {\r\n    this.token = null;\r\n    this.user = null;\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('user');\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n\r\n  isAuthenticated(): boolean {\r\n    return !!this.token;\r\n  }\r\n\r\n  getUser(): User | null {\r\n    return this.user;\r\n  }\r\n\r\n  getToken(): string | null {\r\n    return this.token;\r\n  }\r\n\r\n  isAdmin(): boolean {\r\n    return this.user?.role === 'admin';\r\n  }\r\n}\r\n\r\nexport const authService = new AuthService();","import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { authService } from '../services/authService';\r\nimport { logger } from '../utils/logger';\r\nimport type { User } from '../services/authService';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  register: (email: string, password: string, firstName: string, lastName: string) => Promise<void>;\r\n  logout: () => void;\r\n  updateUser: (userData: Partial<User>) => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\ninterface AuthProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Initialize authentication state\r\n    const initializeAuth = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        \r\n        if (authService.isAuthenticated()) {\r\n          const currentUser = await authService.getCurrentUser();\r\n          setUser(currentUser);\r\n          \r\n          logger.info('User session restored', {\r\n            component: 'AuthProvider',\r\n            userId: currentUser?.id,\r\n            email: currentUser?.email,\r\n          });\r\n        }\r\n      } catch (error) {\r\n        logger.warn('Failed to restore user session', {\r\n          component: 'AuthProvider',\r\n          error: error instanceof Error ? error.message : 'Unknown error',\r\n        });\r\n        \r\n        // Clear invalid token\r\n        authService.logout();\r\n        setUser(null);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  const login = async (email: string, password: string): Promise<void> => {\r\n    try {\r\n      const result = await authService.login(email, password);\r\n      \r\n      if (result.success) {\r\n        setUser(result.user);\r\n        \r\n        logger.info('User logged in successfully', {\r\n          component: 'AuthProvider',\r\n          userId: result.user.id,\r\n          email: result.user.email,\r\n        });\r\n      } else {\r\n        throw new Error('Login failed');\r\n      }\r\n    } catch (error) {\r\n      logger.error('Login failed', {\r\n        component: 'AuthProvider',\r\n        email,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const register = async (\r\n    email: string, \r\n    password: string, \r\n    firstName: string, \r\n    lastName: string\r\n  ): Promise<void> => {\r\n    try {\r\n      const result = await authService.register(email, password, firstName, lastName);\r\n      \r\n      if (result.success) {\r\n        setUser(result.user);\r\n        \r\n        logger.info('User registered successfully', {\r\n          component: 'AuthProvider',\r\n          userId: result.user.id,\r\n          email: result.user.email,\r\n        });\r\n      } else {\r\n        throw new Error('Registration failed');\r\n      }\r\n    } catch (error) {\r\n      logger.error('Registration failed', {\r\n        component: 'AuthProvider',\r\n        email,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const logout = (): void => {\r\n    try {\r\n      logger.info('User logging out', {\r\n        component: 'AuthProvider',\r\n        userId: user?.id,\r\n        email: user?.email,\r\n      });\r\n      \r\n      authService.logout();\r\n      setUser(null);\r\n    } catch (error) {\r\n      logger.error('Logout failed', {\r\n        component: 'AuthProvider',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateUser = (userData: Partial<User>): void => {\r\n    if (user) {\r\n      const updatedUser = { ...user, ...userData };\r\n      setUser(updatedUser);\r\n      \r\n      // Update localStorage\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      \r\n      logger.info('User data updated', {\r\n        component: 'AuthProvider',\r\n        userId: user.id,\r\n        updatedFields: Object.keys(userData),\r\n      });\r\n    }\r\n  };\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    isAuthenticated: !!user,\r\n    isLoading,\r\n    login,\r\n    register,\r\n    logout,\r\n    updateUser,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  \r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  \r\n  return context;\r\n};\r\n\r\n// Hook for checking if user has specific role\r\nexport const useRole = (requiredRole: string): boolean => {\r\n  const { user } = useAuth();\r\n  return user?.role === requiredRole;\r\n};\r\n\r\n// Hook for admin access\r\nexport const useIsAdmin = (): boolean => {\r\n  return useRole('admin');\r\n};","\"use client\";import o,{forwardRef as fe,isValidElement as xt}from\"react\";import vt from\"react-dom\";import E from\"react\";var jt=n=>{switch(n){case\"success\":return ee;case\"info\":return ae;case\"warning\":return oe;case\"error\":return se;default:return null}},te=Array(12).fill(0),Yt=({visible:n,className:e})=>E.createElement(\"div\",{className:[\"sonner-loading-wrapper\",e].filter(Boolean).join(\" \"),\"data-visible\":n},E.createElement(\"div\",{className:\"sonner-spinner\"},te.map((t,a)=>E.createElement(\"div\",{className:\"sonner-loading-bar\",key:`spinner-bar-${a}`})))),ee=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\",clipRule:\"evenodd\"})),oe=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z\",clipRule:\"evenodd\"})),ae=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\",clipRule:\"evenodd\"})),se=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",height:\"20\",width:\"20\"},E.createElement(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\",clipRule:\"evenodd\"})),Ot=E.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"12\",height:\"12\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"},E.createElement(\"line\",{x1:\"18\",y1:\"6\",x2:\"6\",y2:\"18\"}),E.createElement(\"line\",{x1:\"6\",y1:\"6\",x2:\"18\",y2:\"18\"}));import $t from\"react\";var Ft=()=>{let[n,e]=$t.useState(document.hidden);return $t.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener(\"visibilitychange\",t),()=>window.removeEventListener(\"visibilitychange\",t)},[]),n};import re from\"react\";var bt=1,yt=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)});this.publish=e=>{this.subscribers.forEach(t=>t(e))};this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]};this.create=e=>{var S;let{message:t,...a}=e,u=typeof(e==null?void 0:e.id)==\"number\"||((S=e.id)==null?void 0:S.length)>0?e.id:bt++,f=this.toasts.find(g=>g.id===u),w=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),f?this.toasts=this.toasts.map(g=>g.id===u?(this.publish({...g,...e,id:u,title:t}),{...g,...e,id:u,dismissible:w,title:t}):g):this.addToast({title:t,...a,dismissible:w,id:u}),u};this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(a=>a({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e);this.message=(e,t)=>this.create({...t,message:e});this.error=(e,t)=>this.create({...t,message:e,type:\"error\"});this.success=(e,t)=>this.create({...t,type:\"success\",message:e});this.info=(e,t)=>this.create({...t,type:\"info\",message:e});this.warning=(e,t)=>this.create({...t,type:\"warning\",message:e});this.loading=(e,t)=>this.create({...t,type:\"loading\",message:e});this.promise=(e,t)=>{if(!t)return;let a;t.loading!==void 0&&(a=this.create({...t,promise:e,type:\"loading\",message:t.loading,description:typeof t.description!=\"function\"?t.description:void 0}));let u=e instanceof Promise?e:e(),f=a!==void 0,w,S=u.then(async i=>{if(w=[\"resolve\",i],re.isValidElement(i))f=!1,this.create({id:a,type:\"default\",message:i});else if(ie(i)&&!i.ok){f=!1;let T=typeof t.error==\"function\"?await t.error(`HTTP error! status: ${i.status}`):t.error,F=typeof t.description==\"function\"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:a,type:\"error\",message:T,description:F})}else if(t.success!==void 0){f=!1;let T=typeof t.success==\"function\"?await t.success(i):t.success,F=typeof t.description==\"function\"?await t.description(i):t.description;this.create({id:a,type:\"success\",message:T,description:F})}}).catch(async i=>{if(w=[\"reject\",i],t.error!==void 0){f=!1;let D=typeof t.error==\"function\"?await t.error(i):t.error,T=typeof t.description==\"function\"?await t.description(i):t.description;this.create({id:a,type:\"error\",message:D,description:T})}}).finally(()=>{var i;f&&(this.dismiss(a),a=void 0),(i=t.finally)==null||i.call(t)}),g=()=>new Promise((i,D)=>S.then(()=>w[0]===\"reject\"?D(w[1]):i(w[1])).catch(D));return typeof a!=\"string\"&&typeof a!=\"number\"?{unwrap:g}:Object.assign(a,{unwrap:g})};this.custom=(e,t)=>{let a=(t==null?void 0:t.id)||bt++;return this.create({jsx:e(a),id:a,...t}),a};this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id));this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},v=new yt,ne=(n,e)=>{let t=(e==null?void 0:e.id)||bt++;return v.addToast({title:n,...e,id:t}),t},ie=n=>n&&typeof n==\"object\"&&\"ok\"in n&&typeof n.ok==\"boolean\"&&\"status\"in n&&typeof n.status==\"number\",le=ne,ce=()=>v.toasts,de=()=>v.getActiveToasts(),ue=Object.assign(le,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:ce,getToasts:de});function wt(n,{insertAt:e}={}){if(!n||typeof document==\"undefined\")return;let t=document.head||document.getElementsByTagName(\"head\")[0],a=document.createElement(\"style\");a.type=\"text/css\",e===\"top\"&&t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}wt(`:where(html[dir=\"ltr\"]),:where([data-sonner-toaster][dir=\"ltr\"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir=\"rtl\"]),:where([data-sonner-toaster][dir=\"rtl\"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted=\"true\"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted=\"true\"]){transform:none}}:where([data-sonner-toaster][data-x-position=\"right\"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position=\"left\"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position=\"center\"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position=\"top\"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position=\"bottom\"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled=\"true\"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position=\"top\"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position=\"bottom\"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise=\"true\"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme=\"dark\"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled=\"true\"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping=\"true\"]):before{content:\"\";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position=\"top\"][data-swiping=\"true\"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position=\"bottom\"][data-swiping=\"true\"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping=\"false\"][data-removed=\"true\"]):before{content:\"\";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:\"\";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted=\"true\"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded=\"false\"][data-front=\"false\"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded=\"false\"][data-front=\"false\"][data-styled=\"true\"])>*{opacity:0}:where([data-sonner-toast][data-visible=\"false\"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted=\"true\"][data-expanded=\"true\"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"true\"][data-swipe-out=\"false\"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"false\"][data-swipe-out=\"false\"][data-expanded=\"true\"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"false\"][data-swipe-out=\"false\"][data-expanded=\"false\"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed=\"true\"][data-front=\"false\"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n`);function tt(n){return n.label!==void 0}var pe=3,me=\"32px\",ge=\"16px\",Wt=4e3,he=356,be=14,ye=20,we=200;function M(...n){return n.filter(Boolean).join(\" \")}function xe(n){let[e,t]=n.split(\"-\"),a=[];return e&&a.push(e),t&&a.push(t),a}var ve=n=>{var Dt,Pt,Nt,Bt,Ct,kt,It,Mt,Ht,At,Lt;let{invert:e,toast:t,unstyled:a,interacting:u,setHeights:f,visibleToasts:w,heights:S,index:g,toasts:i,expanded:D,removeToast:T,defaultRichColors:F,closeButton:et,style:ut,cancelButtonStyle:ft,actionButtonStyle:l,className:ot=\"\",descriptionClassName:at=\"\",duration:X,position:st,gap:pt,loadingIcon:rt,expandByDefault:B,classNames:s,icons:P,closeButtonAriaLabel:nt=\"Close toast\",pauseWhenPageIsHidden:it}=n,[Y,C]=o.useState(null),[lt,J]=o.useState(null),[W,H]=o.useState(!1),[A,mt]=o.useState(!1),[L,z]=o.useState(!1),[ct,d]=o.useState(!1),[h,y]=o.useState(!1),[R,j]=o.useState(0),[p,_]=o.useState(0),O=o.useRef(t.duration||X||Wt),G=o.useRef(null),k=o.useRef(null),Vt=g===0,Ut=g+1<=w,N=t.type,V=t.dismissible!==!1,Kt=t.className||\"\",Xt=t.descriptionClassName||\"\",dt=o.useMemo(()=>S.findIndex(r=>r.toastId===t.id)||0,[S,t.id]),Jt=o.useMemo(()=>{var r;return(r=t.closeButton)!=null?r:et},[t.closeButton,et]),Tt=o.useMemo(()=>t.duration||X||Wt,[t.duration,X]),gt=o.useRef(0),U=o.useRef(0),St=o.useRef(0),K=o.useRef(null),[Gt,Qt]=st.split(\"-\"),Rt=o.useMemo(()=>S.reduce((r,m,c)=>c>=dt?r:r+m.height,0),[S,dt]),Et=Ft(),qt=t.invert||e,ht=N===\"loading\";U.current=o.useMemo(()=>dt*pt+Rt,[dt,Rt]),o.useEffect(()=>{O.current=Tt},[Tt]),o.useEffect(()=>{H(!0)},[]),o.useEffect(()=>{let r=k.current;if(r){let m=r.getBoundingClientRect().height;return _(m),f(c=>[{toastId:t.id,height:m,position:t.position},...c]),()=>f(c=>c.filter(b=>b.toastId!==t.id))}},[f,t.id]),o.useLayoutEffect(()=>{if(!W)return;let r=k.current,m=r.style.height;r.style.height=\"auto\";let c=r.getBoundingClientRect().height;r.style.height=m,_(c),f(b=>b.find(x=>x.toastId===t.id)?b.map(x=>x.toastId===t.id?{...x,height:c}:x):[{toastId:t.id,height:c,position:t.position},...b])},[W,t.title,t.description,f,t.id]);let $=o.useCallback(()=>{mt(!0),j(U.current),f(r=>r.filter(m=>m.toastId!==t.id)),setTimeout(()=>{T(t)},we)},[t,T,f,U]);o.useEffect(()=>{if(t.promise&&N===\"loading\"||t.duration===1/0||t.type===\"loading\")return;let r;return D||u||it&&Et?(()=>{if(St.current<gt.current){let b=new Date().getTime()-gt.current;O.current=O.current-b}St.current=new Date().getTime()})():(()=>{O.current!==1/0&&(gt.current=new Date().getTime(),r=setTimeout(()=>{var b;(b=t.onAutoClose)==null||b.call(t,t),$()},O.current))})(),()=>clearTimeout(r)},[D,u,t,N,it,Et,$]),o.useEffect(()=>{t.delete&&$()},[$,t.delete]);function Zt(){var r,m,c;return P!=null&&P.loading?o.createElement(\"div\",{className:M(s==null?void 0:s.loader,(r=t==null?void 0:t.classNames)==null?void 0:r.loader,\"sonner-loader\"),\"data-visible\":N===\"loading\"},P.loading):rt?o.createElement(\"div\",{className:M(s==null?void 0:s.loader,(m=t==null?void 0:t.classNames)==null?void 0:m.loader,\"sonner-loader\"),\"data-visible\":N===\"loading\"},rt):o.createElement(Yt,{className:M(s==null?void 0:s.loader,(c=t==null?void 0:t.classNames)==null?void 0:c.loader),visible:N===\"loading\"})}return o.createElement(\"li\",{tabIndex:0,ref:k,className:M(ot,Kt,s==null?void 0:s.toast,(Dt=t==null?void 0:t.classNames)==null?void 0:Dt.toast,s==null?void 0:s.default,s==null?void 0:s[N],(Pt=t==null?void 0:t.classNames)==null?void 0:Pt[N]),\"data-sonner-toast\":\"\",\"data-rich-colors\":(Nt=t.richColors)!=null?Nt:F,\"data-styled\":!(t.jsx||t.unstyled||a),\"data-mounted\":W,\"data-promise\":!!t.promise,\"data-swiped\":h,\"data-removed\":A,\"data-visible\":Ut,\"data-y-position\":Gt,\"data-x-position\":Qt,\"data-index\":g,\"data-front\":Vt,\"data-swiping\":L,\"data-dismissible\":V,\"data-type\":N,\"data-invert\":qt,\"data-swipe-out\":ct,\"data-swipe-direction\":lt,\"data-expanded\":!!(D||B&&W),style:{\"--index\":g,\"--toasts-before\":g,\"--z-index\":i.length-g,\"--offset\":`${A?R:U.current}px`,\"--initial-height\":B?\"auto\":`${p}px`,...ut,...t.style},onDragEnd:()=>{z(!1),C(null),K.current=null},onPointerDown:r=>{ht||!V||(G.current=new Date,j(U.current),r.target.setPointerCapture(r.pointerId),r.target.tagName!==\"BUTTON\"&&(z(!0),K.current={x:r.clientX,y:r.clientY}))},onPointerUp:()=>{var x,Q,q,Z;if(ct||!V)return;K.current=null;let r=Number(((x=k.current)==null?void 0:x.style.getPropertyValue(\"--swipe-amount-x\").replace(\"px\",\"\"))||0),m=Number(((Q=k.current)==null?void 0:Q.style.getPropertyValue(\"--swipe-amount-y\").replace(\"px\",\"\"))||0),c=new Date().getTime()-((q=G.current)==null?void 0:q.getTime()),b=Y===\"x\"?r:m,I=Math.abs(b)/c;if(Math.abs(b)>=ye||I>.11){j(U.current),(Z=t.onDismiss)==null||Z.call(t,t),J(Y===\"x\"?r>0?\"right\":\"left\":m>0?\"down\":\"up\"),$(),d(!0),y(!1);return}z(!1),C(null)},onPointerMove:r=>{var Q,q,Z,zt;if(!K.current||!V||((Q=window.getSelection())==null?void 0:Q.toString().length)>0)return;let c=r.clientY-K.current.y,b=r.clientX-K.current.x,I=(q=n.swipeDirections)!=null?q:xe(st);!Y&&(Math.abs(b)>1||Math.abs(c)>1)&&C(Math.abs(b)>Math.abs(c)?\"x\":\"y\");let x={x:0,y:0};Y===\"y\"?(I.includes(\"top\")||I.includes(\"bottom\"))&&(I.includes(\"top\")&&c<0||I.includes(\"bottom\")&&c>0)&&(x.y=c):Y===\"x\"&&(I.includes(\"left\")||I.includes(\"right\"))&&(I.includes(\"left\")&&b<0||I.includes(\"right\")&&b>0)&&(x.x=b),(Math.abs(x.x)>0||Math.abs(x.y)>0)&&y(!0),(Z=k.current)==null||Z.style.setProperty(\"--swipe-amount-x\",`${x.x}px`),(zt=k.current)==null||zt.style.setProperty(\"--swipe-amount-y\",`${x.y}px`)}},Jt&&!t.jsx?o.createElement(\"button\",{\"aria-label\":nt,\"data-disabled\":ht,\"data-close-button\":!0,onClick:ht||!V?()=>{}:()=>{var r;$(),(r=t.onDismiss)==null||r.call(t,t)},className:M(s==null?void 0:s.closeButton,(Bt=t==null?void 0:t.classNames)==null?void 0:Bt.closeButton)},(Ct=P==null?void 0:P.close)!=null?Ct:Ot):null,t.jsx||xt(t.title)?t.jsx?t.jsx:typeof t.title==\"function\"?t.title():t.title:o.createElement(o.Fragment,null,N||t.icon||t.promise?o.createElement(\"div\",{\"data-icon\":\"\",className:M(s==null?void 0:s.icon,(kt=t==null?void 0:t.classNames)==null?void 0:kt.icon)},t.promise||t.type===\"loading\"&&!t.icon?t.icon||Zt():null,t.type!==\"loading\"?t.icon||(P==null?void 0:P[N])||jt(N):null):null,o.createElement(\"div\",{\"data-content\":\"\",className:M(s==null?void 0:s.content,(It=t==null?void 0:t.classNames)==null?void 0:It.content)},o.createElement(\"div\",{\"data-title\":\"\",className:M(s==null?void 0:s.title,(Mt=t==null?void 0:t.classNames)==null?void 0:Mt.title)},typeof t.title==\"function\"?t.title():t.title),t.description?o.createElement(\"div\",{\"data-description\":\"\",className:M(at,Xt,s==null?void 0:s.description,(Ht=t==null?void 0:t.classNames)==null?void 0:Ht.description)},typeof t.description==\"function\"?t.description():t.description):null),xt(t.cancel)?t.cancel:t.cancel&&tt(t.cancel)?o.createElement(\"button\",{\"data-button\":!0,\"data-cancel\":!0,style:t.cancelButtonStyle||ft,onClick:r=>{var m,c;tt(t.cancel)&&V&&((c=(m=t.cancel).onClick)==null||c.call(m,r),$())},className:M(s==null?void 0:s.cancelButton,(At=t==null?void 0:t.classNames)==null?void 0:At.cancelButton)},t.cancel.label):null,xt(t.action)?t.action:t.action&&tt(t.action)?o.createElement(\"button\",{\"data-button\":!0,\"data-action\":!0,style:t.actionButtonStyle||l,onClick:r=>{var m,c;tt(t.action)&&((c=(m=t.action).onClick)==null||c.call(m,r),!r.defaultPrevented&&$())},className:M(s==null?void 0:s.actionButton,(Lt=t==null?void 0:t.classNames)==null?void 0:Lt.actionButton)},t.action.label):null))};function _t(){if(typeof window==\"undefined\"||typeof document==\"undefined\")return\"ltr\";let n=document.documentElement.getAttribute(\"dir\");return n===\"auto\"||!n?window.getComputedStyle(document.documentElement).direction:n}function Te(n,e){let t={};return[n,e].forEach((a,u)=>{let f=u===1,w=f?\"--mobile-offset\":\"--offset\",S=f?ge:me;function g(i){[\"top\",\"right\",\"bottom\",\"left\"].forEach(D=>{t[`${w}-${D}`]=typeof i==\"number\"?`${i}px`:i})}typeof a==\"number\"||typeof a==\"string\"?g(a):typeof a==\"object\"?[\"top\",\"right\",\"bottom\",\"left\"].forEach(i=>{a[i]===void 0?t[`${w}-${i}`]=S:t[`${w}-${i}`]=typeof a[i]==\"number\"?`${a[i]}px`:a[i]}):g(S)}),t}function Oe(){let[n,e]=o.useState([]);return o.useEffect(()=>v.subscribe(t=>{if(t.dismiss){setTimeout(()=>{vt.flushSync(()=>{e(a=>a.filter(u=>u.id!==t.id))})});return}setTimeout(()=>{vt.flushSync(()=>{e(a=>{let u=a.findIndex(f=>f.id===t.id);return u!==-1?[...a.slice(0,u),{...a[u],...t},...a.slice(u+1)]:[t,...a]})})})}),[]),{toasts:n}}var $e=fe(function(e,t){let{invert:a,position:u=\"bottom-right\",hotkey:f=[\"altKey\",\"KeyT\"],expand:w,closeButton:S,className:g,offset:i,mobileOffset:D,theme:T=\"light\",richColors:F,duration:et,style:ut,visibleToasts:ft=pe,toastOptions:l,dir:ot=_t(),gap:at=be,loadingIcon:X,icons:st,containerAriaLabel:pt=\"Notifications\",pauseWhenPageIsHidden:rt}=e,[B,s]=o.useState([]),P=o.useMemo(()=>Array.from(new Set([u].concat(B.filter(d=>d.position).map(d=>d.position)))),[B,u]),[nt,it]=o.useState([]),[Y,C]=o.useState(!1),[lt,J]=o.useState(!1),[W,H]=o.useState(T!==\"system\"?T:typeof window!=\"undefined\"&&window.matchMedia&&window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"light\"),A=o.useRef(null),mt=f.join(\"+\").replace(/Key/g,\"\").replace(/Digit/g,\"\"),L=o.useRef(null),z=o.useRef(!1),ct=o.useCallback(d=>{s(h=>{var y;return(y=h.find(R=>R.id===d.id))!=null&&y.delete||v.dismiss(d.id),h.filter(({id:R})=>R!==d.id)})},[]);return o.useEffect(()=>v.subscribe(d=>{if(d.dismiss){s(h=>h.map(y=>y.id===d.id?{...y,delete:!0}:y));return}setTimeout(()=>{vt.flushSync(()=>{s(h=>{let y=h.findIndex(R=>R.id===d.id);return y!==-1?[...h.slice(0,y),{...h[y],...d},...h.slice(y+1)]:[d,...h]})})})}),[]),o.useEffect(()=>{if(T!==\"system\"){H(T);return}if(T===\"system\"&&(window.matchMedia&&window.matchMedia(\"(prefers-color-scheme: dark)\").matches?H(\"dark\"):H(\"light\")),typeof window==\"undefined\")return;let d=window.matchMedia(\"(prefers-color-scheme: dark)\");try{d.addEventListener(\"change\",({matches:h})=>{H(h?\"dark\":\"light\")})}catch(h){d.addListener(({matches:y})=>{try{H(y?\"dark\":\"light\")}catch(R){console.error(R)}})}},[T]),o.useEffect(()=>{B.length<=1&&C(!1)},[B]),o.useEffect(()=>{let d=h=>{var R,j;f.every(p=>h[p]||h.code===p)&&(C(!0),(R=A.current)==null||R.focus()),h.code===\"Escape\"&&(document.activeElement===A.current||(j=A.current)!=null&&j.contains(document.activeElement))&&C(!1)};return document.addEventListener(\"keydown\",d),()=>document.removeEventListener(\"keydown\",d)},[f]),o.useEffect(()=>{if(A.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,z.current=!1)}},[A.current]),o.createElement(\"section\",{ref:t,\"aria-label\":`${pt} ${mt}`,tabIndex:-1,\"aria-live\":\"polite\",\"aria-relevant\":\"additions text\",\"aria-atomic\":\"false\",suppressHydrationWarning:!0},P.map((d,h)=>{var j;let[y,R]=d.split(\"-\");return B.length?o.createElement(\"ol\",{key:d,dir:ot===\"auto\"?_t():ot,tabIndex:-1,ref:A,className:g,\"data-sonner-toaster\":!0,\"data-theme\":W,\"data-y-position\":y,\"data-lifted\":Y&&B.length>1&&!w,\"data-x-position\":R,style:{\"--front-toast-height\":`${((j=nt[0])==null?void 0:j.height)||0}px`,\"--width\":`${he}px`,\"--gap\":`${at}px`,...ut,...Te(i,D)},onBlur:p=>{z.current&&!p.currentTarget.contains(p.relatedTarget)&&(z.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:p=>{p.target instanceof HTMLElement&&p.target.dataset.dismissible===\"false\"||z.current||(z.current=!0,L.current=p.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{lt||C(!1)},onDragEnd:()=>C(!1),onPointerDown:p=>{p.target instanceof HTMLElement&&p.target.dataset.dismissible===\"false\"||J(!0)},onPointerUp:()=>J(!1)},B.filter(p=>!p.position&&h===0||p.position===d).map((p,_)=>{var O,G;return o.createElement(ve,{key:p.id,icons:st,index:_,toast:p,defaultRichColors:F,duration:(O=l==null?void 0:l.duration)!=null?O:et,className:l==null?void 0:l.className,descriptionClassName:l==null?void 0:l.descriptionClassName,invert:a,visibleToasts:ft,closeButton:(G=l==null?void 0:l.closeButton)!=null?G:S,interacting:lt,position:d,style:l==null?void 0:l.style,unstyled:l==null?void 0:l.unstyled,classNames:l==null?void 0:l.classNames,cancelButtonStyle:l==null?void 0:l.cancelButtonStyle,actionButtonStyle:l==null?void 0:l.actionButtonStyle,removeToast:ct,toasts:B.filter(k=>k.position==p.position),heights:nt.filter(k=>k.position==p.position),setHeights:it,expandByDefault:w,gap:at,loadingIcon:X,expanded:Y,pauseWhenPageIsHidden:rt,swipeDirections:e.swipeDirections})})):null}))});export{$e as Toaster,ue as toast,Oe as useSonner};\n//# sourceMappingURL=index.mjs.map","import { toast } from 'sonner';\r\nimport { logger } from '@/utils/logger';\r\n\r\nexport interface BookingNotification {\r\n  id: string;\r\n  type: 'booking_confirmed' | 'booking_cancelled' | 'check_in_reminder' | 'review_request' | 'promotion';\r\n  title: string;\r\n  message: string;\r\n  bookingId?: string;\r\n  userId: string;\r\n  createdAt: string;\r\n  read: boolean;\r\n  actionUrl?: string;\r\n  priority: 'low' | 'medium' | 'high';\r\n}\r\n\r\nexport interface NotificationPreferences {\r\n  emailNotifications: boolean;\r\n  pushNotifications: boolean;\r\n  smsNotifications: boolean;\r\n  marketingEmails: boolean;\r\n  bookingReminders: boolean;\r\n  promotionalOffers: boolean;\r\n}\r\n\r\nclass NotificationService {\r\n  private notifications: Map<string, BookingNotification[]> = new Map();\r\n  private subscribers: Map<string, ((notifications: BookingNotification[]) => void)[]> = new Map();\r\n\r\n  async sendBookingConfirmation(userId: string, bookingId: string, confirmationNumber: string, hotelName: string): Promise<void> {\r\n    try {\r\n      const notification: BookingNotification = {\r\n        id: `booking-confirmed-${Date.now()}`,\r\n        type: 'booking_confirmed',\r\n        title: 'Booking Confirmed!',\r\n        message: `Your reservation at ${hotelName} has been confirmed. Confirmation number: ${confirmationNumber}`,\r\n        bookingId,\r\n        userId,\r\n        createdAt: new Date().toISOString(),\r\n        read: false,\r\n        actionUrl: `/my-bookings`,\r\n        priority: 'high'\r\n      };\r\n\r\n      await this.addNotification(userId, notification);\r\n      \r\n      // Show success toast\r\n      toast.success(`Booking confirmed at ${hotelName}!`, {\r\n        description: `Confirmation: ${confirmationNumber}`,\r\n        duration: 5000,\r\n      });\r\n\r\n      logger.info('Booking confirmation notification sent', {\r\n        userId,\r\n        bookingId,\r\n        confirmationNumber,\r\n        hotelName\r\n      });\r\n    } catch (error) {\r\n      logger.error('Failed to send booking confirmation notification:', error);\r\n    }\r\n  }\r\n\r\n  async sendBookingCancellation(userId: string, bookingId: string, hotelName: string, refundAmount?: number): Promise<void> {\r\n    try {\r\n      const refundText = refundAmount ? ` A refund of $${refundAmount.toLocaleString()} has been processed.` : '';\r\n      \r\n      const notification: BookingNotification = {\r\n        id: `booking-cancelled-${Date.now()}`,\r\n        type: 'booking_cancelled',\r\n        title: 'Booking Cancelled',\r\n        message: `Your reservation at ${hotelName} has been cancelled.${refundText}`,\r\n        bookingId,\r\n        userId,\r\n        createdAt: new Date().toISOString(),\r\n        read: false,\r\n        actionUrl: `/my-bookings`,\r\n        priority: 'medium'\r\n      };\r\n\r\n      await this.addNotification(userId, notification);\r\n      \r\n      // Show cancellation toast\r\n      toast.success('Booking cancelled successfully', {\r\n        description: refundAmount ? `Refund of $${refundAmount.toLocaleString()} processed` : 'Your booking has been cancelled',\r\n        duration: 4000,\r\n      });\r\n\r\n      logger.info('Booking cancellation notification sent', {\r\n        userId,\r\n        bookingId,\r\n        hotelName,\r\n        refundAmount\r\n      });\r\n    } catch (error) {\r\n      logger.error('Failed to send booking cancellation notification:', error);\r\n    }\r\n  }\r\n\r\n  async sendCheckInReminder(userId: string, bookingId: string, hotelName: string, checkInDate: string): Promise<void> {\r\n    try {\r\n      const checkInDateObj = new Date(checkInDate);\r\n      const tomorrow = new Date();\r\n      tomorrow.setDate(tomorrow.getDate() + 1);\r\n      \r\n      // Only send if check-in is within 24 hours\r\n      if (checkInDateObj.getTime() <= tomorrow.getTime()) {\r\n        const notification: BookingNotification = {\r\n          id: `check-in-reminder-${Date.now()}`,\r\n          type: 'check_in_reminder',\r\n          title: 'Check-in Reminder',\r\n          message: `Don't forget! Your check-in at ${hotelName} is tomorrow (${checkInDateObj.toLocaleDateString()}).`,\r\n          bookingId,\r\n          userId,\r\n          createdAt: new Date().toISOString(),\r\n          read: false,\r\n          actionUrl: `/my-bookings`,\r\n          priority: 'medium'\r\n        };\r\n\r\n        await this.addNotification(userId, notification);\r\n        \r\n        logger.info('Check-in reminder sent', {\r\n          userId,\r\n          bookingId,\r\n          hotelName,\r\n          checkInDate\r\n        });\r\n      }\r\n    } catch (error) {\r\n      logger.error('Failed to send check-in reminder:', error);\r\n    }\r\n  }\r\n\r\n  async sendReviewRequest(userId: string, bookingId: string, hotelName: string): Promise<void> {\r\n    try {\r\n      const notification: BookingNotification = {\r\n        id: `review-request-${Date.now()}`,\r\n        type: 'review_request',\r\n        title: 'Share Your Experience',\r\n        message: `How was your stay at ${hotelName}? Help other travelers by leaving a review.`,\r\n        bookingId,\r\n        userId,\r\n        createdAt: new Date().toISOString(),\r\n        read: false,\r\n        actionUrl: `/my-bookings`,\r\n        priority: 'low'\r\n      };\r\n\r\n      await this.addNotification(userId, notification);\r\n      \r\n      logger.info('Review request sent', {\r\n        userId,\r\n        bookingId,\r\n        hotelName\r\n      });\r\n    } catch (error) {\r\n      logger.error('Failed to send review request:', error);\r\n    }\r\n  }\r\n\r\n  async sendPromotionalNotification(userId: string, title: string, message: string, actionUrl?: string): Promise<void> {\r\n    try {\r\n      const notification: BookingNotification = {\r\n        id: `promotion-${Date.now()}`,\r\n        type: 'promotion',\r\n        title,\r\n        message,\r\n        userId,\r\n        createdAt: new Date().toISOString(),\r\n        read: false,\r\n        actionUrl,\r\n        priority: 'low'\r\n      };\r\n\r\n      await this.addNotification(userId, notification);\r\n      \r\n      logger.info('Promotional notification sent', {\r\n        userId,\r\n        title\r\n      });\r\n    } catch (error) {\r\n      logger.error('Failed to send promotional notification:', error);\r\n    }\r\n  }\r\n\r\n  private async addNotification(userId: string, notification: BookingNotification): Promise<void> {\r\n    // Get existing notifications for user\r\n    const userNotifications = this.notifications.get(userId) || [];\r\n    \r\n    // Add new notification at the beginning\r\n    userNotifications.unshift(notification);\r\n    \r\n    // Keep only the most recent 50 notifications per user\r\n    if (userNotifications.length > 50) {\r\n      userNotifications.splice(50);\r\n    }\r\n    \r\n    // Store updated notifications\r\n    this.notifications.set(userId, userNotifications);\r\n    \r\n    // Persist to localStorage for demo purposes\r\n    try {\r\n      localStorage.setItem(`notifications-${userId}`, JSON.stringify(userNotifications));\r\n    } catch (error) {\r\n      logger.warn('Failed to persist notifications to localStorage:', { error: error instanceof Error ? error.message : String(error) });\r\n    }\r\n    \r\n    // Notify subscribers\r\n    this.notifySubscribers(userId, userNotifications);\r\n  }\r\n\r\n  async getUserNotifications(userId: string, limit?: number): Promise<BookingNotification[]> {\r\n    try {\r\n      // Try to load from localStorage first\r\n      const stored = localStorage.getItem(`notifications-${userId}`);\r\n      if (stored) {\r\n        const notifications = JSON.parse(stored) as BookingNotification[];\r\n        this.notifications.set(userId, notifications);\r\n      }\r\n      \r\n      const userNotifications = this.notifications.get(userId) || [];\r\n      return limit ? userNotifications.slice(0, limit) : userNotifications;\r\n    } catch (error) {\r\n      logger.error('Failed to get user notifications:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getUnreadCount(userId: string): Promise<number> {\r\n    try {\r\n      const notifications = await this.getUserNotifications(userId);\r\n      return notifications.filter(n => !n.read).length;\r\n    } catch (error) {\r\n      logger.error('Failed to get unread count:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  async markAsRead(userId: string, notificationId: string): Promise<void> {\r\n    try {\r\n      const userNotifications = await this.getUserNotifications(userId);\r\n      const notification = userNotifications.find(n => n.id === notificationId);\r\n      \r\n      if (notification) {\r\n        notification.read = true;\r\n        this.notifications.set(userId, userNotifications);\r\n        \r\n        // Persist to localStorage\r\n        localStorage.setItem(`notifications-${userId}`, JSON.stringify(userNotifications));\r\n        \r\n        // Notify subscribers\r\n        this.notifySubscribers(userId, userNotifications);\r\n      }\r\n    } catch (error) {\r\n      logger.error('Failed to mark notification as read:', error);\r\n    }\r\n  }\r\n\r\n  async markAllAsRead(userId: string): Promise<void> {\r\n    try {\r\n      const userNotifications = await this.getUserNotifications(userId);\r\n      userNotifications.forEach(notification => {\r\n        notification.read = true;\r\n      });\r\n      \r\n      this.notifications.set(userId, userNotifications);\r\n      \r\n      // Persist to localStorage\r\n      localStorage.setItem(`notifications-${userId}`, JSON.stringify(userNotifications));\r\n      \r\n      // Notify subscribers\r\n      this.notifySubscribers(userId, userNotifications);\r\n    } catch (error) {\r\n      logger.error('Failed to mark all notifications as read:', error);\r\n    }\r\n  }\r\n\r\n  async clearNotifications(userId: string): Promise<void> {\r\n    try {\r\n      this.notifications.set(userId, []);\r\n      localStorage.removeItem(`notifications-${userId}`);\r\n      \r\n      // Notify subscribers\r\n      this.notifySubscribers(userId, []);\r\n    } catch (error) {\r\n      logger.error('Failed to clear notifications:', error);\r\n    }\r\n  }\r\n\r\n  subscribe(userId: string, callback: (notifications: BookingNotification[]) => void): () => void {\r\n    const userSubscribers = this.subscribers.get(userId) || [];\r\n    userSubscribers.push(callback);\r\n    this.subscribers.set(userId, userSubscribers);\r\n    \r\n    // Return unsubscribe function\r\n    return () => {\r\n      const subscribers = this.subscribers.get(userId) || [];\r\n      const index = subscribers.indexOf(callback);\r\n      if (index > -1) {\r\n        subscribers.splice(index, 1);\r\n        this.subscribers.set(userId, subscribers);\r\n      }\r\n    };\r\n  }\r\n\r\n  private notifySubscribers(userId: string, notifications: BookingNotification[]): void {\r\n    const subscribers = this.subscribers.get(userId) || [];\r\n    subscribers.forEach(callback => {\r\n      try {\r\n        callback(notifications);\r\n      } catch (error) {\r\n        logger.error('Error notifying subscriber:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getUserPreferences(userId: string): Promise<NotificationPreferences> {\r\n    try {\r\n      const stored = localStorage.getItem(`notification-preferences-${userId}`);\r\n      if (stored) {\r\n        return JSON.parse(stored);\r\n      }\r\n      \r\n      // Default preferences\r\n      return {\r\n        emailNotifications: true,\r\n        pushNotifications: true,\r\n        smsNotifications: false,\r\n        marketingEmails: false,\r\n        bookingReminders: true,\r\n        promotionalOffers: false\r\n      };\r\n    } catch (error) {\r\n      logger.error('Failed to get notification preferences:', error);\r\n      return {\r\n        emailNotifications: true,\r\n        pushNotifications: true,\r\n        smsNotifications: false,\r\n        marketingEmails: false,\r\n        bookingReminders: true,\r\n        promotionalOffers: false\r\n      };\r\n    }\r\n  }\r\n\r\n  async updateUserPreferences(userId: string, preferences: Partial<NotificationPreferences>): Promise<void> {\r\n    try {\r\n      const current = await this.getUserPreferences(userId);\r\n      const updated = { ...current, ...preferences };\r\n      \r\n      localStorage.setItem(`notification-preferences-${userId}`, JSON.stringify(updated));\r\n      \r\n      logger.info('Notification preferences updated', { userId });\r\n    } catch (error) {\r\n      logger.error('Failed to update notification preferences:', error);\r\n    }\r\n  }\r\n\r\n  // Booking status tracking methods\r\n  async trackBookingStatus(bookingId: string, newStatus: string, userId?: string): Promise<void> {\r\n    try {\r\n      if (!userId) return;\r\n\r\n      const statusMessages = {\r\n        confirmed: 'Your booking has been confirmed',\r\n        checked_in: 'Welcome! You have successfully checked in',\r\n        checked_out: 'Thank you for your stay! Check-out completed',\r\n        cancelled: 'Your booking has been cancelled',\r\n        completed: 'Your stay is complete. We hope you enjoyed it!'\r\n      };\r\n\r\n      const message = statusMessages[newStatus as keyof typeof statusMessages];\r\n      if (message) {\r\n        toast.success(message, {\r\n          duration: 4000,\r\n        });\r\n      }\r\n\r\n      logger.info('Booking status tracked', {\r\n        bookingId,\r\n        newStatus,\r\n        userId\r\n      });\r\n    } catch (error) {\r\n      logger.error('Failed to track booking status:', error);\r\n    }\r\n  }\r\n}\r\n\r\nexport const notificationService = new NotificationService();\r\nexport default notificationService;","import axios from 'axios';\r\nimport { logger } from '@/utils/logger';\r\nimport { toast } from 'sonner';\r\nimport { notificationService } from './notificationService';\r\n\r\n// Use proxy in development, direct URL in production\r\nconst isDevelopment = import.meta.env.DEV;\r\nconst API_URL = isDevelopment ? '' : (import.meta.env.VITE_API_URL || 'http://localhost:4002');\r\n\r\nexport interface BookingData {\r\n  hotelId: string;\r\n  hotelName: string;\r\n  hotelImage: string;\r\n  roomType: string;\r\n  roomId?: string;\r\n  checkIn: string;\r\n  checkOut: string;\r\n  nights: number;\r\n  guests: {\r\n    adults: number;\r\n    children: number;\r\n  };\r\n  guestInfo: {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phone: string;\r\n  };\r\n  specialRequests?: string;\r\n  totalAmount: number;\r\n  currency: string;\r\n  paymentToken?: string;\r\n  userId?: string;\r\n}\r\n\r\nexport interface Booking {\r\n  id: string;\r\n  confirmationNumber: string;\r\n  userId?: string;\r\n  userEmail: string;\r\n  hotelId: string;\r\n  hotelName: string;\r\n  hotelImage: string;\r\n  hotelCity: string;\r\n  roomType: string;\r\n  roomId?: string;\r\n  checkIn: string;\r\n  checkOut: string;\r\n  nights: number;\r\n  guests: {\r\n    adults: number;\r\n    children: number;\r\n  };\r\n  guestInfo: {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phone: string;\r\n  };\r\n  specialRequests?: string;\r\n  totalAmount: number;\r\n  currency: string;\r\n  commission: number;\r\n  status: 'pending' | 'confirmed' | 'cancelled' | 'completed' | 'checked_in' | 'checked_out';\r\n  paymentStatus: 'pending' | 'completed' | 'failed' | 'refunded';\r\n  isCancellable: boolean;\r\n  cancellationDeadline?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  confirmedAt?: string;\r\n  cancelledAt?: string;\r\n  paymentId?: string;\r\n}\r\n\r\nexport interface BookingStats {\r\n  totalBookings: number;\r\n  upcomingBookings: number;\r\n  completedBookings: number;\r\n  cancelledBookings: number;\r\n  totalSpent: number;\r\n  currency: string;\r\n}\r\n\r\nclass BookingService {\r\n  private getAuthHeaders() {\r\n    const authToken = localStorage.getItem('authToken');\r\n    return authToken ? { Authorization: `Bearer ${authToken}` } : {};\r\n  }\r\n\r\n  async createBooking(data: BookingData): Promise<Booking> {\r\n    try {\r\n      logger.info('Creating booking:', { \r\n        hotelName: data.hotelName,\r\n        checkIn: data.checkIn,\r\n        userId: data.userId || 'guest'\r\n      });\r\n\r\n      const response = await axios.post(`${API_URL}/api/bookings`, data, {\r\n        headers: {\r\n          ...this.getAuthHeaders(),\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        const booking = response.data.booking;\r\n        logger.info('Booking created successfully:', { confirmationNumber: booking.confirmationNumber });\r\n        \r\n        // Send booking confirmation notification\r\n        if (data.userId) {\r\n          await notificationService.sendBookingConfirmation(\r\n            data.userId,\r\n            booking.id,\r\n            booking.confirmationNumber,\r\n            data.hotelName\r\n          );\r\n        } else {\r\n          // Show toast for guest bookings\r\n          toast.success(`Booking confirmed! Confirmation #${booking.confirmationNumber}`, {\r\n            duration: 5000,\r\n          });\r\n        }\r\n\r\n        return booking;\r\n      }\r\n      throw new Error('Failed to create booking');\r\n    } catch (error: any) {\r\n      logger.error('Booking creation failed:', error);\r\n      const errorMessage = error.response?.data?.error || 'Booking failed';\r\n      toast.error(errorMessage);\r\n      throw new Error(errorMessage);\r\n    }\r\n  }\r\n\r\n  async getUserBookings(userId: string, status?: string): Promise<Booking[]> {\r\n    try {\r\n      const params: any = {};\r\n      if (status) params.status = status;\r\n\r\n      const response = await axios.get(`${API_URL}/api/bookings/user/${userId}`, {\r\n        params,\r\n        headers: this.getAuthHeaders()\r\n      });\r\n\r\n      if (response.data.success) {\r\n        const bookings = response.data.bookings || response.data.data || [];\r\n        logger.info('Retrieved user bookings:', { userId, count: bookings.length });\r\n        return bookings;\r\n      }\r\n      return [];\r\n    } catch (error) {\r\n      logger.error('Failed to fetch user bookings', {\r\n        component: 'BookingService',\r\n        method: 'getUserBookings',\r\n        userId,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n      toast.error('Failed to load booking history');\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getBookings(): Promise<Booking[]> {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/bookings`, {\r\n        headers: this.getAuthHeaders()\r\n      });\r\n      if (response.data.success) {\r\n        return response.data.data || response.data.bookings || [];\r\n      }\r\n      return [];\r\n    } catch (error) {\r\n      logger.error('Failed to fetch bookings', {\r\n        component: 'BookingService',\r\n        method: 'getBookings',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getBooking(id: string): Promise<Booking | null> {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/bookings/${id}`, {\r\n        headers: this.getAuthHeaders()\r\n      });\r\n      if (response.data.success) {\r\n        return response.data.booking || response.data.data;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      logger.error('Failed to fetch individual booking', {\r\n        component: 'BookingService',\r\n        method: 'getBooking',\r\n        bookingId: id,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async getBookingByConfirmation(confirmationNumber: string): Promise<Booking | null> {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/bookings/confirmation/${confirmationNumber}`);\r\n      \r\n      if (response.data.success) {\r\n        const booking = response.data.booking || response.data.data;\r\n        logger.info('Retrieved booking by confirmation:', { confirmationNumber });\r\n        return booking;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      logger.error('Failed to retrieve booking by confirmation:', error);\r\n      if (axios.isAxiosError(error) && error.response?.status === 404) {\r\n        toast.error('Booking not found');\r\n      } else {\r\n        toast.error('Failed to retrieve booking');\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async cancelBooking(id: string, reason?: string): Promise<boolean> {\r\n    try {\r\n      const response = await axios.put(`${API_URL}/api/bookings/${id}/cancel`, \r\n        { reason },\r\n        { headers: this.getAuthHeaders() }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        logger.info('Booking cancelled successfully:', { bookingId: id });\r\n        \r\n        // Send cancellation notification if user is authenticated\r\n        const authToken = localStorage.getItem('authToken');\r\n        if (authToken) {\r\n          // Get booking details for notification\r\n          const booking = await this.getBooking(id);\r\n          if (booking && booking.userId) {\r\n            await notificationService.sendBookingCancellation(\r\n              booking.userId,\r\n              booking.id,\r\n              booking.hotelName,\r\n              booking.totalAmount // Assume full refund for demo\r\n            );\r\n          }\r\n        } else {\r\n          toast.success('Booking cancelled successfully');\r\n        }\r\n        \r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error: any) {\r\n      logger.error('Booking cancellation failed', {\r\n        component: 'BookingService',\r\n        method: 'cancelBooking',\r\n        bookingId: id,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n      \r\n      const errorMessage = error.response?.data?.message || 'Failed to cancel booking';\r\n      toast.error(errorMessage);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async confirmBooking(id: string): Promise<Booking | null> {\r\n    try {\r\n      const response = await axios.put(`${API_URL}/api/bookings/${id}/confirm`, {}, {\r\n        headers: this.getAuthHeaders()\r\n      });\r\n      if (response.data.success) {\r\n        toast.success('Booking confirmed successfully');\r\n        return response.data.booking;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      logger.error('Booking confirmation failed', {\r\n        component: 'BookingService',\r\n        method: 'confirmBooking',\r\n        bookingId: id,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n      toast.error('Failed to confirm booking');\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async getBookingStats(userId: string): Promise<BookingStats> {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/bookings/user/${userId}/stats`, {\r\n        headers: this.getAuthHeaders()\r\n      });\r\n\r\n      if (response.data.success) {\r\n        const stats = response.data.stats;\r\n        logger.info('Retrieved booking stats:', { userId, stats });\r\n        return stats;\r\n      }\r\n\r\n      return {\r\n        totalBookings: 0,\r\n        upcomingBookings: 0,\r\n        completedBookings: 0,\r\n        cancelledBookings: 0,\r\n        totalSpent: 0,\r\n        currency: 'USD'\r\n      };\r\n    } catch (error) {\r\n      logger.error('Failed to fetch booking stats:', error);\r\n      return {\r\n        totalBookings: 0,\r\n        upcomingBookings: 0,\r\n        completedBookings: 0,\r\n        cancelledBookings: 0,\r\n        totalSpent: 0,\r\n        currency: 'USD'\r\n      };\r\n    }\r\n  }\r\n\r\n  async searchBookings(query: {\r\n    userId?: string;\r\n    startDate?: string;\r\n    endDate?: string;\r\n    status?: string;\r\n    hotelName?: string;\r\n    confirmationNumber?: string;\r\n    limit?: number;\r\n    offset?: number;\r\n  }): Promise<{ bookings: Booking[]; total: number }> {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/bookings/search`, {\r\n        params: query,\r\n        headers: this.getAuthHeaders()\r\n      });\r\n\r\n      if (response.data.success) {\r\n        const result = response.data.result;\r\n        logger.info('Booking search completed:', { \r\n          query: query.hotelName || query.confirmationNumber || 'general', \r\n          count: result.bookings.length \r\n        });\r\n        \r\n        return result;\r\n      }\r\n\r\n      return { bookings: [], total: 0 };\r\n    } catch (error) {\r\n      logger.error('Failed to search bookings:', error);\r\n      toast.error('Failed to search bookings');\r\n      return { bookings: [], total: 0 };\r\n    }\r\n  }\r\n\r\n  calculateNights(checkIn: string, checkOut: string): number {\r\n    const start = new Date(checkIn);\r\n    const end = new Date(checkOut);\r\n    const diffTime = Math.abs(end.getTime() - start.getTime());\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return diffDays;\r\n  }\r\n\r\n  calculateTotalAmount(pricePerNight: number, nights: number, guests: number): number {\r\n    const baseAmount = pricePerNight * nights;\r\n    const guestFee = guests > 2 ? (guests - 2) * 20 * nights : 0;\r\n    const serviceFee = baseAmount * 0.1; // 10% service fee\r\n    return baseAmount + guestFee + serviceFee;\r\n  }\r\n\r\n  calculateCommission(totalAmount: number): number {\r\n    return totalAmount * 0.05; // 5% commission\r\n  }\r\n}\r\n\r\nexport const bookingService = new BookingService();","import { useEffect } from 'react';\r\nimport { ChevronLeft, ChevronRight, Check, AlertCircle, CreditCard, User, Calendar } from 'lucide-react';\r\nimport { SquarePaymentForm } from '../payment/SquarePaymentForm';\r\nimport { Button } from '../ui/Button';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { Input } from '../ui/Input';\r\nimport { useBookingStore } from '@/store/bookingStore';\r\nimport { useSearchStore } from '@/store/searchStore';\r\nimport { useHotelStore } from '@/store/hotelStore';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport type { Room } from '@/types/hotel';\r\nimport { cn } from '@/utils/cn';\r\nimport { bookingService } from '@/services/bookingService';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { logger } from '@/utils/logger';\r\n\r\ninterface BookingFlowProps {\r\n  selectedRoom?: Room;\r\n  onBookingComplete?: (bookingId: string) => void;\r\n  onCancel?: () => void;\r\n  className?: string;\r\n}\r\n\r\ntype BookingStep = 'room-selection' | 'guest-details' | 'payment';\r\n\r\nconst BookingFlow: React.FC<BookingFlowProps> = ({\r\n  selectedRoom: propSelectedRoom,\r\n  onBookingComplete,\r\n  onCancel,\r\n  className = '',\r\n}) => {\r\n  const {\r\n    currentStep,\r\n    guestDetails,\r\n    selectedRoom,\r\n    // paymentInfo,\r\n    // confirmation,\r\n    errors,\r\n    // loading,\r\n    // setCurrentStep,\r\n    setGuestDetails,\r\n    setSelectedRoom,\r\n    // setPaymentInfo,\r\n    nextStep,\r\n    previousStep,\r\n    validateCurrentStep,\r\n    setLoading,\r\n    clearBooking,\r\n  } = useBookingStore();\r\n\r\n  const { selectedDateRange, guestCount } = useSearchStore();\r\n  const { selectedHotel } = useHotelStore();\r\n  const { user, isAuthenticated } = useAuth();\r\n\r\n  // const [cardNumberFormatted, setCardNumberFormatted] = useState('');\r\n  // const [expiryFormatted, setExpiryFormatted] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (propSelectedRoom && !selectedRoom) {\r\n      setSelectedRoom(propSelectedRoom);\r\n    }\r\n  }, [propSelectedRoom, selectedRoom, setSelectedRoom]);\r\n\r\n  const steps: Array<{ id: BookingStep; title: string; description: string; icon: any }> = [\r\n    { id: 'room-selection', title: 'Room Selection', description: 'Choose your room', icon: Calendar },\r\n    { id: 'guest-details', title: 'Guest Details', description: 'Enter guest information', icon: User },\r\n    { id: 'payment', title: 'Payment & Confirm', description: 'Complete booking', icon: CreditCard },\r\n  ];\r\n\r\n  const formatPrice = (price: number, currency: string = 'USD') => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency,\r\n    }).format(price);\r\n  };\r\n\r\n  // const formatCardNumber = (value: string) => {\r\n  //   const v = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\r\n  //   const matches = v.match(/\\d{4,16}/g);\r\n  //   const match = matches && matches[0] || '';\r\n  //   const parts = [];\r\n  //   for (let i = 0, len = match.length; i < len; i += 4) {\r\n  //     parts.push(match.substring(i, i + 4));\r\n  //   }\r\n  //   if (parts.length) {\r\n  //     return parts.join(' ');\r\n  //   } else {\r\n  //     return v;\r\n  //   }\r\n  // };\r\n\r\n  // const formatExpiry = (value: string) => {\r\n  //   return value\r\n  //     .replace(/\\D/g, '')\r\n  //     .replace(/(\\d{2})(\\d)/, '$1/$2')\r\n  //     .substr(0, 5);\r\n  // };\r\n\r\n  const totalNights = selectedDateRange.checkIn && selectedDateRange.checkOut\r\n    ? Math.ceil((new Date(selectedDateRange.checkOut).getTime() - new Date(selectedDateRange.checkIn).getTime()) / (1000 * 60 * 60 * 24))\r\n    : 1;\r\n\r\n  const totalAmount = selectedRoom ? selectedRoom.price * totalNights : 0;\r\n\r\n  // const handleCardNumberChange = (value: string) => {\r\n  //   const formatted = formatCardNumber(value);\r\n  //   setCardNumberFormatted(formatted);\r\n  //   setPaymentInfo({ cardNumber: formatted.replace(/\\s/g, '') });\r\n  // };\r\n\r\n  // const handleExpiryChange = (value: string) => {\r\n  //   const formatted = formatExpiry(value);\r\n  //   setExpiryFormatted(formatted);\r\n  //   setPaymentInfo({ expiryDate: formatted });\r\n  // };\r\n\r\n  const handleNextStep = () => {\r\n    if (validateCurrentStep()) {\r\n      nextStep();\r\n    }\r\n  };\r\n\r\n  const handlePreviousStep = () => {\r\n    previousStep();\r\n  };\r\n\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleCompleteBooking = async () => {\r\n    if (!validateCurrentStep()) {\r\n      return;\r\n    }\r\n\r\n    if (!selectedRoom || !selectedHotel) {\r\n      logger.error('Booking attempt with missing required data', {\r\n        component: 'BookingFlow',\r\n        method: 'handleCompleteBooking',\r\n        hasSelectedRoom: !!selectedRoom,\r\n        hasSelectedHotel: !!selectedHotel,\r\n        userImpact: 'booking_blocked',\r\n      });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Calculate pricing\r\n      const nights = totalNights;\r\n      const roomRate = selectedRoom.price;\r\n      const taxes = roomRate * nights * 0.15; // 15% taxes\r\n      const fees = 25; // Service fee\r\n      const totalAmount = (roomRate * nights) + taxes + fees;\r\n\r\n      // Prepare booking data with user information\r\n      const bookingData = {\r\n        hotelId: selectedHotel.id,\r\n        hotelName: selectedHotel.name,\r\n        hotelImage: selectedHotel.images?.[0]?.url || '',\r\n        roomType: selectedRoom.type || selectedRoom.name || 'Standard Room',\r\n        roomId: selectedRoom.id,\r\n        checkIn: selectedDateRange.checkIn || new Date().toISOString().split('T')[0],\r\n        checkOut: selectedDateRange.checkOut || new Date(Date.now() + 86400000).toISOString().split('T')[0],\r\n        nights: nights,\r\n        guests: {\r\n          adults: guestCount.adults,\r\n          children: guestCount.children,\r\n        },\r\n        guestInfo: {\r\n          firstName: guestDetails.firstName || (isAuthenticated && user?.firstName) || 'Guest',\r\n          lastName: guestDetails.lastName || (isAuthenticated && user?.lastName) || 'User',\r\n          email: guestDetails.email || (isAuthenticated && user?.email) || 'guest@example.com',\r\n          phone: guestDetails.phone || '555-0100'\r\n        },\r\n        specialRequests: guestDetails.specialRequests,\r\n        totalAmount,\r\n        currency: selectedRoom.currency || 'USD',\r\n        userId: isAuthenticated ? user?.id : undefined,\r\n      };\r\n\r\n      // Create booking using the enhanced service\r\n      const booking = await bookingService.createBooking(bookingData);\r\n\r\n      // Clear booking data\r\n      // Store booking in localStorage for confirmation page\r\n      localStorage.setItem('lastBooking', JSON.stringify(booking));\r\n      localStorage.setItem('lastBookingId', booking.id);\r\n      \r\n      logger.info('Booking created successfully', {\r\n        component: 'BookingFlow',\r\n        method: 'handleCompleteBooking',\r\n        bookingId: booking.id,\r\n        confirmationNumber: booking.confirmationNumber,\r\n        hotelId: selectedHotel.id,\r\n        totalAmount,\r\n        isAuthenticated,\r\n        userId: user?.id,\r\n        userImpact: 'booking_completed',\r\n      });\r\n\r\n      clearBooking();\r\n      \r\n      // Navigate to confirmation page with booking data\r\n      if (onBookingComplete) {\r\n        onBookingComplete(booking.confirmationNumber || booking.id);\r\n      } else {\r\n        // Navigate to confirmation page with confirmation number\r\n        navigate(`/confirmation/${booking.confirmationNumber || booking.id}`, {\r\n          state: {\r\n            booking,\r\n            paymentIntent: {\r\n              id: booking.confirmationNumber || booking.id,\r\n              status: 'succeeded',\r\n              amount: totalAmount * 100,\r\n              currency: selectedRoom.currency || 'USD'\r\n            }\r\n          }\r\n        });\r\n      }\r\n    } catch (error) {\r\n      logger.error('Booking creation failed', {\r\n        component: 'BookingFlow',\r\n        method: 'handleCompleteBooking',\r\n        hotelId: selectedHotel?.id,\r\n        roomId: selectedRoom?.id,\r\n        guestEmail: guestDetails.email,\r\n        isAuthenticated,\r\n        userId: user?.id,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n        userImpact: 'booking_failed',\r\n      });\r\n      // Error is already displayed by the booking service toast\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderStepIndicator = () => {\r\n    const currentIndex = steps.findIndex((s) => s.id === currentStep);\r\n\r\n    return (\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        {steps.map((step, index) => {\r\n          const isActive = step.id === currentStep;\r\n          const isCompleted = currentIndex > index;\r\n          const IconComponent = step.icon;\r\n\r\n          return (\r\n            <div key={step.id} className=\"flex items-center\">\r\n              <div className={cn(\r\n                'flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300',\r\n                isActive\r\n                  ? 'border-primary-600 bg-primary-600 text-white shadow-lg scale-110'\r\n                  : isCompleted\r\n                    ? 'border-green-600 bg-green-600 text-white'\r\n                    : 'border-gray-300 bg-white text-gray-400',\r\n              )}>\r\n                {isCompleted ? (\r\n                  <Check className=\"w-6 h-6\" />\r\n                ) : (\r\n                  <IconComponent className=\"w-6 h-6\" />\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"ml-4 hidden sm:block\">\r\n                <div className={cn(\r\n                  'text-sm font-medium transition-colors',\r\n                  isActive ? 'text-primary-600' : 'text-gray-900 dark:text-white',\r\n                )}>\r\n                  {step.title}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">{step.description}</div>\r\n              </div>\r\n\r\n              {index < steps.length - 1 && (\r\n                <div className={cn(\r\n                  'w-12 sm:w-24 h-0.5 mx-6 transition-colors duration-300',\r\n                  isCompleted ? 'bg-green-600' : 'bg-gray-300 dark:bg-gray-600',\r\n                )} />\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderRoomSelectionStep = () => {\r\n    // Use rooms from hotel details or generate mock rooms\r\n    const getRooms = (): Room[] => {\r\n      // First check if hotel has rooms property\r\n      if (selectedHotel && 'rooms' in selectedHotel && Array.isArray(selectedHotel.rooms)) {\r\n        return selectedHotel.rooms;\r\n      }\r\n      \r\n      // Otherwise generate mock rooms\r\n      if (!selectedHotel || !selectedHotel.priceRange) {\r\n        return [];\r\n      }\r\n\r\n      const basePrice = selectedHotel.priceRange.avgNightly || 100;\r\n      return [\r\n        {\r\n          id: `${selectedHotel.id}-room-1`,\r\n          name: 'Standard Room',\r\n          type: 'Standard',\r\n          capacity: 2,\r\n          price: Math.round(basePrice * 0.8),\r\n          currency: selectedHotel.priceRange.currency || 'USD',\r\n          amenities: ['Free WiFi', 'Air Conditioning', 'TV'],\r\n          images: [selectedHotel.images[0]?.url || '/placeholder-room.jpg'],\r\n          availability: true,\r\n          description: 'Comfortable room with all essential amenities for a pleasant stay.',\r\n        },\r\n        {\r\n          id: `${selectedHotel.id}-room-2`,\r\n          name: 'Deluxe Room',\r\n          type: 'Deluxe',\r\n          capacity: 4,\r\n          price: Math.round(basePrice),\r\n          currency: selectedHotel.priceRange.currency || 'USD',\r\n          amenities: ['Free WiFi', 'Air Conditioning', 'TV', 'Mini Bar', 'City View'],\r\n          images: [selectedHotel.images[0]?.url || '/placeholder-room.jpg'],\r\n          availability: true,\r\n          description: 'Spacious room with premium amenities and beautiful city views.',\r\n        },\r\n        {\r\n          id: `${selectedHotel.id}-room-3`,\r\n          name: 'Suite',\r\n          type: 'Suite',\r\n          capacity: 6,\r\n          price: Math.round(basePrice * 1.5),\r\n          currency: selectedHotel.priceRange.currency || 'USD',\r\n          amenities: ['Free WiFi', 'Air Conditioning', 'TV', 'Mini Bar', 'Ocean View', 'Living Area', 'Balcony'],\r\n          images: [selectedHotel.images[0]?.url || '/placeholder-room.jpg'],\r\n          availability: true,\r\n          description: 'Luxurious suite with separate living area, premium amenities and stunning ocean views.',\r\n        },\r\n      ];\r\n    };\r\n\r\n    // Get available rooms\r\n    const availableRooms = getRooms();\r\n\r\n    return (\r\n    <div className=\"space-y-6\">\r\n      <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\r\n        {selectedRoom ? 'Selected Room' : 'Choose Your Room'}\r\n      </h3>\r\n\r\n      {selectedRoom ? (\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex flex-col lg:flex-row gap-6\">\r\n            <div className=\"lg:w-1/3\">\r\n              <img\r\n                src={selectedRoom.images[0] || '/placeholder-room.jpg'}\r\n                alt={selectedRoom.name}\r\n                className=\"w-full h-48 object-cover rounded-lg\"\r\n                onError={(e) => {\r\n                  (e.target as HTMLImageElement).src = '/placeholder-room.jpg';\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"lg:w-2/3\">\r\n              <h4 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\r\n                {selectedRoom.name}\r\n              </h4>\r\n              <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n                {selectedRoom.description}\r\n              </p>\r\n\r\n              <div className=\"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4\">\r\n                <span> Up to {selectedRoom.capacity} guests</span>\r\n                <span> {selectedRoom.type}</span>\r\n              </div>\r\n\r\n              <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                {selectedRoom.amenities.map((amenity, index) => (\r\n                  <span\r\n                    key={index}\r\n                    className=\"px-3 py-1 bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300 text-sm rounded-full\"\r\n                  >\r\n                    {amenity}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                <div>\r\n                  <div className=\"text-2xl font-bold text-primary-600\">\r\n                    {formatPrice(selectedRoom.price, selectedRoom.currency)}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">per night</div>\r\n                </div>\r\n\r\n                <div className=\"text-right\">\r\n                  <div className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                    Total: {formatPrice(totalAmount, selectedRoom.currency)}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    {totalNights} night{totalNights > 1 ? 's' : ''}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => setSelectedRoom(null)}\r\n                  className=\"text-primary-600 hover:text-primary-700\"\r\n                >\r\n                  Change Room\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {availableRooms.length > 0 ? (\r\n            availableRooms.map((room) => (\r\n              <Card key={room.id} className=\"p-6 hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setSelectedRoom(room)}>\r\n                <div className=\"flex flex-col lg:flex-row gap-6\">\r\n                  <div className=\"lg:w-1/3\">\r\n                    <img\r\n                      src={room.images?.[0] || '/placeholder-room.jpg'}\r\n                      alt={room.name}\r\n                      className=\"w-full h-48 object-cover rounded-lg\"\r\n                      onError={(e) => {\r\n                        (e.target as HTMLImageElement).src = '/placeholder-room.jpg';\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"lg:w-2/3\">\r\n                    <h4 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\r\n                      {room.name}\r\n                    </h4>\r\n                    <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n                      {room.description}\r\n                    </p>\r\n                    <div className=\"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4\">\r\n                      <span> Up to {room.capacity} guests</span>\r\n                      <span> {room.type}</span>\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                      {room.amenities?.slice(0, 4).map((amenity, index) => (\r\n                        <span\r\n                          key={index}\r\n                          className=\"px-3 py-1 bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300 text-sm rounded-full\"\r\n                        >\r\n                          {amenity}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <div className=\"text-2xl font-bold text-primary-600\">\r\n                          {formatPrice(room.price, room.currency)}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500 dark:text-gray-400\">per night</div>\r\n                      </div>\r\n                      <Button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setSelectedRoom(room);\r\n                        }}\r\n                        className=\"min-w-[120px]\"\r\n                      >\r\n                        Select Room\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            ))\r\n          ) : (\r\n            <Card className=\"p-8 text-center\">\r\n              <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center\">\r\n                <Calendar className=\"w-8 h-8 text-gray-400\" />\r\n              </div>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">No rooms available for the selected dates.</p>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n    );\r\n  };\r\n\r\n  const renderGuestDetailsStep = () => (\r\n    <div className=\"space-y-6\">\r\n      <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Guest Information</h3>\r\n\r\n      <Card className=\"p-6\">\r\n        <h4 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Main Guest</h4>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              First Name *\r\n            </label>\r\n            <Input\r\n              id=\"guest-first-name\"\r\n              name=\"firstName\"\r\n              autoComplete=\"given-name\"\r\n              value={guestDetails.firstName}\r\n              onChange={(e) => setGuestDetails({ firstName: e.target.value })}\r\n              error={errors.firstName}\r\n              placeholder=\"Enter first name\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Last Name *\r\n            </label>\r\n            <Input\r\n              id=\"guest-last-name\"\r\n              name=\"lastName\"\r\n              autoComplete=\"family-name\"\r\n              value={guestDetails.lastName}\r\n              onChange={(e) => setGuestDetails({ lastName: e.target.value })}\r\n              error={errors.lastName}\r\n              placeholder=\"Enter last name\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Email *\r\n            </label>\r\n            <Input\r\n              id=\"guest-email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              autoComplete=\"email\"\r\n              value={guestDetails.email}\r\n              onChange={(e) => setGuestDetails({ email: e.target.value })}\r\n              error={errors.email}\r\n              placeholder=\"Enter email address\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Phone *\r\n            </label>\r\n            <Input\r\n              id=\"guest-phone\"\r\n              name=\"phone\"\r\n              type=\"tel\"\r\n              autoComplete=\"tel\"\r\n              value={guestDetails.phone}\r\n              onChange={(e) => setGuestDetails({ phone: e.target.value })}\r\n              error={errors.phone}\r\n              placeholder=\"Enter phone number\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-6\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            Special Requests (Optional)\r\n          </label>\r\n          <textarea\r\n            value={guestDetails.specialRequests}\r\n            onChange={(e) => setGuestDetails({ specialRequests: e.target.value })}\r\n            rows={3}\r\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            placeholder=\"Any special requests or preferences?\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n            Special requests are subject to availability and may incur additional charges.\r\n          </p>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n\r\n  const handlePaymentSuccess = async (paymentResult: { paymentId: string; receiptUrl?: string }) => {\r\n    logger.info('Payment completed successfully', {\r\n      component: 'BookingFlow',\r\n      method: 'handlePaymentSuccess',\r\n      paymentId: paymentResult.paymentId,\r\n      hasReceiptUrl: !!paymentResult.receiptUrl,\r\n      hotelId: selectedHotel?.id,\r\n      roomId: selectedRoom?.id,\r\n    });\r\n    // Payment successful - immediately create booking and navigate to confirmation\r\n    await handleCompleteBooking();\r\n  };\r\n\r\n  const handlePaymentError = (error: Error) => {\r\n    logger.error('Payment processing failed', {\r\n      component: 'BookingFlow',\r\n      method: 'handlePaymentError',\r\n      hotelId: selectedHotel?.id,\r\n      roomId: selectedRoom?.id,\r\n      error: error.message,\r\n      userImpact: 'payment_blocked',\r\n    });\r\n    alert(`Payment failed: ${error.message}. Please try again.`);\r\n  };\r\n\r\n  const renderPaymentStep = () => {\r\n    // Ensure we have all required data\r\n    if (!selectedRoom || !selectedHotel || !guestDetails.email) {\r\n      return (\r\n        <div className=\"text-center py-8\">\r\n          <AlertCircle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\r\n          <p className=\"text-gray-600\">Missing required information. Please go back and complete previous steps.</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Complete Your Payment</h3>\r\n        \r\n        {/* Booking Summary */}\r\n        <Card className=\"p-6 bg-gray-50 dark:bg-gray-800\">\r\n          <h4 className=\"text-lg font-semibold mb-4\">Booking Summary</h4>\r\n          <div className=\"space-y-2 text-sm\">\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Hotel:</span>\r\n              <span className=\"font-medium\">{selectedHotel.name}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Room:</span>\r\n              <span className=\"font-medium\">{selectedRoom.name}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Check-in:</span>\r\n              <span className=\"font-medium\">{selectedDateRange.checkIn}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Check-out:</span>\r\n              <span className=\"font-medium\">{selectedDateRange.checkOut}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-600\">Guest:</span>\r\n              <span className=\"font-medium\">{guestDetails.firstName} {guestDetails.lastName}</span>\r\n            </div>\r\n            <div className=\"border-t pt-2 mt-2\">\r\n              <div className=\"flex justify-between text-lg font-semibold\">\r\n                <span>Total Amount:</span>\r\n                <span className=\"text-primary-600\">{formatPrice(totalAmount, selectedRoom.currency || 'USD')}</span>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Includes taxes and fees</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Square Payment Form */}\r\n        <SquarePaymentForm\r\n          bookingId={`booking-${Date.now()}`}\r\n          amount={totalAmount}\r\n          currency={selectedRoom.currency || 'USD'}\r\n          onSuccess={handlePaymentSuccess}\r\n          onError={handlePaymentError}\r\n          bookingDetails={{\r\n            hotelName: selectedHotel.name,\r\n            checkIn: selectedDateRange.checkIn || '',\r\n            checkOut: selectedDateRange.checkOut || '',\r\n            guests: guestCount.adults + guestCount.children\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderStepContent = () => {\r\n    switch (currentStep) {\r\n      case 'room-selection':\r\n        return renderRoomSelectionStep();\r\n      case 'guest-details':\r\n        return renderGuestDetailsStep();\r\n      case 'payment':\r\n        return renderPaymentStep();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={cn('max-w-4xl mx-auto', className)}>\r\n      <Card className=\"p-8\">\r\n        {renderStepIndicator()}\r\n\r\n        <div className=\"min-h-[500px]\">\r\n          {renderStepContent()}\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <div className=\"flex justify-between items-center mt-8 pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n          <div>\r\n            {currentStep !== 'room-selection' && (\r\n              <Button\r\n                onClick={handlePreviousStep}\r\n                variant=\"outline\"\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <ChevronLeft className=\"w-4 h-4\" />\r\n                Previous\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex gap-3\">\r\n            {onCancel && (\r\n              <Button\r\n                onClick={() => {\r\n                  clearBooking();\r\n                  onCancel();\r\n                }}\r\n                variant=\"outline\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            )}\r\n\r\n            {currentStep !== 'payment' && (\r\n              <Button\r\n                onClick={handleNextStep}\r\n                className=\"flex items-center gap-2 px-6\"\r\n                size=\"lg\"\r\n              >\r\n                Continue\r\n                <ChevronRight className=\"w-4 h-4\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { BookingFlow };\r\nexport default BookingFlow;\r\n","\nimport BookingFlow from '@/components/booking/BookingFlow';\n\nexport function BookingPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <BookingFlow />\n      </div>\n    </div>\n  );\n}","import React from 'react';\r\nimport { AlertTriangle, RefreshCw, Home, Bug } from 'lucide-react';\r\nimport { Button } from './Button';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { logger } from '@/utils/logger';\r\n\r\ninterface ErrorBoundaryState {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n  errorInfo: React.ErrorInfo | null;\r\n}\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: React.ReactNode;\r\n  fallback?: React.ComponentType<ErrorFallbackProps>;\r\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\r\n}\r\n\r\ninterface ErrorFallbackProps {\r\n  error: Error;\r\n  resetError: () => void;\r\n  errorInfo?: React.ErrorInfo | null;\r\n}\r\n\r\nconst DefaultErrorFallback: React.FC<ErrorFallbackProps> = ({\r\n  error,\r\n  resetError,\r\n  errorInfo,\r\n}) => {\r\n  const isDevelopment = process.env.NODE_ENV === 'development';\r\n\r\n  const handleReportError = () => {\r\n    // Enhanced error reporting with more context\r\n    const errorReport = {\r\n      error: {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack,\r\n      },\r\n      errorInfo,\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href,\r\n      userAgent: navigator.userAgent,\r\n      viewport: {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      },\r\n    };\r\n    \r\n    // In production, send to error reporting service\r\n    if (process.env.NODE_ENV === 'production') {\r\n      // Integration with error reporting service would go here\r\n      // Example: Sentry.captureException(error, { extra: errorReport });\r\n    } else {\r\n      logger.error('React error boundary triggered', {\r\n        component: 'ErrorBoundary',\r\n        method: 'reportError',\r\n        errorName: error.name,\r\n        errorMessage: error.message,\r\n        errorStack: error.stack,\r\n        userAgent: errorReport.userAgent,\r\n        url: errorReport.url,\r\n        timestamp: errorReport.timestamp,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900\">\r\n      <Card className=\"max-w-2xl w-full p-8 text-center\">\r\n        <div className=\"flex flex-col items-center space-y-6\">\r\n          {/* Error Icon */}\r\n          <div className=\"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center\">\r\n            <AlertTriangle className=\"w-8 h-8 text-red-600 dark:text-red-400\" />\r\n          </div>\r\n\r\n          {/* Error Message */}\r\n          <div className=\"space-y-2\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n              Oops! Something went wrong\r\n            </h1>\r\n            <p className=\"text-gray-600 dark:text-gray-400 max-w-md\">\r\n              We encountered an unexpected error. Our team has been notified and is working to fix it.\r\n            </p>\r\n          </div>\r\n\r\n          {/* Error Details (Development only) */}\r\n          {isDevelopment && error && (\r\n            <Card className=\"w-full p-4 bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-800\">\r\n              <div className=\"text-left space-y-2\">\r\n                <div className=\"flex items-center gap-2 text-red-800 dark:text-red-400\">\r\n                  <Bug className=\"w-4 h-4\" />\r\n                  <span className=\"font-medium text-sm\">Development Error Details</span>\r\n                </div>\r\n                <div className=\"text-xs font-mono text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/20 p-2 rounded overflow-x-auto\">\r\n                  {error.name}: {error.message}\r\n                </div>\r\n                {error.stack && (\r\n                  <details className=\"text-xs\">\r\n                    <summary className=\"cursor-pointer text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300\">\r\n                      Stack Trace\r\n                    </summary>\r\n                    <pre className=\"mt-2 text-xs font-mono text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/20 p-2 rounded overflow-x-auto whitespace-pre-wrap\">\r\n                      {error.stack}\r\n                    </pre>\r\n                  </details>\r\n                )}\r\n              </div>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex flex-col sm:flex-row gap-3 w-full max-w-sm\">\r\n            <Button\r\n              onClick={resetError}\r\n              className=\"flex items-center gap-2\"\r\n              size=\"lg\"\r\n            >\r\n              <RefreshCw className=\"w-4 h-4\" />\r\n              Try Again\r\n            </Button>\r\n            <Button\r\n              onClick={() => window.location.href = '/'}\r\n              variant=\"outline\"\r\n              className=\"flex items-center gap-2\"\r\n              size=\"lg\"\r\n            >\r\n              <Home className=\"w-4 h-4\" />\r\n              Go Home\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Report Error */}\r\n          <Button\r\n            onClick={handleReportError}\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n          >\r\n            Report this issue\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  constructor(props: ErrorBoundaryProps) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): Partial<ErrorBoundaryState> {\r\n    return {\r\n      hasError: true,\r\n      error,\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    this.setState({\r\n      error,\r\n      errorInfo,\r\n    });\r\n\r\n    // Call the onError prop if provided\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n\r\n    // Log error to console in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n      logger.error('ErrorBoundary intercepted React component error', {\r\n        component: 'ErrorBoundary',\r\n        method: 'componentDidCatch',\r\n        errorName: error.name,\r\n        errorMessage: error.message,\r\n        errorStack: error.stack,\r\n        componentStack: errorInfo.componentStack,\r\n        errorBoundary: 'react_error_boundary',\r\n      });\r\n    }\r\n\r\n    // In production, you might want to send this to an error reporting service\r\n    // Example: Sentry.captureException(error, { contexts: { react: errorInfo } });\r\n  }\r\n\r\n  resetError = () => {\r\n    this.setState({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError && this.state.error) {\r\n      const FallbackComponent = this.props.fallback || DefaultErrorFallback;\r\n\r\n      return (\r\n        <FallbackComponent\r\n          error={this.state.error}\r\n          resetError={this.resetError}\r\n          errorInfo={this.state.errorInfo}\r\n        />\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// Hook for handling async errors\r\nexport const useErrorHandler = () => {\r\n  const [error, setError] = React.useState<Error | null>(null);\r\n\r\n  const resetError = React.useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  const captureError = React.useCallback((error: Error | string) => {\r\n    const errorObj = typeof error === 'string' ? new Error(error) : error;\r\n    setError(errorObj);\r\n    logger.error('Async error captured by error handler hook', {\r\n      component: 'useErrorHandler',\r\n      method: 'captureError',\r\n      errorName: errorObj.name,\r\n      errorMessage: errorObj.message,\r\n      errorStack: errorObj.stack,\r\n      isStringError: typeof error === 'string',\r\n    });\r\n  }, []);\r\n\r\n  // Throw error to be caught by ErrorBoundary\r\n  if (error) {\r\n    throw error;\r\n  }\r\n\r\n  return { captureError, resetError };\r\n};\r\n\r\n// Higher-order component for wrapping components with error boundary\r\nexport const withErrorBoundary = <P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  fallback?: React.ComponentType<ErrorFallbackProps>,\r\n) => {\r\n  const WrappedComponent = (props: P) => (\r\n    <ErrorBoundary fallback={fallback}>\r\n      <Component {...props} />\r\n    </ErrorBoundary>\r\n  );\r\n\r\n  WrappedComponent.displayName = `withErrorBoundary(${Component.displayName || Component.name})`;\r\n\r\n  return WrappedComponent;\r\n};\r\n\r\nexport default ErrorBoundary;\r\n","import { useState, useCallback } from 'react';\r\nimport { toast } from 'sonner';\r\n\r\nexport interface AppError {\r\n  message: string;\r\n  code?: string;\r\n  details?: any;\r\n  timestamp: Date;\r\n  severity: 'low' | 'medium' | 'high' | 'critical';\r\n}\r\n\r\nexport interface UseErrorHandlingReturn {\r\n  error: AppError | null;\r\n  isError: boolean;\r\n  clearError: () => void;\r\n  handleError: (error: unknown, context?: string) => void;\r\n  handleAsyncError: <T>(\r\n    asyncFn: () => Promise<T>,\r\n    context?: string,\r\n    options?: ErrorHandlingOptions\r\n  ) => Promise<T | null>;\r\n}\r\n\r\nexport interface ErrorHandlingOptions {\r\n  showToast?: boolean;\r\n  toastTitle?: string;\r\n  silent?: boolean;\r\n  retryable?: boolean;\r\n  onRetry?: () => void;\r\n}\r\n\r\nconst getErrorMessage = (error: unknown): string => {\r\n  if (typeof error === 'string') {\nreturn error;\n}\r\n  if (error instanceof Error) {\nreturn error.message;\n}\r\n  if (error && typeof error === 'object' && 'message' in error) {\r\n    return String(error.message);\r\n  }\r\n  return 'An unexpected error occurred';\r\n};\r\n\r\nconst getErrorCode = (error: unknown): string | undefined => {\r\n  if (error && typeof error === 'object') {\r\n    if ('code' in error) {\nreturn String(error.code);\n}\r\n    if ('status' in error) {\nreturn String(error.status);\n}\r\n    if ('statusCode' in error) {\nreturn String(error.statusCode);\n}\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst getErrorSeverity = (error: unknown): AppError['severity'] => {\r\n  const code = getErrorCode(error);\r\n\r\n  // Network errors\r\n  if (code === '404' || code === '400') {\nreturn 'medium';\n}\r\n  if (code === '401' || code === '403') {\nreturn 'high';\n}\r\n  if (code === '500' || code === '502' || code === '503') {\nreturn 'critical';\n}\r\n\r\n  // Application errors\r\n  if (error instanceof TypeError) {\nreturn 'high';\n}\r\n  if (error instanceof ReferenceError) {\nreturn 'critical';\n}\r\n\r\n  return 'medium';\r\n};\r\n\r\nconst createAppError = (error: unknown, context?: string): AppError => {\r\n  const message = getErrorMessage(error);\r\n  const code = getErrorCode(error);\r\n  const severity = getErrorSeverity(error);\r\n\r\n  return {\r\n    message: context ? `${context}: ${message}` : message,\r\n    code,\r\n    details: error,\r\n    timestamp: new Date(),\r\n    severity,\r\n  };\r\n};\r\n\r\nconst logError = (appError: AppError, context?: string) => {\r\n  const logLevel = appError.severity === 'critical' ? 'error' :\r\n                  appError.severity === 'high' ? 'error' :\r\n                  appError.severity === 'medium' ? 'warn' : 'info';\r\n\r\n  console[logLevel]('Application Error:', {\r\n    message: appError.message,\r\n    code: appError.code,\r\n    severity: appError.severity,\r\n    timestamp: appError.timestamp,\r\n    context,\r\n    details: appError.details,\r\n  });\r\n\r\n  // In production, you might want to send this to an error reporting service\r\n  // Example: Sentry.captureException(appError.details);\r\n};\r\n\r\nconst showErrorToast = (appError: AppError, options?: ErrorHandlingOptions) => {\r\n  const title = options?.toastTitle || 'Error';\r\n  const isNetworkError = appError.code && ['404', '500', '502', '503'].includes(appError.code);\r\n\r\n  let description = appError.message;\r\n\r\n  // Provide user-friendly messages for common errors\r\n  if (isNetworkError) {\r\n    description = 'Unable to connect to our servers. Please check your internet connection and try again.';\r\n  } else if (appError.code === '401') {\r\n    description = 'Your session has expired. Please log in again.';\r\n  } else if (appError.code === '403') {\r\n    description = 'You do not have permission to perform this action.';\r\n  }\r\n\r\n  const toastOptions = {\r\n    description,\r\n    duration: appError.severity === 'critical' ? 8000 : 5000,\r\n  };\r\n\r\n  if (options?.retryable && options?.onRetry) {\r\n    toast.error(title, {\r\n      ...toastOptions,\r\n      action: {\r\n        label: 'Retry',\r\n        onClick: options.onRetry,\r\n      },\r\n    });\r\n  } else {\r\n    toast.error(title, toastOptions);\r\n  }\r\n};\r\n\r\nexport const useErrorHandling = (): UseErrorHandlingReturn => {\r\n  const [error, setError] = useState<AppError | null>(null);\r\n\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  const handleError = useCallback((error: unknown, context?: string) => {\r\n    const appError = createAppError(error, context);\r\n    setError(appError);\r\n    logError(appError, context);\r\n\r\n    // Always show toast for user-facing errors\r\n    showErrorToast(appError);\r\n  }, []);\r\n\r\n  const handleAsyncError = useCallback(async <T>(\r\n    asyncFn: () => Promise<T>,\r\n    context?: string,\r\n    options: ErrorHandlingOptions = {},\r\n  ): Promise<T | null> => {\r\n    try {\r\n      clearError();\r\n      const result = await asyncFn();\r\n      return result;\r\n    } catch (error) {\r\n      const appError = createAppError(error, context);\r\n\r\n      if (!options.silent) {\r\n        setError(appError);\r\n        logError(appError, context);\r\n\r\n        if (options.showToast !== false) {\r\n          showErrorToast(appError, options);\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }, [clearError]);\r\n\r\n  return {\r\n    error,\r\n    isError: error !== null,\r\n    clearError,\r\n    handleError,\r\n    handleAsyncError,\r\n  };\r\n};\r\n\r\n// Specialized hooks for common error scenarios\r\n\r\nexport const useApiErrorHandling = () => {\r\n  const { handleAsyncError, ...rest } = useErrorHandling();\r\n\r\n  const handleApiCall = useCallback(<T>(\r\n    apiCall: () => Promise<T>,\r\n    operation?: string,\r\n  ) => {\r\n    return handleAsyncError(\r\n      apiCall,\r\n      operation ? `API: ${operation}` : 'API call',\r\n      {\r\n        showToast: true,\r\n        retryable: true,\r\n      },\r\n    );\r\n  }, [handleAsyncError]);\r\n\r\n  return {\r\n    ...rest,\r\n    handleApiCall,\r\n  };\r\n};\r\n\r\nexport const useFormErrorHandling = () => {\r\n  const { handleError, ...rest } = useErrorHandling();\r\n\r\n  const handleValidationError = useCallback((\r\n    fieldErrors: Record<string, string[]>,\r\n  ) => {\r\n    const errorMessage = Object.entries(fieldErrors)\r\n      .map(([field, errors]) => `${field}: ${errors.join(', ')}`)\r\n      .join('; ');\r\n\r\n    handleError(errorMessage, 'Form validation');\r\n  }, [handleError]);\r\n\r\n  const handleSubmissionError = useCallback((error: unknown) => {\r\n    handleError(error, 'Form submission');\r\n  }, [handleError]);\r\n\r\n  return {\r\n    ...rest,\r\n    handleValidationError,\r\n    handleSubmissionError,\r\n  };\r\n};\r\n\r\nexport const useSearchErrorHandling = () => {\r\n  const { handleAsyncError, ...rest } = useErrorHandling();\r\n\r\n  const handleSearchError = useCallback(<T>(\r\n    searchFn: () => Promise<T>,\r\n    searchType: string = 'search',\r\n  ) => {\r\n    return handleAsyncError(\r\n      searchFn,\r\n      `Search: ${searchType}`,\r\n      {\r\n        showToast: true,\r\n        toastTitle: 'Search Error',\r\n        retryable: true,\r\n      },\r\n    );\r\n  }, [handleAsyncError]);\r\n\r\n  return {\r\n    ...rest,\r\n    handleSearchError,\r\n  };\r\n};\r\n\r\nexport const useBookingErrorHandling = () => {\r\n  const { handleAsyncError, ...rest } = useErrorHandling();\r\n\r\n  const handleBookingOperation = useCallback(<T>(\r\n    bookingFn: () => Promise<T>,\r\n    operation: string,\r\n  ) => {\r\n    return handleAsyncError(\r\n      bookingFn,\r\n      `Booking: ${operation}`,\r\n      {\r\n        showToast: true,\r\n        toastTitle: 'Booking Error',\r\n      },\r\n    );\r\n  }, [handleAsyncError]);\r\n\r\n  return {\r\n    ...rest,\r\n    handleBookingOperation,\r\n  };\r\n};\r\n\r\n// Global error handler for unhandled promise rejections\r\nexport const setupGlobalErrorHandling = () => {\r\n  // Handle unhandled promise rejections\r\n  window.addEventListener('unhandledrejection', (event) => {\r\n    console.error('Unhandled promise rejection:', event.reason);\r\n\r\n    toast.error('Unexpected Error', {\r\n      description: 'An unexpected error occurred. Please refresh the page if problems persist.',\r\n      duration: 6000,\r\n    });\r\n\r\n    // Prevent the default browser behavior\r\n    event.preventDefault();\r\n  });\r\n\r\n  // Handle general JavaScript errors\r\n  window.addEventListener('error', (event) => {\r\n    console.error('Global error:', event.error);\r\n\r\n    toast.error('Application Error', {\r\n      description: 'A technical error occurred. Please refresh the page.',\r\n      duration: 6000,\r\n    });\r\n  });\r\n};\r\n\r\nexport default useErrorHandling;","import React from 'react';\r\nimport { Loader2, MapPin, Calendar, Search } from 'lucide-react';\r\nimport { cn } from '@/utils/cn';\r\n\r\ninterface LoadingSpinnerProps {\r\n  size?: 'sm' | 'md' | 'lg' | 'xl';\r\n  variant?: 'default' | 'dots' | 'pulse' | 'bounce';\r\n  className?: string;\r\n}\r\n\r\ninterface PageLoadingProps {\r\n  message?: string;\r\n  submessage?: string;\r\n  variant?: 'search' | 'booking' | 'details' | 'default';\r\n  className?: string;\r\n}\r\n\r\ninterface SkeletonProps {\r\n  className?: string;\r\n  variant?: 'text' | 'circular' | 'rectangular';\r\n  width?: string | number;\r\n  height?: string | number;\r\n  animation?: 'pulse' | 'wave';\r\n}\r\n\r\n// Basic loading spinner\r\nexport const LoadingSpinner: React.FC<LoadingSpinnerProps> = ({\r\n  size = 'md',\r\n  variant = 'default',\r\n  className,\r\n}) => {\r\n  const sizeClasses = {\r\n    sm: 'w-4 h-4',\r\n    md: 'w-6 h-6',\r\n    lg: 'w-8 h-8',\r\n    xl: 'w-12 h-12',\r\n  };\r\n\r\n  if (variant === 'dots') {\r\n    return (\r\n      <div className={cn('flex space-x-1', className)}>\r\n        {[0, 1, 2].map((i) => (\r\n          <div\r\n            key={i}\r\n            className={cn(\r\n              'bg-primary-600 rounded-full animate-bounce',\r\n              size === 'sm' ? 'w-2 h-2' : size === 'md' ? 'w-3 h-3' : size === 'lg' ? 'w-4 h-4' : 'w-5 h-5',\r\n            )}\r\n            style={{\r\n              animationDelay: `${i * 0.1}s`,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (variant === 'pulse') {\r\n    return (\r\n      <div\r\n        className={cn(\r\n          'bg-primary-600 rounded-full animate-pulse',\r\n          sizeClasses[size],\r\n          className,\r\n        )}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (variant === 'bounce') {\r\n    return (\r\n      <div\r\n        className={cn(\r\n          'bg-primary-600 rounded-full animate-bounce',\r\n          sizeClasses[size],\r\n          className,\r\n        )}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Loader2\r\n      className={cn(\r\n        'animate-spin text-primary-600',\r\n        sizeClasses[size],\r\n        className,\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\n// Skeleton loading component\r\nexport const Skeleton: React.FC<SkeletonProps> = ({\r\n  className,\r\n  variant = 'rectangular',\r\n  width,\r\n  height,\r\n  animation = 'pulse',\r\n}) => {\r\n  const baseClasses = cn(\r\n    'bg-gray-200 dark:bg-gray-700',\r\n    animation === 'pulse' ? 'animate-pulse' : 'animate-wave',\r\n    variant === 'circular' && 'rounded-full',\r\n    variant === 'text' && 'rounded',\r\n    variant === 'rectangular' && 'rounded-md',\r\n    className,\r\n  );\r\n\r\n  const style: React.CSSProperties = {};\r\n  if (width) {\nstyle.width = typeof width === 'number' ? `${width}px` : width;\n}\r\n  if (height) {\nstyle.height = typeof height === 'number' ? `${height}px` : height;\n}\r\n\r\n  if (variant === 'text') {\r\n    return <div className={cn(baseClasses, 'h-4')} style={style} />;\r\n  }\r\n\r\n  return <div className={baseClasses} style={style} />;\r\n};\r\n\r\n// Page-level loading component\r\nexport const PageLoading: React.FC<PageLoadingProps> = ({\r\n  message,\r\n  submessage,\r\n  variant = 'default',\r\n  className,\r\n}) => {\r\n  const getVariantContent = () => {\r\n    switch (variant) {\r\n      case 'search':\r\n        return {\r\n          icon: Search,\r\n          defaultMessage: 'Searching for hotels...',\r\n          defaultSubmessage: 'Finding the perfect match for your travel preferences',\r\n          color: 'text-blue-600',\r\n        };\r\n      case 'booking':\r\n        return {\r\n          icon: Calendar,\r\n          defaultMessage: 'Processing your booking...',\r\n          defaultSubmessage: 'Securing your reservation with the hotel',\r\n          color: 'text-green-600',\r\n        };\r\n      case 'details':\r\n        return {\r\n          icon: MapPin,\r\n          defaultMessage: 'Loading hotel details...',\r\n          defaultSubmessage: 'Gathering comprehensive information about this property',\r\n          color: 'text-purple-600',\r\n        };\r\n      default:\r\n        return {\r\n          icon: Loader2,\r\n          defaultMessage: 'Loading...',\r\n          defaultSubmessage: 'Please wait while we prepare everything for you',\r\n          color: 'text-primary-600',\r\n        };\r\n    }\r\n  };\r\n\r\n  const { icon: Icon, defaultMessage, defaultSubmessage, color } = getVariantContent();\r\n\r\n  return (\r\n    <div className={cn(\r\n      'flex flex-col items-center justify-center min-h-[400px] p-8 text-center',\r\n      className,\r\n    )}>\r\n      <div className=\"space-y-6\">\r\n        {/* Animated Icon */}\r\n        <div className=\"relative\">\r\n          <div className={cn(\r\n            'w-16 h-16 rounded-full flex items-center justify-center',\r\n            'bg-gradient-to-br from-primary-100 to-secondary-100',\r\n            'dark:from-primary-900/20 dark:to-secondary-900/20',\r\n          )}>\r\n            <Icon className={cn('w-8 h-8 animate-spin', color)} />\r\n          </div>\r\n\r\n          {/* Outer ring animation */}\r\n          <div className=\"absolute inset-0 w-16 h-16 rounded-full border-4 border-transparent border-t-primary-200 dark:border-t-primary-800 animate-spin\"\r\n               style={{ animationDuration: '2s' }} />\r\n        </div>\r\n\r\n        {/* Messages */}\r\n        <div className=\"space-y-2 max-w-md\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n            {message || defaultMessage}\r\n          </h3>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            {submessage || defaultSubmessage}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Progress indicators */}\r\n        <div className=\"flex space-x-1\">\r\n          {[0, 1, 2, 3, 4].map((i) => (\r\n            <div\r\n              key={i}\r\n              className=\"w-2 h-2 bg-primary-300 dark:bg-primary-700 rounded-full animate-pulse\"\r\n              style={{\r\n                animationDelay: `${i * 0.2}s`,\r\n                animationDuration: '1s',\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Hotel card skeleton\r\nexport const HotelCardSkeleton: React.FC<{ className?: string }> = ({ className }) => (\r\n  <div className={cn('bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 animate-pulse', className)}>\r\n    <div className=\"flex flex-col lg:flex-row gap-6\">\r\n      {/* Image skeleton */}\r\n      <Skeleton\r\n        variant=\"rectangular\"\r\n        className=\"w-full lg:w-80 h-48 lg:h-40\"\r\n      />\r\n\r\n      {/* Content skeleton */}\r\n      <div className=\"flex-1 space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Skeleton variant=\"text\" className=\"h-6 w-3/4\" />\r\n          <Skeleton variant=\"text\" className=\"h-4 w-1/2\" />\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-2\">\r\n          {[1, 2, 3, 4, 5].map((i) => (\r\n            <Skeleton key={i} variant=\"rectangular\" className=\"w-4 h-4\" />\r\n          ))}\r\n          <Skeleton variant=\"text\" className=\"h-4 w-20\" />\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {[1, 2, 3].map((i) => (\r\n            <Skeleton key={i} variant=\"rectangular\" className=\"h-6 w-16 rounded-full\" />\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex justify-between items-center\">\r\n          <Skeleton variant=\"text\" className=\"h-4 w-32\" />\r\n          <div className=\"text-right space-y-1\">\r\n            <Skeleton variant=\"text\" className=\"h-6 w-20\" />\r\n            <Skeleton variant=\"text\" className=\"h-4 w-16\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Search filters skeleton\r\nexport const FiltersSkeleton: React.FC<{ className?: string }> = ({ className }) => (\r\n  <div className={cn('bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 animate-pulse space-y-6', className)}>\r\n    <div className=\"flex justify-between items-center\">\r\n      <Skeleton variant=\"text\" className=\"h-6 w-24\" />\r\n      <Skeleton variant=\"text\" className=\"h-4 w-16\" />\r\n    </div>\r\n\r\n    {[1, 2, 3, 4].map((section) => (\r\n      <div key={section} className=\"space-y-3\">\r\n        <Skeleton variant=\"text\" className=\"h-5 w-32\" />\r\n        <div className=\"space-y-2\">\r\n          {[1, 2, 3].map((item) => (\r\n            <div key={item} className=\"flex items-center space-x-3\">\r\n              <Skeleton variant=\"rectangular\" className=\"w-4 h-4\" />\r\n              <Skeleton variant=\"text\" className=\"h-4 w-24\" />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\n// Loading overlay\r\nexport const LoadingOverlay: React.FC<{\r\n  isVisible: boolean;\r\n  message?: string;\r\n  className?: string;\r\n}> = ({ isVisible, message = 'Loading...', className }) => {\r\n  if (!isVisible) {\nreturn null;\n}\r\n\r\n  return (\r\n    <div className={cn(\r\n      'absolute inset-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm',\r\n      'flex items-center justify-center z-50',\r\n      className,\r\n    )}>\r\n      <div className=\"flex flex-col items-center space-y-4\">\r\n        <LoadingSpinner size=\"lg\" />\r\n        <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n          {message}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;","/**\r\n * Advanced Lazy Loading Utility\r\n * Provides intelligent component lazy loading with preloading strategies\r\n */\r\n\r\nimport React, { Suspense, ComponentType, lazy } from 'react';\r\nimport { LoadingSpinner } from '../components/ui/LoadingSpinner';\r\nimport { logger } from './logger';\r\n\r\ninterface LazyLoadOptions {\r\n  fallback?: React.ComponentType;\r\n  preload?: boolean;\r\n  loadingMessage?: string;\r\n  errorBoundary?: boolean;\r\n}\r\n\r\ninterface LazyComponentProps {\r\n  component: ComponentType<any>;\r\n  fallback?: React.ComponentType;\r\n  loadingMessage?: string;\r\n}\r\n\r\n/**\r\n * Enhanced lazy loading with preloading support\r\n */\r\nexport function createLazyComponent<T extends ComponentType<any>>(\r\n  importFn: () => Promise<{ default: T }>,\r\n  options: LazyLoadOptions = {}\r\n) {\r\n  const LazyComponent = lazy(importFn);\r\n  \r\n  // Optional preloading\r\n  if (options.preload) {\r\n    // Preload after initial page load\r\n    setTimeout(() => {\r\n      importFn().catch((error) => {\r\n        logger.warn('Component preload failed', {\r\n          component: 'LazyLoader',\r\n          error: error.message,\r\n        });\r\n      });\r\n    }, 100);\r\n  }\r\n\r\n  const WrappedComponent = (props: any) => (\r\n    <Suspense \r\n      fallback={\r\n        options.fallback ? (\r\n          <options.fallback />\r\n        ) : (\r\n          <div className=\"flex items-center justify-center min-h-[200px]\">\r\n            <LoadingSpinner size=\"lg\" />\r\n            {options.loadingMessage && (\r\n              <p className=\"ml-3 text-sm text-gray-600\">{options.loadingMessage}</p>\r\n            )}\r\n          </div>\r\n        )\r\n      }\r\n    >\r\n      <LazyComponent {...props} />\r\n    </Suspense>\r\n  );\r\n\r\n  return WrappedComponent;\r\n}\r\n\r\n/**\r\n * Intersection Observer-based lazy loading for components\r\n */\r\nexport const LazyIntersectionComponent: React.FC<LazyComponentProps> = ({\r\n  component: Component,\r\n  fallback: Fallback,\r\n  loadingMessage: _loadingMessage = \"Loading component...\",\r\n}) => {\r\n  const [isVisible, setIsVisible] = React.useState(false);\r\n  const [hasLoaded, setHasLoaded] = React.useState(false);\r\n  const containerRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  React.useEffect(() => {\r\n    if (!containerRef.current || hasLoaded) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          setIsVisible(true);\r\n          setHasLoaded(true);\r\n          observer.disconnect();\r\n          \r\n          logger.debug('Lazy component loaded via intersection', {\r\n            component: 'LazyIntersectionComponent',\r\n            componentName: Component.name || 'Anonymous',\r\n          });\r\n        }\r\n      },\r\n      {\r\n        threshold: 0.1,\r\n        rootMargin: '100px', // Start loading 100px before component is visible\r\n      }\r\n    );\r\n\r\n    observer.observe(containerRef.current);\r\n    return () => observer.disconnect();\r\n  }, [Component.name, hasLoaded]);\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"min-h-[50px]\">\r\n      {isVisible ? (\r\n        <Component />\r\n      ) : Fallback ? (\r\n        <Fallback />\r\n      ) : (\r\n        <div className=\"flex items-center justify-center py-8\">\r\n          <div className=\"animate-pulse bg-gray-200 rounded-lg w-full h-32\"></div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Preload critical components\r\n */\r\nexport const preloadCriticalComponents = () => {\r\n  const criticalImports = [\r\n    () => import('../components/search/SearchResults'),\r\n    () => import('../components/booking/BookingFlow'),\r\n    () => import('../components/payment/SquarePaymentForm'),\r\n  ];\r\n\r\n  logger.info('Preloading critical components', { \r\n    component: 'LazyLoader',\r\n    count: criticalImports.length \r\n  });\r\n\r\n  criticalImports.forEach((importFn, index) => {\r\n    // Stagger preloading to avoid blocking the main thread\r\n    setTimeout(() => {\r\n      importFn().catch((error) => {\r\n        logger.warn('Critical component preload failed', {\r\n          component: 'LazyLoader',\r\n          index,\r\n          error: error.message,\r\n        });\r\n      });\r\n    }, index * 50);\r\n  });\r\n};\r\n\r\n/**\r\n * Route-based code splitting helper\r\n */\r\nexport const createLazyRoute = (\r\n  importFn: () => Promise<{ default: ComponentType<any> }>,\r\n  routeName: string\r\n) => {\r\n  return createLazyComponent(importFn, {\r\n    loadingMessage: `Loading ${routeName}...`,\r\n    preload: false, // Don't preload routes by default\r\n  });\r\n};","/**\r\n * Lazy-loaded Route Components\r\n * Code splitting for optimal bundle performance\r\n */\r\n\r\nimport { createLazyRoute } from '../utils/lazyLoader';\r\n\r\n// Lazy load pages for code splitting\r\nexport const LazyHomePage = createLazyRoute(\r\n  () => import('../pages/HomePage').then(m => ({ default: m.HomePage })),\r\n  'Home'\r\n);\r\n\r\nexport const LazySearchResultsPage = createLazyRoute(\r\n  () => import('../pages/SearchResultsPage').then(m => ({ default: m.SearchResultsPage })),\r\n  'Search Results'\r\n);\r\n\r\nexport const LazyPaymentPage = createLazyRoute(\r\n  () => import('../pages/PaymentPage').then(m => ({ default: m.PaymentPage })),\r\n  'Payment'\r\n);\r\n\r\nexport const LazyBookingConfirmationPage = createLazyRoute(\r\n  () => import('../pages/BookingConfirmationPage').then(m => ({ default: m.BookingConfirmationPage })),\r\n  'Booking Confirmation'\r\n);\r\n\r\nexport const LazyDealsPage = createLazyRoute(\r\n  () => import('../pages/DealsPage').then(m => ({ default: m.DealsPage })),\r\n  'Hot Deals'\r\n);\r\n\r\nexport const LazyDestinationsPage = createLazyRoute(\r\n  () => import('../pages/DestinationsPage').then(m => ({ default: m.DestinationsPage })),\r\n  'Destinations'\r\n);\r\n\r\nexport const LazyExperiencesPage = createLazyRoute(\r\n  () => import('../pages/ExperiencesPage').then(m => ({ default: m.default })),\r\n  'Experiences'\r\n);\r\n\r\nexport const LazyRewardsPage = createLazyRoute(\r\n  () => import('../pages/RewardsPage').then(m => ({ default: m.default })),\r\n  'Rewards'\r\n);\r\n\r\nexport const LazyBookingHistoryPage = createLazyRoute(\r\n  () => import('../pages/BookingHistoryPage'),\r\n  'My Bookings'\r\n);\r\n\r\nexport const LazyUserProfilePage = createLazyRoute(\r\n  () => import('../pages/UserProfilePage'),\r\n  'My Profile'\r\n);\r\n\r\n// Lazy load heavy components\r\nexport const LazyRoomComparison = createLazyRoute(\r\n  () => import('../components/hotels/RoomComparison'),\r\n  'Room Comparison'\r\n);\r\n\r\nexport const LazyVirtualizedHotelList = createLazyRoute(\r\n  () => import('../components/search/VirtualizedHotelList'),\r\n  'Hotel List'\r\n);","\r\nimport { useEffect } from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport { Layout } from '@/components/layout/Layout';\r\nimport { HotelDetailsPage } from '@/pages/HotelDetailsPage';\r\nimport { BookingPage } from '@/pages/BookingPage';\r\nimport { ErrorBoundary } from '@/components/ui/ErrorBoundary';\r\nimport { AuthProvider } from '@/contexts/AuthContext';\r\nimport { setupGlobalErrorHandling } from '@/hooks/useErrorHandling';\r\nimport { Toaster } from 'sonner';\r\nimport { preloadCriticalComponents } from '@/utils/lazyLoader';\r\n\r\n// Lazy-loaded route components for optimal bundle splitting\r\nimport {\r\n  LazyHomePage,\r\n  LazySearchResultsPage,\r\n  LazyPaymentPage,\r\n  LazyBookingConfirmationPage,\r\n  LazyBookingHistoryPage,\r\n  LazyUserProfilePage,\r\n  LazyDealsPage,\r\n  LazyDestinationsPage,\r\n  LazyExperiencesPage,\r\n  LazyRewardsPage,\r\n} from '@/routes/LazyRoutes';\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    // Setup global error handling\r\n    setupGlobalErrorHandling();\r\n    \r\n    // Preload critical components after initial render\r\n    const timer = setTimeout(() => {\r\n      preloadCriticalComponents();\r\n    }, 2000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <AuthProvider>\r\n        <Layout>\r\n          <Routes>\r\n            <Route path=\"/\" element={<LazyHomePage />} />\r\n            <Route path=\"/search\" element={<LazySearchResultsPage />} />\r\n            <Route path=\"/destinations\" element={<LazyDestinationsPage />} />\r\n            <Route path=\"/deals\" element={<LazyDealsPage />} />\r\n            <Route path=\"/experiences\" element={<LazyExperiencesPage />} />\r\n            <Route path=\"/rewards\" element={<LazyRewardsPage />} />\r\n            <Route path=\"/hotel/:id\" element={<HotelDetailsPage />} />\r\n            <Route path=\"/booking\" element={<BookingPage />} />\r\n            <Route path=\"/payment\" element={<LazyPaymentPage />} />\r\n            <Route path=\"/confirmation/:bookingId\" element={<LazyBookingConfirmationPage />} />\r\n            <Route path=\"/my-bookings\" element={<LazyBookingHistoryPage />} />\r\n            <Route path=\"/profile\" element={<LazyUserProfilePage />} />\r\n          </Routes>\r\n        </Layout>\r\n        <Toaster\r\n          position=\"top-right\"\r\n          expand={true}\r\n          richColors={true}\r\n          toastOptions={{\r\n            duration: 4000,\r\n            style: {\r\n              background: 'hsl(var(--background))',\r\n              color: 'hsl(var(--foreground))',\r\n              border: '1px solid hsl(var(--border))',\r\n            },\r\n          }}\r\n        />\r\n      </AuthProvider>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n\r\nexport default App;","/**\r\n * Advanced Analytics Tracking System\r\n * Comprehensive user behavior and performance monitoring\r\n */\r\n\r\nimport { logger } from './logger';\r\n\r\nexport interface AnalyticsEvent {\r\n  name: string;\r\n  properties?: Record<string, any>;\r\n  timestamp?: number;\r\n  userId?: string;\r\n  sessionId?: string;\r\n}\r\n\r\nexport interface PerformanceMetric {\r\n  name: string;\r\n  value: number;\r\n  unit: string;\r\n  timestamp: number;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\nexport interface ConversionEvent {\r\n  step: string;\r\n  funnel: string;\r\n  value?: number;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\nclass AnalyticsManager {\r\n  private static instance: AnalyticsManager;\r\n  private sessionId: string;\r\n  private userId?: string;\r\n  private isEnabled: boolean = true;\r\n  private eventQueue: AnalyticsEvent[] = [];\r\n  private performanceMetrics: PerformanceMetric[] = [];\r\n  \r\n  constructor() {\r\n    this.sessionId = this.generateSessionId();\r\n    this.initializePerformanceTracking();\r\n    this.startPeriodicReporting();\r\n  }\r\n\r\n  static getInstance(): AnalyticsManager {\r\n    if (!AnalyticsManager.instance) {\r\n      AnalyticsManager.instance = new AnalyticsManager();\r\n    }\r\n    return AnalyticsManager.instance;\r\n  }\r\n\r\n  private generateSessionId(): string {\r\n    return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  setUserId(userId: string): void {\r\n    this.userId = userId;\r\n    this.track('user_identified', { userId });\r\n  }\r\n\r\n  /**\r\n   * Track user events\r\n   */\r\n  track(eventName: string, properties: Record<string, any> = {}): void {\r\n    if (!this.isEnabled) return;\r\n\r\n    const event: AnalyticsEvent = {\r\n      name: eventName,\r\n      properties: {\r\n        ...properties,\r\n        url: window.location.href,\r\n        referrer: document.referrer,\r\n        userAgent: navigator.userAgent,\r\n        viewport: {\r\n          width: window.innerWidth,\r\n          height: window.innerHeight,\r\n        },\r\n      },\r\n      timestamp: Date.now(),\r\n      userId: this.userId,\r\n      sessionId: this.sessionId,\r\n    };\r\n\r\n    this.eventQueue.push(event);\r\n    \r\n    logger.debug('Analytics event tracked', {\r\n      component: 'Analytics',\r\n      event: eventName,\r\n      properties: Object.keys(properties),\r\n    });\r\n\r\n    // Send immediately for critical events\r\n    if (this.isCriticalEvent(eventName)) {\r\n      this.flushEvents();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Track page views\r\n   */\r\n  pageView(pageName: string, additionalProps: Record<string, any> = {}): void {\r\n    this.track('page_view', {\r\n      page: pageName,\r\n      title: document.title,\r\n      ...additionalProps,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Track conversion funnel events\r\n   */\r\n  conversion(event: ConversionEvent): void {\r\n    this.track('conversion_event', {\r\n      step: event.step,\r\n      funnel: event.funnel,\r\n      value: event.value,\r\n      ...event.metadata,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Track performance metrics\r\n   */\r\n  performance(metric: Omit<PerformanceMetric, 'timestamp'>): void {\r\n    const performanceMetric: PerformanceMetric = {\r\n      ...metric,\r\n      timestamp: Date.now(),\r\n    };\r\n\r\n    this.performanceMetrics.push(performanceMetric);\r\n    \r\n    logger.debug('Performance metric recorded', {\r\n      component: 'Analytics',\r\n      metric: metric.name,\r\n      value: metric.value,\r\n      unit: metric.unit,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Track user interactions\r\n   */\r\n  interaction(element: string, action: string, metadata: Record<string, any> = {}): void {\r\n    this.track('user_interaction', {\r\n      element,\r\n      action,\r\n      ...metadata,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Track errors\r\n   */\r\n  error(errorName: string, errorMessage: string, metadata: Record<string, any> = {}): void {\r\n    this.track('error_occurred', {\r\n      errorName,\r\n      errorMessage,\r\n      stack: metadata.stack,\r\n      component: metadata.component,\r\n      ...metadata,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Track business metrics\r\n   */\r\n  business(metricName: string, value: number, metadata: Record<string, any> = {}): void {\r\n    this.track('business_metric', {\r\n      metric: metricName,\r\n      value,\r\n      ...metadata,\r\n    });\r\n  }\r\n\r\n  private isCriticalEvent(eventName: string): boolean {\r\n    const criticalEvents = [\r\n      'page_view',\r\n      'search_performed',\r\n      'hotel_selected',\r\n      'booking_initiated',\r\n      'payment_completed',\r\n      'error_occurred',\r\n    ];\r\n    return criticalEvents.includes(eventName);\r\n  }\r\n\r\n  private initializePerformanceTracking(): void {\r\n    // Track Core Web Vitals\r\n    if ('web-vital' in window) {\r\n      // This would integrate with web-vitals library\r\n      logger.debug('Web Vitals tracking initialized', { component: 'Analytics' });\r\n    }\r\n\r\n    // Track navigation timing\r\n    window.addEventListener('load', () => {\r\n      setTimeout(() => {\r\n        const perfData = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming;\r\n        \r\n        if (perfData) {\r\n          this.performance({\r\n            name: 'page_load_time',\r\n            value: perfData.loadEventEnd - perfData.loadEventStart,\r\n            unit: 'ms',\r\n            metadata: {\r\n              domContentLoaded: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,\r\n              firstByte: perfData.responseStart - perfData.requestStart,\r\n            },\r\n          });\r\n        }\r\n      }, 100);\r\n    });\r\n\r\n    // Track resource loading\r\n    const observer = new PerformanceObserver((list) => {\r\n      for (const entry of list.getEntries()) {\r\n        if (entry.entryType === 'resource') {\r\n          const resourceEntry = entry as PerformanceResourceTiming;\r\n          this.performance({\r\n            name: 'resource_load_time',\r\n            value: resourceEntry.duration,\r\n            unit: 'ms',\r\n            metadata: {\r\n              resource: resourceEntry.name,\r\n              size: resourceEntry.transferSize,\r\n              type: resourceEntry.initiatorType,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    observer.observe({ entryTypes: ['resource'] });\r\n  }\r\n\r\n  private startPeriodicReporting(): void {\r\n    // Send events every 30 seconds\r\n    setInterval(() => {\r\n      this.flushEvents();\r\n      this.flushPerformanceMetrics();\r\n    }, 30000);\r\n\r\n    // Send events before page unload\r\n    window.addEventListener('beforeunload', () => {\r\n      this.flushEvents();\r\n      this.flushPerformanceMetrics();\r\n    });\r\n  }\r\n\r\n  private flushEvents(): void {\r\n    if (this.eventQueue.length === 0) return;\r\n\r\n    const events = [...this.eventQueue];\r\n    this.eventQueue = [];\r\n\r\n    // In production, send to analytics service\r\n    if (import.meta.env.MODE === 'development') {\r\n      logger.info('Analytics events (dev mode)', {\r\n        component: 'Analytics',\r\n        count: events.length,\r\n        events: events.slice(0, 3), // Show first 3 events\r\n      });\r\n    } else {\r\n      // Send to analytics service (Google Analytics, Mixpanel, etc.)\r\n      this.sendToAnalyticsService(events);\r\n    }\r\n  }\r\n\r\n  private flushPerformanceMetrics(): void {\r\n    if (this.performanceMetrics.length === 0) return;\r\n\r\n    const metrics = [...this.performanceMetrics];\r\n    this.performanceMetrics = [];\r\n\r\n    logger.info('Performance metrics collected', {\r\n      component: 'Analytics',\r\n      count: metrics.length,\r\n      avgLoadTime: this.calculateAverageLoadTime(metrics),\r\n    });\r\n\r\n    // Send to performance monitoring service\r\n    if (import.meta.env.MODE !== 'development') {\r\n      this.sendToPerformanceService(metrics);\r\n    }\r\n  }\r\n\r\n  private calculateAverageLoadTime(metrics: PerformanceMetric[]): number {\r\n    const loadTimeMetrics = metrics.filter(m => m.name.includes('load_time'));\r\n    if (loadTimeMetrics.length === 0) return 0;\r\n    \r\n    const total = loadTimeMetrics.reduce((sum, metric) => sum + metric.value, 0);\r\n    return Math.round(total / loadTimeMetrics.length);\r\n  }\r\n\r\n  private sendToAnalyticsService(events: AnalyticsEvent[]): void {\r\n    // Integration with analytics services\r\n    // Example: Google Analytics 4, Mixpanel, Amplitude, etc.\r\n    logger.debug('Sending events to analytics service', {\r\n      component: 'Analytics',\r\n      count: events.length,\r\n    });\r\n  }\r\n\r\n  private sendToPerformanceService(metrics: PerformanceMetric[]): void {\r\n    // Integration with performance monitoring services\r\n    // Example: DataDog, New Relic, Sentry Performance, etc.\r\n    logger.debug('Sending metrics to performance service', {\r\n      component: 'Analytics',\r\n      count: metrics.length,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Disable analytics (for privacy compliance)\r\n   */\r\n  disable(): void {\r\n    this.isEnabled = false;\r\n    this.eventQueue = [];\r\n    this.performanceMetrics = [];\r\n    logger.info('Analytics disabled', { component: 'Analytics' });\r\n  }\r\n\r\n  /**\r\n   * Enable analytics\r\n   */\r\n  enable(): void {\r\n    this.isEnabled = true;\r\n    logger.info('Analytics enabled', { component: 'Analytics' });\r\n  }\r\n}\r\n\r\nexport const analytics = AnalyticsManager.getInstance();\r\n\r\n// React hook for component-level analytics\r\nexport const useAnalytics = () => {\r\n  return {\r\n    track: analytics.track.bind(analytics),\r\n    pageView: analytics.pageView.bind(analytics),\r\n    conversion: analytics.conversion.bind(analytics),\r\n    interaction: analytics.interaction.bind(analytics),\r\n    performance: analytics.performance.bind(analytics),\r\n    error: analytics.error.bind(analytics),\r\n    business: analytics.business.bind(analytics),\r\n  };\r\n};","/**\r\n * Advanced Caching System\r\n * Multi-layered caching with Redis integration and intelligent invalidation\r\n */\r\n\r\nimport { logger } from './logger';\r\n\r\ninterface CacheEntry<T> {\r\n  data: T;\r\n  timestamp: number;\r\n  ttl: number;\r\n  version: string;\r\n  tags: string[];\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\ninterface CacheOptions {\r\n  ttl?: number; // Time to live in milliseconds\r\n  tags?: string[]; // For cache invalidation\r\n  version?: string; // For versioned caching\r\n  priority?: 'low' | 'medium' | 'high';\r\n  compressed?: boolean;\r\n}\r\n\r\ninterface CacheStatistics {\r\n  hits: number;\r\n  misses: number;\r\n  size: number;\r\n  memoryUsage: number;\r\n  hitRate: number;\r\n}\r\n\r\nclass AdvancedCacheManager {\r\n  private static instance: AdvancedCacheManager;\r\n  private memoryCache: Map<string, CacheEntry<any>> = new Map();\r\n  private statistics: CacheStatistics = {\r\n    hits: 0,\r\n    misses: 0,\r\n    size: 0,\r\n    memoryUsage: 0,\r\n    hitRate: 0,\r\n  };\r\n  \r\n  private readonly maxMemorySize = 50 * 1024 * 1024; // 50MB\r\n  private readonly cleanupInterval = 5 * 60 * 1000; // 5 minutes\r\n  private cleanupTimer?: NodeJS.Timeout;\r\n\r\n  constructor() {\r\n    this.startCleanupProcess();\r\n    this.initializeStoragePersistence();\r\n  }\r\n\r\n  static getInstance(): AdvancedCacheManager {\r\n    if (!AdvancedCacheManager.instance) {\r\n      AdvancedCacheManager.instance = new AdvancedCacheManager();\r\n    }\r\n    return AdvancedCacheManager.instance;\r\n  }\r\n\r\n  /**\r\n   * Set cache entry with advanced options\r\n   */\r\n  async set<T>(\r\n    key: string,\r\n    data: T,\r\n    options: CacheOptions = {}\r\n  ): Promise<void> {\r\n    const {\r\n      ttl = 30 * 60 * 1000, // 30 minutes default\r\n      tags = [],\r\n      version = '1.0',\r\n      priority = 'medium',\r\n      compressed = false,\r\n    } = options;\r\n\r\n    // Compress data if requested and it's large\r\n    let processedData = data;\r\n    if (compressed && this.shouldCompress(data)) {\r\n      processedData = await this.compressData(data) as T;\r\n    }\r\n\r\n    const entry: CacheEntry<T> = {\r\n      data: processedData,\r\n      timestamp: Date.now(),\r\n      ttl,\r\n      version,\r\n      tags,\r\n      metadata: {\r\n        priority,\r\n        compressed,\r\n        originalSize: this.getDataSize(data),\r\n        processedSize: this.getDataSize(processedData),\r\n      },\r\n    };\r\n\r\n    // Check if we need to free memory\r\n    if (this.shouldEvictMemory()) {\r\n      await this.evictLowPriorityEntries();\r\n    }\r\n\r\n    this.memoryCache.set(key, entry);\r\n    this.updateStatistics();\r\n\r\n    // Persist to IndexedDB for larger/important entries\r\n    if (priority === 'high' || this.getDataSize(processedData) > 1024 * 100) {\r\n      await this.persistToStorage(key, entry);\r\n    }\r\n\r\n    logger.debug('Cache entry set', {\r\n      component: 'AdvancedCache',\r\n      key,\r\n      ttl,\r\n      tags,\r\n      priority,\r\n      size: this.getDataSize(processedData),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get cache entry with fallback strategies\r\n   */\r\n  async get<T>(key: string, fallback?: () => Promise<T>): Promise<T | null> {\r\n    // Try memory cache first\r\n    let entry = this.memoryCache.get(key);\r\n    let cacheLevel = 'memory';\r\n\r\n    // Try persistent storage if not in memory\r\n    if (!entry) {\r\n      const storedEntry = await this.getFromStorage(key);\r\n      if (storedEntry) {\r\n        entry = storedEntry;\r\n        cacheLevel = 'storage';\r\n        \r\n        // Put back in memory cache if found\r\n        this.memoryCache.set(key, entry);\r\n      }\r\n    }\r\n\r\n    // Check if entry exists and is not expired\r\n    if (entry && !this.isExpired(entry)) {\r\n      this.statistics.hits++;\r\n      this.updateStatistics();\r\n      \r\n      let data = entry.data;\r\n      \r\n      // Decompress if needed\r\n      if (entry.metadata?.compressed) {\r\n        data = await this.decompressData(data);\r\n      }\r\n\r\n      logger.debug('Cache hit', {\r\n        component: 'AdvancedCache',\r\n        key,\r\n        level: cacheLevel,\r\n        age: Date.now() - entry.timestamp,\r\n      });\r\n\r\n      return data;\r\n    }\r\n\r\n    // Cache miss - remove expired entry\r\n    if (entry) {\r\n      this.memoryCache.delete(key);\r\n      await this.removeFromStorage(key);\r\n    }\r\n\r\n    this.statistics.misses++;\r\n    this.updateStatistics();\r\n\r\n    logger.debug('Cache miss', {\r\n      component: 'AdvancedCache',\r\n      key,\r\n      expired: entry ? this.isExpired(entry) : false,\r\n    });\r\n\r\n    // Try fallback if provided\r\n    if (fallback) {\r\n      try {\r\n        const fallbackData = await fallback();\r\n        // Cache the fallback result\r\n        await this.set(key, fallbackData, { ttl: 10 * 60 * 1000 }); // 10 min TTL for fallback\r\n        return fallbackData;\r\n      } catch (error) {\r\n        logger.warn('Cache fallback failed', {\r\n          component: 'AdvancedCache',\r\n          key,\r\n          error: error instanceof Error ? error.message : 'Unknown error',\r\n        });\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Invalidate cache entries by tags\r\n   */\r\n  async invalidateByTags(tags: string[]): Promise<void> {\r\n    let invalidatedCount = 0;\r\n\r\n    for (const [key, entry] of this.memoryCache.entries()) {\r\n      if (entry.tags.some(tag => tags.includes(tag))) {\r\n        this.memoryCache.delete(key);\r\n        await this.removeFromStorage(key);\r\n        invalidatedCount++;\r\n      }\r\n    }\r\n\r\n    logger.info('Cache invalidated by tags', {\r\n      component: 'AdvancedCache',\r\n      tags,\r\n      invalidatedCount,\r\n    });\r\n\r\n    this.updateStatistics();\r\n  }\r\n\r\n  /**\r\n   * Clear all cache\r\n   */\r\n  async clear(): Promise<void> {\r\n    this.memoryCache.clear();\r\n    await this.clearStorage();\r\n    this.resetStatistics();\r\n    \r\n    logger.info('All cache cleared', { component: 'AdvancedCache' });\r\n  }\r\n\r\n  /**\r\n   * Get cache statistics\r\n   */\r\n  getStatistics(): CacheStatistics {\r\n    return { ...this.statistics };\r\n  }\r\n\r\n  /**\r\n   * Preload critical data\r\n   */\r\n  async preloadCriticalData(): Promise<void> {\r\n    const criticalKeys = [\r\n      'hotel-search-popular',\r\n      'user-preferences',\r\n      'payment-config',\r\n      'destinations-featured',\r\n    ];\r\n\r\n    logger.info('Preloading critical cache data', {\r\n      component: 'AdvancedCache',\r\n      keys: criticalKeys,\r\n    });\r\n\r\n    // In a real implementation, this would fetch and cache critical data\r\n    for (const key of criticalKeys) {\r\n      // Placeholder for actual data fetching\r\n      await this.set(key, { preloaded: true, key }, { \r\n        ttl: 60 * 60 * 1000, // 1 hour\r\n        priority: 'high',\r\n        tags: ['critical', 'preload'],\r\n      });\r\n    }\r\n  }\r\n\r\n  private isExpired(entry: CacheEntry<any>): boolean {\r\n    return Date.now() > entry.timestamp + entry.ttl;\r\n  }\r\n\r\n  private shouldCompress(data: any): boolean {\r\n    const size = this.getDataSize(data);\r\n    return size > 1024; // Compress if larger than 1KB\r\n  }\r\n\r\n  private async compressData<T>(data: T): Promise<string> {\r\n    // Simple JSON compression (in production, use proper compression like LZ4)\r\n    return JSON.stringify(data);\r\n  }\r\n\r\n  private async decompressData(compressedData: string): Promise<any> {\r\n    return JSON.parse(compressedData);\r\n  }\r\n\r\n  private getDataSize(data: any): number {\r\n    return JSON.stringify(data).length;\r\n  }\r\n\r\n  private shouldEvictMemory(): boolean {\r\n    return this.statistics.memoryUsage > this.maxMemorySize;\r\n  }\r\n\r\n  private async evictLowPriorityEntries(): Promise<void> {\r\n    const entries = Array.from(this.memoryCache.entries());\r\n    \r\n    // Sort by priority and age\r\n    entries.sort((a, b) => {\r\n      const priorityOrder: Record<string, number> = { low: 0, medium: 1, high: 2 };\r\n      const aPriority = priorityOrder[a[1].metadata?.priority || 'medium'];\r\n      const bPriority = priorityOrder[b[1].metadata?.priority || 'medium'];\r\n      \r\n      if (aPriority !== bPriority) return aPriority - bPriority;\r\n      return a[1].timestamp - b[1].timestamp; // Older first\r\n    });\r\n\r\n    // Remove lowest priority entries\r\n    const toRemove = Math.ceil(entries.length * 0.25); // Remove 25%\r\n    for (let i = 0; i < toRemove; i++) {\r\n      const [key] = entries[i];\r\n      this.memoryCache.delete(key);\r\n    }\r\n\r\n    logger.info('Memory cache eviction completed', {\r\n      component: 'AdvancedCache',\r\n      evicted: toRemove,\r\n      remaining: this.memoryCache.size,\r\n    });\r\n  }\r\n\r\n  private startCleanupProcess(): void {\r\n    this.cleanupTimer = setInterval(() => {\r\n      this.cleanupExpiredEntries();\r\n    }, this.cleanupInterval);\r\n  }\r\n\r\n  private cleanupExpiredEntries(): void {\r\n    let cleanedCount = 0;\r\n\r\n    for (const [key, entry] of this.memoryCache.entries()) {\r\n      if (this.isExpired(entry)) {\r\n        this.memoryCache.delete(key);\r\n        this.removeFromStorage(key);\r\n        cleanedCount++;\r\n      }\r\n    }\r\n\r\n    if (cleanedCount > 0) {\r\n      logger.debug('Cleaned up expired cache entries', {\r\n        component: 'AdvancedCache',\r\n        cleaned: cleanedCount,\r\n      });\r\n      this.updateStatistics();\r\n    }\r\n  }\r\n\r\n  private updateStatistics(): void {\r\n    this.statistics.size = this.memoryCache.size;\r\n    this.statistics.memoryUsage = Array.from(this.memoryCache.values())\r\n      .reduce((total, entry) => total + this.getDataSize(entry), 0);\r\n    \r\n    const total = this.statistics.hits + this.statistics.misses;\r\n    this.statistics.hitRate = total > 0 ? (this.statistics.hits / total) * 100 : 0;\r\n  }\r\n\r\n  private resetStatistics(): void {\r\n    this.statistics = {\r\n      hits: 0,\r\n      misses: 0,\r\n      size: 0,\r\n      memoryUsage: 0,\r\n      hitRate: 0,\r\n    };\r\n  }\r\n\r\n  // IndexedDB integration for persistent storage\r\n  private async initializeStoragePersistence(): Promise<void> {\r\n    if (!('indexedDB' in window)) {\r\n      logger.warn('IndexedDB not available', { component: 'AdvancedCache' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Initialize IndexedDB for persistent caching\r\n      logger.debug('IndexedDB cache storage initialized', { component: 'AdvancedCache' });\r\n    } catch (error) {\r\n      logger.warn('Failed to initialize persistent storage', {\r\n        component: 'AdvancedCache',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  }\r\n\r\n  private async persistToStorage(key: string, entry: CacheEntry<any>): Promise<void> {\r\n    try {\r\n      // Store in localStorage as fallback (IndexedDB implementation would go here)\r\n      localStorage.setItem(`cache_${key}`, JSON.stringify(entry));\r\n    } catch (error) {\r\n      logger.debug('Failed to persist cache entry', {\r\n        component: 'AdvancedCache',\r\n        key,\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  }\r\n\r\n  private async getFromStorage(key: string): Promise<CacheEntry<any> | null> {\r\n    try {\r\n      const stored = localStorage.getItem(`cache_${key}`);\r\n      return stored ? JSON.parse(stored) : null;\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private async removeFromStorage(key: string): Promise<void> {\r\n    try {\r\n      localStorage.removeItem(`cache_${key}`);\r\n    } catch (error) {\r\n      // Ignore removal errors\r\n    }\r\n  }\r\n\r\n  private async clearStorage(): Promise<void> {\r\n    try {\r\n      // Clear cache-related localStorage items\r\n      Object.keys(localStorage).forEach(key => {\r\n        if (key.startsWith('cache_')) {\r\n          localStorage.removeItem(key);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      logger.warn('Failed to clear persistent storage', {\r\n        component: 'AdvancedCache',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  }\r\n\r\n  destroy(): void {\r\n    if (this.cleanupTimer) {\r\n      clearInterval(this.cleanupTimer);\r\n    }\r\n    this.memoryCache.clear();\r\n    this.clearStorage();\r\n  }\r\n}\r\n\r\nexport const advancedCache = AdvancedCacheManager.getInstance();\r\n\r\n// React hook for component-level caching\r\nexport const useAdvancedCache = () => {\r\n  return {\r\n    get: advancedCache.get.bind(advancedCache),\r\n    set: advancedCache.set.bind(advancedCache),\r\n    invalidateByTags: advancedCache.invalidateByTags.bind(advancedCache),\r\n    clear: advancedCache.clear.bind(advancedCache),\r\n    getStatistics: advancedCache.getStatistics.bind(advancedCache),\r\n  };\r\n};","/**\r\n * WebSocket Manager for Real-Time Features\r\n * Handles real-time price updates, availability changes, and user notifications\r\n */\r\n\r\nimport { logger } from './logger';\r\nimport { analytics } from './analytics';\r\n\r\nexport interface WebSocketMessage {\r\n  type: string;\r\n  data: any;\r\n  timestamp: number;\r\n  id?: string;\r\n}\r\n\r\nexport interface ConnectionOptions {\r\n  url: string;\r\n  protocols?: string[];\r\n  reconnectAttempts?: number;\r\n  reconnectDelay?: number;\r\n  heartbeatInterval?: number;\r\n  maxMessageQueue?: number;\r\n}\r\n\r\nexport interface RealTimeUpdate {\r\n  hotelId: string;\r\n  roomId?: string;\r\n  type: 'price' | 'availability' | 'promotion' | 'notification';\r\n  data: any;\r\n  priority: 'low' | 'medium' | 'high' | 'urgent';\r\n}\r\n\r\ntype MessageHandler = (message: WebSocketMessage) => void;\r\ntype ConnectionHandler = (connected: boolean, error?: Error) => void;\r\n\r\nclass WebSocketManager {\r\n  private static instance: WebSocketManager;\r\n  private socket: WebSocket | null = null;\r\n  private messageHandlers: Map<string, MessageHandler[]> = new Map();\r\n  private connectionHandlers: ConnectionHandler[] = [];\r\n  private messageQueue: WebSocketMessage[] = [];\r\n  private reconnectAttempts = 0;\r\n  private maxReconnectAttempts = 5;\r\n  private reconnectDelay = 1000;\r\n  private heartbeatInterval = 30000;\r\n  private heartbeatTimer?: NodeJS.Timeout;\r\n  private connectionState: 'disconnected' | 'connecting' | 'connected' | 'error' = 'disconnected';\r\n  private lastHeartbeat = 0;\r\n  private options: ConnectionOptions = {\r\n    url: '',\r\n    reconnectAttempts: 5,\r\n    reconnectDelay: 1000,\r\n    heartbeatInterval: 30000,\r\n    maxMessageQueue: 100,\r\n  };\r\n\r\n  static getInstance(): WebSocketManager {\r\n    if (!WebSocketManager.instance) {\r\n      WebSocketManager.instance = new WebSocketManager();\r\n    }\r\n    return WebSocketManager.instance;\r\n  }\r\n\r\n  /**\r\n   * Connect to WebSocket server\r\n   */\r\n  async connect(options: ConnectionOptions): Promise<void> {\r\n    this.options = { ...this.options, ...options };\r\n    \r\n    if (this.socket?.readyState === WebSocket.OPEN) {\r\n      logger.debug('WebSocket already connected', { component: 'WebSocketManager' });\r\n      return;\r\n    }\r\n\r\n    this.connectionState = 'connecting';\r\n    \r\n    try {\r\n      logger.info('Connecting to WebSocket', {\r\n        component: 'WebSocketManager',\r\n        url: this.options.url,\r\n      });\r\n\r\n      this.socket = new WebSocket(this.options.url, this.options.protocols);\r\n      \r\n      this.socket.onopen = this.handleOpen.bind(this);\r\n      this.socket.onmessage = this.handleMessage.bind(this);\r\n      this.socket.onclose = this.handleClose.bind(this);\r\n      this.socket.onerror = this.handleError.bind(this);\r\n\r\n      // Analytics tracking\r\n      analytics.track('websocket_connect_attempt', {\r\n        url: this.options.url,\r\n        attempt: this.reconnectAttempts + 1,\r\n      });\r\n\r\n    } catch (error) {\r\n      this.handleError(new Error(`WebSocket connection failed: ${error}`));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Disconnect from WebSocket\r\n   */\r\n  disconnect(): void {\r\n    if (this.heartbeatTimer) {\r\n      clearInterval(this.heartbeatTimer);\r\n      this.heartbeatTimer = undefined;\r\n    }\r\n\r\n    if (this.socket) {\r\n      this.socket.close(1000, 'Client disconnect');\r\n      this.socket = null;\r\n    }\r\n\r\n    this.connectionState = 'disconnected';\r\n    this.reconnectAttempts = 0;\r\n    \r\n    logger.info('WebSocket disconnected', { component: 'WebSocketManager' });\r\n    \r\n    this.notifyConnectionHandlers(false);\r\n  }\r\n\r\n  /**\r\n   * Send message through WebSocket\r\n   */\r\n  send(type: string, data: any, _priority: 'low' | 'medium' | 'high' = 'medium'): void {\r\n    const message: WebSocketMessage = {\r\n      type,\r\n      data,\r\n      timestamp: Date.now(),\r\n      id: this.generateMessageId(),\r\n    };\r\n\r\n    if (this.socket?.readyState === WebSocket.OPEN) {\r\n      try {\r\n        this.socket.send(JSON.stringify(message));\r\n        \r\n        logger.debug('WebSocket message sent', {\r\n          component: 'WebSocketManager',\r\n          type,\r\n          id: message.id,\r\n        });\r\n\r\n      } catch (error) {\r\n        logger.error('Failed to send WebSocket message', {\r\n          component: 'WebSocketManager',\r\n          error: error instanceof Error ? error.message : 'Unknown error',\r\n        });\r\n      }\r\n    } else {\r\n      // Queue message for later sending\r\n      if (this.messageQueue.length < (this.options.maxMessageQueue || 100)) {\r\n        this.messageQueue.push(message);\r\n        \r\n        logger.debug('WebSocket message queued', {\r\n          component: 'WebSocketManager',\r\n          type,\r\n          queueSize: this.messageQueue.length,\r\n        });\r\n      } else {\r\n        logger.warn('WebSocket message queue full, dropping message', {\r\n          component: 'WebSocketManager',\r\n          type,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Subscribe to message type\r\n   */\r\n  subscribe(messageType: string, handler: MessageHandler): () => void {\r\n    if (!this.messageHandlers.has(messageType)) {\r\n      this.messageHandlers.set(messageType, []);\r\n    }\r\n    \r\n    this.messageHandlers.get(messageType)!.push(handler);\r\n\r\n    logger.debug('Subscribed to WebSocket message type', {\r\n      component: 'WebSocketManager',\r\n      messageType,\r\n      handlerCount: this.messageHandlers.get(messageType)!.length,\r\n    });\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      const handlers = this.messageHandlers.get(messageType);\r\n      if (handlers) {\r\n        const index = handlers.indexOf(handler);\r\n        if (index > -1) {\r\n          handlers.splice(index, 1);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Subscribe to connection state changes\r\n   */\r\n  onConnectionChange(handler: ConnectionHandler): () => void {\r\n    this.connectionHandlers.push(handler);\r\n    \r\n    // Return unsubscribe function\r\n    return () => {\r\n      const index = this.connectionHandlers.indexOf(handler);\r\n      if (index > -1) {\r\n        this.connectionHandlers.splice(index, 1);\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get current connection state\r\n   */\r\n  getConnectionState(): string {\r\n    return this.connectionState;\r\n  }\r\n\r\n  /**\r\n   * Get connection statistics\r\n   */\r\n  getStatistics() {\r\n    return {\r\n      connectionState: this.connectionState,\r\n      reconnectAttempts: this.reconnectAttempts,\r\n      messageQueueSize: this.messageQueue.length,\r\n      subscriberCount: Array.from(this.messageHandlers.values()).reduce(\r\n        (total, handlers) => total + handlers.length,\r\n        0\r\n      ),\r\n      lastHeartbeat: this.lastHeartbeat,\r\n      uptime: this.lastHeartbeat > 0 ? Date.now() - this.lastHeartbeat : 0,\r\n    };\r\n  }\r\n\r\n  private handleOpen(_event: Event): void {\r\n    this.connectionState = 'connected';\r\n    this.reconnectAttempts = 0;\r\n    \r\n    logger.info('WebSocket connected successfully', { component: 'WebSocketManager' });\r\n    \r\n    // Start heartbeat\r\n    this.startHeartbeat();\r\n    \r\n    // Send queued messages\r\n    this.flushMessageQueue();\r\n    \r\n    // Notify handlers\r\n    this.notifyConnectionHandlers(true);\r\n\r\n    // Analytics tracking\r\n    analytics.track('websocket_connected', {\r\n      url: this.options.url,\r\n      queuedMessages: this.messageQueue.length,\r\n    });\r\n  }\r\n\r\n  private handleMessage(event: MessageEvent): void {\r\n    try {\r\n      const message: WebSocketMessage = JSON.parse(event.data);\r\n      \r\n      // Handle heartbeat responses\r\n      if (message.type === 'heartbeat_response') {\r\n        this.lastHeartbeat = Date.now();\r\n        return;\r\n      }\r\n\r\n      logger.debug('WebSocket message received', {\r\n        component: 'WebSocketManager',\r\n        type: message.type,\r\n        id: message.id,\r\n      });\r\n\r\n      // Notify subscribed handlers\r\n      const handlers = this.messageHandlers.get(message.type) || [];\r\n      handlers.forEach(handler => {\r\n        try {\r\n          handler(message);\r\n        } catch (error) {\r\n          logger.error('Error in WebSocket message handler', {\r\n            component: 'WebSocketManager',\r\n            messageType: message.type,\r\n            error: error instanceof Error ? error.message : 'Unknown error',\r\n          });\r\n        }\r\n      });\r\n\r\n    } catch (error) {\r\n      logger.error('Failed to parse WebSocket message', {\r\n        component: 'WebSocketManager',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  }\r\n\r\n  private handleClose(event: CloseEvent): void {\r\n    this.connectionState = 'disconnected';\r\n    \r\n    if (this.heartbeatTimer) {\r\n      clearInterval(this.heartbeatTimer);\r\n      this.heartbeatTimer = undefined;\r\n    }\r\n\r\n    logger.warn('WebSocket connection closed', {\r\n      component: 'WebSocketManager',\r\n      code: event.code,\r\n      reason: event.reason,\r\n      wasClean: event.wasClean,\r\n    });\r\n\r\n    this.notifyConnectionHandlers(false);\r\n\r\n    // Attempt reconnection if not a clean close\r\n    if (!event.wasClean && this.reconnectAttempts < this.maxReconnectAttempts) {\r\n      this.attemptReconnection();\r\n    }\r\n  }\r\n\r\n  private handleError(error: Event | Error): void {\r\n    this.connectionState = 'error';\r\n    \r\n    const errorMessage = error instanceof Error ? error.message : 'WebSocket error';\r\n    \r\n    logger.error('WebSocket error occurred', {\r\n      component: 'WebSocketManager',\r\n      error: errorMessage,\r\n    });\r\n\r\n    // Analytics tracking\r\n    analytics.track('websocket_error', {\r\n      error: errorMessage,\r\n      attempt: this.reconnectAttempts,\r\n    });\r\n\r\n    this.notifyConnectionHandlers(false, error instanceof Error ? error : new Error(errorMessage));\r\n  }\r\n\r\n  private attemptReconnection(): void {\r\n    this.reconnectAttempts++;\r\n    const delay = this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1); // Exponential backoff\r\n    \r\n    logger.info('Attempting WebSocket reconnection', {\r\n      component: 'WebSocketManager',\r\n      attempt: this.reconnectAttempts,\r\n      delay,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      if (this.connectionState !== 'connected') {\r\n        this.connect(this.options);\r\n      }\r\n    }, delay);\r\n  }\r\n\r\n  private startHeartbeat(): void {\r\n    if (this.heartbeatTimer) {\r\n      clearInterval(this.heartbeatTimer);\r\n    }\r\n\r\n    this.heartbeatTimer = setInterval(() => {\r\n      if (this.socket?.readyState === WebSocket.OPEN) {\r\n        this.send('heartbeat', { timestamp: Date.now() });\r\n      }\r\n    }, this.heartbeatInterval);\r\n  }\r\n\r\n  private flushMessageQueue(): void {\r\n    if (this.messageQueue.length === 0) return;\r\n\r\n    logger.info('Flushing WebSocket message queue', {\r\n      component: 'WebSocketManager',\r\n      count: this.messageQueue.length,\r\n    });\r\n\r\n    const messages = [...this.messageQueue];\r\n    this.messageQueue = [];\r\n\r\n    messages.forEach(message => {\r\n      if (this.socket?.readyState === WebSocket.OPEN) {\r\n        try {\r\n          this.socket.send(JSON.stringify(message));\r\n        } catch (error) {\r\n          logger.error('Failed to send queued message', {\r\n            component: 'WebSocketManager',\r\n            messageType: message.type,\r\n            error: error instanceof Error ? error.message : 'Unknown error',\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private notifyConnectionHandlers(connected: boolean, error?: Error): void {\r\n    this.connectionHandlers.forEach(handler => {\r\n      try {\r\n        handler(connected, error);\r\n      } catch (handlerError) {\r\n        logger.error('Error in connection handler', {\r\n          component: 'WebSocketManager',\r\n          error: handlerError instanceof Error ? handlerError.message : 'Unknown error',\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private generateMessageId(): string {\r\n    return `msg_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n}\r\n\r\nexport const websocketManager = WebSocketManager.getInstance();\r\n\r\n// React hook for WebSocket functionality\r\nexport const useWebSocket = () => {\r\n  return {\r\n    connect: websocketManager.connect.bind(websocketManager),\r\n    disconnect: websocketManager.disconnect.bind(websocketManager),\r\n    send: websocketManager.send.bind(websocketManager),\r\n    subscribe: websocketManager.subscribe.bind(websocketManager),\r\n    onConnectionChange: websocketManager.onConnectionChange.bind(websocketManager),\r\n    getConnectionState: websocketManager.getConnectionState.bind(websocketManager),\r\n    getStatistics: websocketManager.getStatistics.bind(websocketManager),\r\n  };\r\n};","/**\r\n * Progressive Image Loading Utility\r\n * Advanced image optimization with WebP conversion, lazy loading, and progressive enhancement\r\n */\r\n\r\nimport { logger } from './logger';\r\nimport { analytics } from './analytics';\r\n\r\nexport interface ImageLoadOptions {\r\n  quality?: number;\r\n  format?: 'webp' | 'jpeg' | 'png' | 'auto';\r\n  sizes?: string;\r\n  loading?: 'lazy' | 'eager';\r\n  placeholder?: 'blur' | 'color' | 'skeleton';\r\n  placeholderColor?: string;\r\n  fade?: boolean;\r\n  retries?: number;\r\n  timeout?: number;\r\n}\r\n\r\nexport interface ImageMetrics {\r\n  loadTime: number;\r\n  fileSize: number;\r\n  format: string;\r\n  dimensions: { width: number; height: number };\r\n  fromCache: boolean;\r\n}\r\n\r\nexport interface ProgressiveImageData {\r\n  src: string;\r\n  srcSet?: string;\r\n  placeholder?: string;\r\n  loaded: boolean;\r\n  loading: boolean;\r\n  error: boolean;\r\n  metrics?: ImageMetrics;\r\n}\r\n\r\nclass ProgressiveImageLoader {\r\n  private static instance: ProgressiveImageLoader;\r\n  private imageCache: Map<string, ProgressiveImageData> = new Map();\r\n  private loadingQueue: Map<string, Promise<ProgressiveImageData>> = new Map();\r\n  private webpSupported?: boolean;\r\n  private avifSupported?: boolean;\r\n\r\n  constructor() {\r\n    this.checkFormatSupport();\r\n    this.initializeIntersectionObserver();\r\n  }\r\n\r\n  static getInstance(): ProgressiveImageLoader {\r\n    if (!ProgressiveImageLoader.instance) {\r\n      ProgressiveImageLoader.instance = new ProgressiveImageLoader();\r\n    }\r\n    return ProgressiveImageLoader.instance;\r\n  }\r\n\r\n  /**\r\n   * Load image with progressive enhancement\r\n   */\r\n  async loadImage(\r\n    src: string,\r\n    options: ImageLoadOptions = {}\r\n  ): Promise<ProgressiveImageData> {\r\n    const cacheKey = this.getCacheKey(src, options);\r\n    \r\n    // Return cached data if available\r\n    if (this.imageCache.has(cacheKey)) {\r\n      const cached = this.imageCache.get(cacheKey)!;\r\n      if (cached.loaded || cached.error) {\r\n        return cached;\r\n      }\r\n    }\r\n\r\n    // Return existing promise if already loading\r\n    if (this.loadingQueue.has(cacheKey)) {\r\n      return this.loadingQueue.get(cacheKey)!;\r\n    }\r\n\r\n    // Start loading\r\n    const loadPromise = this.performImageLoad(src, options);\r\n    this.loadingQueue.set(cacheKey, loadPromise);\r\n\r\n    try {\r\n      const result = await loadPromise;\r\n      this.imageCache.set(cacheKey, result);\r\n      return result;\r\n    } finally {\r\n      this.loadingQueue.delete(cacheKey);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Preload critical images\r\n   */\r\n  async preloadImages(urls: string[], options: ImageLoadOptions = {}): Promise<void> {\r\n    logger.info('Preloading critical images', {\r\n      component: 'ProgressiveImageLoader',\r\n      count: urls.length,\r\n    });\r\n\r\n    const preloadPromises = urls.map(async (url, index) => {\r\n      // Stagger preloading to avoid overwhelming the browser\r\n      await this.delay(index * 50);\r\n      return this.loadImage(url, { ...options, loading: 'eager' });\r\n    });\r\n\r\n    try {\r\n      await Promise.allSettled(preloadPromises);\r\n      \r\n      analytics.performance({\r\n        name: 'image_preload_completed',\r\n        value: urls.length,\r\n        unit: 'count',\r\n        metadata: { urls: urls.slice(0, 3) }, // Log first 3 URLs\r\n      });\r\n    } catch (error) {\r\n      logger.warn('Image preloading failed', {\r\n        component: 'ProgressiveImageLoader',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate optimized image URL with format conversion\r\n   */\r\n  getOptimizedUrl(\r\n    src: string,\r\n    options: ImageLoadOptions = {}\r\n  ): string {\r\n    const {\r\n      quality = 85,\r\n      format = 'auto',\r\n    } = options;\r\n\r\n    // Use the extracted values to avoid TypeScript unused variable errors\r\n    if (quality < 1 || quality > 100) {\r\n      throw new Error('Quality must be between 1 and 100');\r\n    }\r\n    if (!['auto', 'webp', 'jpeg', 'png'].includes(format)) {\r\n      throw new Error('Invalid format specified');\r\n    }\r\n\r\n    // If it's a local image, return as-is\r\n    if (src.startsWith('/') || src.startsWith('./')) {\r\n      return src;\r\n    }\r\n\r\n    // For external images (Unsplash, etc.), apply optimizations\r\n    if (src.includes('unsplash.com')) {\r\n      return this.optimizeUnsplashUrl(src, options);\r\n    }\r\n\r\n    // For other URLs, apply basic optimizations if possible\r\n    return this.applyBasicOptimizations(src, options);\r\n  }\r\n\r\n  /**\r\n   * Generate responsive srcSet\r\n   */\r\n  generateSrcSet(\r\n    baseSrc: string,\r\n    options: ImageLoadOptions = {}\r\n  ): string {\r\n    const widths = [400, 800, 1200, 1600, 2000];\r\n    \r\n    return widths\r\n      .map(width => {\r\n        const optimizedUrl = this.getOptimizedUrl(baseSrc, {\r\n          ...options,\r\n          // Add width parameter for responsive images\r\n        });\r\n        return `${this.addWidthParam(optimizedUrl, width)} ${width}w`;\r\n      })\r\n      .join(', ');\r\n  }\r\n\r\n  /**\r\n   * Create placeholder image\r\n   */\r\n  createPlaceholder(\r\n    width: number,\r\n    height: number,\r\n    options: ImageLoadOptions = {}\r\n  ): string {\r\n    const { placeholder = 'color', placeholderColor = '#f3f4f6' } = options;\r\n\r\n    switch (placeholder) {\r\n      case 'blur':\r\n        return this.createBlurPlaceholder(width, height);\r\n      case 'skeleton':\r\n        return this.createSkeletonPlaceholder(width, height);\r\n      case 'color':\r\n      default:\r\n        return this.createColorPlaceholder(width, height, placeholderColor);\r\n    }\r\n  }\r\n\r\n  private async performImageLoad(\r\n    src: string,\r\n    options: ImageLoadOptions\r\n  ): Promise<ProgressiveImageData> {\r\n    const startTime = Date.now();\r\n    const optimizedSrc = this.getOptimizedUrl(src, options);\r\n    \r\n    const imageData: ProgressiveImageData = {\r\n      src: optimizedSrc,\r\n      srcSet: this.generateSrcSet(src, options),\r\n      placeholder: this.createPlaceholder(400, 300, options),\r\n      loaded: false,\r\n      loading: true,\r\n      error: false,\r\n    };\r\n\r\n    try {\r\n      // Create image element for loading\r\n      const img = new Image();\r\n      \r\n      // Set up loading promise\r\n      const loadPromise = new Promise<void>((resolve, reject) => {\r\n        img.onload = () => resolve();\r\n        img.onerror = () => reject(new Error('Image failed to load'));\r\n      });\r\n\r\n      // Apply timeout if specified\r\n      const { timeout = 10000 } = options;\r\n      const timeoutPromise = new Promise<void>((_, reject) => {\r\n        setTimeout(() => reject(new Error('Image load timeout')), timeout);\r\n      });\r\n\r\n      // Start loading\r\n      img.src = optimizedSrc;\r\n      \r\n      // Wait for load or timeout\r\n      await Promise.race([loadPromise, timeoutPromise]);\r\n\r\n      // Calculate metrics\r\n      const loadTime = Date.now() - startTime;\r\n      const metrics: ImageMetrics = {\r\n        loadTime,\r\n        fileSize: this.estimateFileSize(img),\r\n        format: this.detectFormat(optimizedSrc),\r\n        dimensions: { width: img.naturalWidth, height: img.naturalHeight },\r\n        fromCache: loadTime < 50, // Assume cached if very fast\r\n      };\r\n\r\n      imageData.loaded = true;\r\n      imageData.loading = false;\r\n      imageData.metrics = metrics;\r\n\r\n      // Track analytics\r\n      analytics.performance({\r\n        name: 'image_load_time',\r\n        value: loadTime,\r\n        unit: 'ms',\r\n        metadata: {\r\n          src: src.slice(0, 100), // Truncate URL\r\n          format: metrics.format,\r\n          fromCache: metrics.fromCache,\r\n        },\r\n      });\r\n\r\n      logger.debug('Image loaded successfully', {\r\n        component: 'ProgressiveImageLoader',\r\n        src: src.slice(0, 100),\r\n        loadTime,\r\n        format: metrics.format,\r\n        dimensions: metrics.dimensions,\r\n      });\r\n\r\n    } catch (error) {\r\n      imageData.loaded = false;\r\n      imageData.loading = false;\r\n      imageData.error = true;\r\n\r\n      logger.warn('Image loading failed', {\r\n        component: 'ProgressiveImageLoader',\r\n        src: src.slice(0, 100),\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n\r\n      // Track error analytics\r\n      analytics.error('image_load_failed', error instanceof Error ? error.message : 'Unknown error', {\r\n        src: src.slice(0, 100),\r\n      });\r\n    }\r\n\r\n    return imageData;\r\n  }\r\n\r\n  private async checkFormatSupport(): Promise<void> {\r\n    // Check WebP support\r\n    this.webpSupported = await this.canPlayFormat('webp');\r\n    \r\n    // Check AVIF support\r\n    this.avifSupported = await this.canPlayFormat('avif');\r\n\r\n    logger.debug('Image format support detected', {\r\n      component: 'ProgressiveImageLoader',\r\n      webp: this.webpSupported,\r\n      avif: this.avifSupported,\r\n    });\r\n  }\r\n\r\n  private canPlayFormat(format: string): Promise<boolean> {\r\n    return new Promise((resolve) => {\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 1;\r\n      canvas.height = 1;\r\n      \r\n      canvas.toBlob(\r\n        (blob) => resolve(blob !== null),\r\n        `image/${format}`,\r\n        0.5\r\n      );\r\n    });\r\n  }\r\n\r\n  private optimizeUnsplashUrl(src: string, options: ImageLoadOptions): string {\r\n    const url = new URL(src);\r\n    const { quality = 85 } = options;\r\n    \r\n    // Add Unsplash optimization parameters\r\n    url.searchParams.set('q', quality.toString());\r\n    \r\n    // Set format based on browser support\r\n    if (options.format === 'auto') {\r\n      if (this.avifSupported) {\r\n        url.searchParams.set('fm', 'avif');\r\n      } else if (this.webpSupported) {\r\n        url.searchParams.set('fm', 'webp');\r\n      } else {\r\n        url.searchParams.set('fm', 'jpg');\r\n      }\r\n    } else if (options.format) {\r\n      url.searchParams.set('fm', options.format);\r\n    }\r\n\r\n    return url.toString();\r\n  }\r\n\r\n  private applyBasicOptimizations(src: string, _options: ImageLoadOptions): string {\r\n    // For non-Unsplash URLs, return original\r\n    // In production, this could integrate with CDN services\r\n    return src;\r\n  }\r\n\r\n  private addWidthParam(url: string, width: number): string {\r\n    try {\r\n      const urlObj = new URL(url);\r\n      urlObj.searchParams.set('w', width.toString());\r\n      return urlObj.toString();\r\n    } catch {\r\n      return url;\r\n    }\r\n  }\r\n\r\n  private createColorPlaceholder(width: number, height: number, color: string): string {\r\n    return `data:image/svg+xml;base64,${btoa(`\r\n      <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <rect width=\"100%\" height=\"100%\" fill=\"${color}\"/>\r\n      </svg>\r\n    `)}`;\r\n  }\r\n\r\n  private createBlurPlaceholder(width: number, height: number): string {\r\n    return `data:image/svg+xml;base64,${btoa(`\r\n      <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <defs>\r\n          <linearGradient id=\"grad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n            <stop offset=\"0%\" style=\"stop-color:#f3f4f6;stop-opacity:1\" />\r\n            <stop offset=\"100%\" style=\"stop-color:#e5e7eb;stop-opacity:1\" />\r\n          </linearGradient>\r\n        </defs>\r\n        <rect width=\"100%\" height=\"100%\" fill=\"url(#grad)\"/>\r\n        <circle cx=\"50%\" cy=\"50%\" r=\"20\" fill=\"#d1d5db\" opacity=\"0.5\"/>\r\n      </svg>\r\n    `)}`;\r\n  }\r\n\r\n  private createSkeletonPlaceholder(width: number, height: number): string {\r\n    return `data:image/svg+xml;base64,${btoa(`\r\n      <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <rect width=\"100%\" height=\"100%\" fill=\"#f3f4f6\"/>\r\n        <rect x=\"10%\" y=\"10%\" width=\"80%\" height=\"20%\" fill=\"#e5e7eb\" rx=\"4\"/>\r\n        <rect x=\"10%\" y=\"40%\" width=\"60%\" height=\"20%\" fill=\"#e5e7eb\" rx=\"4\"/>\r\n        <rect x=\"10%\" y=\"70%\" width=\"40%\" height=\"20%\" fill=\"#e5e7eb\" rx=\"4\"/>\r\n        <animate attributeName=\"opacity\" values=\"1;0.5;1\" dur=\"1.5s\" repeatCount=\"indefinite\"/>\r\n      </svg>\r\n    `)}`;\r\n  }\r\n\r\n  private initializeIntersectionObserver(): void {\r\n    if ('IntersectionObserver' in window) {\r\n      // IntersectionObserver for lazy loading (future implementation)\r\n      new IntersectionObserver(\r\n        (entries) => {\r\n          entries.forEach((entry) => {\r\n            if (entry.isIntersecting) {\r\n              const img = entry.target as HTMLImageElement;\r\n              const src = img.dataset.src;\r\n              if (src) {\r\n                this.loadImage(src, { loading: 'lazy' });\r\n              }\r\n            }\r\n          });\r\n        },\r\n        {\r\n          threshold: 0.1,\r\n          rootMargin: '100px',\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  private getCacheKey(src: string, options: ImageLoadOptions): string {\r\n    return `${src}_${JSON.stringify(options)}`;\r\n  }\r\n\r\n  private estimateFileSize(img: HTMLImageElement): number {\r\n    // Rough estimation based on dimensions\r\n    return img.naturalWidth * img.naturalHeight * 0.3; // Rough bytes estimate\r\n  }\r\n\r\n  private detectFormat(src: string): string {\r\n    if (src.includes('fm=avif') || src.endsWith('.avif')) return 'avif';\r\n    if (src.includes('fm=webp') || src.endsWith('.webp')) return 'webp';\r\n    if (src.includes('fm=png') || src.endsWith('.png')) return 'png';\r\n    return 'jpeg';\r\n  }\r\n\r\n  private delay(ms: number): Promise<void> {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n}\r\n\r\nexport const progressiveImageLoader = ProgressiveImageLoader.getInstance();\r\n\r\n// React hook for progressive image loading\r\nexport const useProgressiveImage = () => {\r\n  return {\r\n    loadImage: progressiveImageLoader.loadImage.bind(progressiveImageLoader),\r\n    preloadImages: progressiveImageLoader.preloadImages.bind(progressiveImageLoader),\r\n    getOptimizedUrl: progressiveImageLoader.getOptimizedUrl.bind(progressiveImageLoader),\r\n    generateSrcSet: progressiveImageLoader.generateSrcSet.bind(progressiveImageLoader),\r\n    createPlaceholder: progressiveImageLoader.createPlaceholder.bind(progressiveImageLoader),\r\n  };\r\n};","/**\r\n * Advanced Security Utilities\r\n * Content Security Policy, XSS protection, and security headers management\r\n */\r\n\r\nimport { logger } from './logger';\r\nimport { analytics } from './analytics';\r\n\r\nexport interface SecurityConfig {\r\n  csp: {\r\n    enabled: boolean;\r\n    reportOnly?: boolean;\r\n    directives: CSPDirectives;\r\n  };\r\n  xssProtection: boolean;\r\n  clickjacking: boolean;\r\n  contentTypeSniffing: boolean;\r\n  referrerPolicy: string;\r\n  hsts: {\r\n    enabled: boolean;\r\n    maxAge: number;\r\n    includeSubDomains: boolean;\r\n  };\r\n}\r\n\r\nexport interface CSPDirectives {\r\n  defaultSrc?: string[];\r\n  scriptSrc?: string[];\r\n  styleSrc?: string[];\r\n  imgSrc?: string[];\r\n  connectSrc?: string[];\r\n  fontSrc?: string[];\r\n  mediaSrc?: string[];\r\n  objectSrc?: string[];\r\n  frameSrc?: string[];\r\n  baseUri?: string[];\r\n  formAction?: string[];\r\n  upgradeInsecureRequests?: boolean;\r\n  blockAllMixedContent?: boolean;\r\n}\r\n\r\nexport interface SecurityViolation {\r\n  type: 'csp' | 'xss' | 'clickjacking' | 'mixed-content';\r\n  details: any;\r\n  userAgent: string;\r\n  timestamp: number;\r\n  url: string;\r\n}\r\n\r\nclass SecurityManager {\r\n  private static instance: SecurityManager;\r\n  private config: SecurityConfig;\r\n  private violations: SecurityViolation[] = [];\r\n  private nonceValue: string | null = null;\r\n\r\n  constructor() {\r\n    this.config = this.getDefaultConfig();\r\n    this.initialize();\r\n  }\r\n\r\n  static getInstance(): SecurityManager {\r\n    if (!SecurityManager.instance) {\r\n      SecurityManager.instance = new SecurityManager();\r\n    }\r\n    return SecurityManager.instance;\r\n  }\r\n\r\n  /**\r\n   * Initialize security measures\r\n   */\r\n  initialize(): void {\r\n    this.setupCSP();\r\n    this.setupXSSProtection();\r\n    this.setupClickjackingProtection();\r\n    this.setupSecurityEventListeners();\r\n    this.generateNonce();\r\n    \r\n    logger.info('Security measures initialized', {\r\n      component: 'SecurityManager',\r\n      cspEnabled: this.config.csp.enabled,\r\n      xssProtection: this.config.xssProtection,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update security configuration\r\n   */\r\n  updateConfig(newConfig: Partial<SecurityConfig>): void {\r\n    this.config = { ...this.config, ...newConfig };\r\n    this.initialize(); // Re-initialize with new config\r\n    \r\n    logger.info('Security configuration updated', {\r\n      component: 'SecurityManager',\r\n      changes: Object.keys(newConfig),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get current security nonce for inline scripts\r\n   */\r\n  getNonce(): string {\r\n    if (!this.nonceValue) {\r\n      this.generateNonce();\r\n    }\r\n    return this.nonceValue!;\r\n  }\r\n\r\n  /**\r\n   * Sanitize HTML content to prevent XSS\r\n   */\r\n  sanitizeHTML(html: string): string {\r\n    // Create a temporary div element\r\n    const temp = document.createElement('div');\r\n    temp.textContent = html;\r\n    \r\n    // Remove dangerous attributes and elements\r\n    const sanitized = temp.innerHTML\r\n      .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\r\n      .replace(/<iframe\\b[^<]*(?:(?!<\\/iframe>)<[^<]*)*<\\/iframe>/gi, '')\r\n      .replace(/javascript:/gi, '')\r\n      .replace(/on\\w+=\"[^\"]*\"/gi, '')\r\n      .replace(/on\\w+='[^']*'/gi, '');\r\n\r\n    logger.debug('HTML content sanitized', {\r\n      component: 'SecurityManager',\r\n      originalLength: html.length,\r\n      sanitizedLength: sanitized.length,\r\n    });\r\n\r\n    return sanitized;\r\n  }\r\n\r\n  /**\r\n   * Validate and sanitize user input\r\n   */\r\n  sanitizeInput(input: string, type: 'text' | 'email' | 'url' | 'number' = 'text'): string {\r\n    let sanitized = input.trim();\r\n\r\n    // Remove potentially dangerous characters\r\n    sanitized = sanitized\r\n      .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\r\n      .replace(/javascript:/gi, '')\r\n      .replace(/data:/gi, '')\r\n      .replace(/vbscript:/gi, '');\r\n\r\n    // Type-specific validation\r\n    switch (type) {\r\n      case 'email':\r\n        sanitized = sanitized.replace(/[^\\w@.-]/g, '');\r\n        break;\r\n      case 'url':\r\n        try {\r\n          const url = new URL(sanitized);\r\n          if (!['http:', 'https:'].includes(url.protocol)) {\r\n            throw new Error('Invalid protocol');\r\n          }\r\n        } catch {\r\n          sanitized = '';\r\n        }\r\n        break;\r\n      case 'number':\r\n        sanitized = sanitized.replace(/[^\\d.-]/g, '');\r\n        break;\r\n    }\r\n\r\n    return sanitized;\r\n  }\r\n\r\n  /**\r\n   * Generate secure random token\r\n   */\r\n  generateSecureToken(length: number = 32): string {\r\n    const array = new Uint8Array(length);\r\n    crypto.getRandomValues(array);\r\n    return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');\r\n  }\r\n\r\n  /**\r\n   * Validate origin for CORS requests\r\n   */\r\n  validateOrigin(origin: string): boolean {\r\n    const allowedOrigins = [\r\n      window.location.origin,\r\n      'https://api.liteapi.travel',\r\n      'https://connect.squareup.com',\r\n      'https://js.squareup.com',\r\n    ];\r\n\r\n    return allowedOrigins.some(allowed => {\r\n      if (allowed === origin) return true;\r\n      if (allowed.endsWith('.netlify.app') && origin.endsWith('.netlify.app')) return true;\r\n      if (allowed.endsWith('.vercel.app') && origin.endsWith('.vercel.app')) return true;\r\n      return false;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Check for potential security threats\r\n   */\r\n  detectThreats(request: { url: string; headers: Record<string, string>; body?: any }): string[] {\r\n    const threats: string[] = [];\r\n\r\n    // Check for XSS attempts\r\n    if (this.hasXSSPatterns(request.url) || this.hasXSSPatterns(JSON.stringify(request.body))) {\r\n      threats.push('xss_attempt');\r\n    }\r\n\r\n    // Check for SQL injection patterns\r\n    if (this.hasSQLInjectionPatterns(request.url) || this.hasSQLInjectionPatterns(JSON.stringify(request.body))) {\r\n      threats.push('sql_injection_attempt');\r\n    }\r\n\r\n    // Check for suspicious headers\r\n    if (this.hasSuspiciousHeaders(request.headers)) {\r\n      threats.push('suspicious_headers');\r\n    }\r\n\r\n    // Check for path traversal attempts\r\n    if (this.hasPathTraversalPatterns(request.url)) {\r\n      threats.push('path_traversal_attempt');\r\n    }\r\n\r\n    if (threats.length > 0) {\r\n      logger.warn('Security threats detected', {\r\n        component: 'SecurityManager',\r\n        threats,\r\n        url: request.url,\r\n      });\r\n\r\n      analytics.track('security_threat_detected', {\r\n        threats,\r\n        url: request.url,\r\n        userAgent: navigator.userAgent,\r\n      });\r\n    }\r\n\r\n    return threats;\r\n  }\r\n\r\n  /**\r\n   * Get security violations report\r\n   */\r\n  getViolationsReport(): SecurityViolation[] {\r\n    return [...this.violations];\r\n  }\r\n\r\n  /**\r\n   * Clear security violations\r\n   */\r\n  clearViolations(): void {\r\n    this.violations = [];\r\n    logger.debug('Security violations cleared', { component: 'SecurityManager' });\r\n  }\r\n\r\n  private getDefaultConfig(): SecurityConfig {\r\n    return {\r\n      csp: {\r\n        enabled: true,\r\n        reportOnly: import.meta.env.MODE === 'development',\r\n        directives: {\r\n          defaultSrc: [\"'self'\"],\r\n          scriptSrc: [\r\n            \"'self'\",\r\n            \"'unsafe-inline'\", // Needed for React in development\r\n            'https://js.squareup.com',\r\n            'https://connect.squareup.com',\r\n            'https://www.googletagmanager.com',\r\n          ],\r\n          styleSrc: [\r\n            \"'self'\",\r\n            \"'unsafe-inline'\",\r\n            'https://fonts.googleapis.com',\r\n          ],\r\n          imgSrc: [\r\n            \"'self'\",\r\n            'data:',\r\n            'https:',\r\n            'https://images.unsplash.com',\r\n          ],\r\n          connectSrc: [\r\n            \"'self'\",\r\n            'https://api.liteapi.travel',\r\n            'https://connect.squareup.com',\r\n            'wss://localhost:*',\r\n          ],\r\n          fontSrc: [\r\n            \"'self'\",\r\n            'https://fonts.gstatic.com',\r\n          ],\r\n          mediaSrc: [\"'self'\"],\r\n          objectSrc: [\"'none'\"],\r\n          frameSrc: [\r\n            \"'self'\",\r\n            'https://js.squareup.com',\r\n          ],\r\n          baseUri: [\"'self'\"],\r\n          formAction: [\"'self'\"],\r\n          upgradeInsecureRequests: true,\r\n          blockAllMixedContent: true,\r\n        },\r\n      },\r\n      xssProtection: true,\r\n      clickjacking: true,\r\n      contentTypeSniffing: false,\r\n      referrerPolicy: 'strict-origin-when-cross-origin',\r\n      hsts: {\r\n        enabled: true,\r\n        maxAge: 31536000, // 1 year\r\n        includeSubDomains: true,\r\n      },\r\n    };\r\n  }\r\n\r\n  private setupCSP(): void {\r\n    if (!this.config.csp.enabled) return;\r\n\r\n    const policy = this.buildCSPPolicy(this.config.csp.directives);\r\n    const headerName = this.config.csp.reportOnly \r\n      ? 'Content-Security-Policy-Report-Only' \r\n      : 'Content-Security-Policy';\r\n\r\n    // Set CSP meta tag (fallback)\r\n    let metaTag = document.querySelector('meta[http-equiv=\"Content-Security-Policy\"]') as HTMLMetaElement;\r\n    if (!metaTag) {\r\n      metaTag = document.createElement('meta');\r\n      metaTag.setAttribute('http-equiv', headerName);\r\n      document.head.appendChild(metaTag);\r\n    }\r\n    metaTag.content = policy;\r\n\r\n    logger.debug('CSP policy applied', {\r\n      component: 'SecurityManager',\r\n      policy: policy.slice(0, 200) + '...',\r\n      reportOnly: this.config.csp.reportOnly,\r\n    });\r\n  }\r\n\r\n  private buildCSPPolicy(directives: CSPDirectives): string {\r\n    const policy: string[] = [];\r\n\r\n    Object.entries(directives).forEach(([key, value]) => {\r\n      if (value === true) {\r\n        policy.push(this.camelToKebab(key));\r\n      } else if (Array.isArray(value) && value.length > 0) {\r\n        policy.push(`${this.camelToKebab(key)} ${value.join(' ')}`);\r\n      }\r\n    });\r\n\r\n    // Add nonce for inline scripts in production\r\n    if (import.meta.env.MODE === 'production' && this.nonceValue) {\r\n      const scriptSrcIndex = policy.findIndex(directive => directive.startsWith('script-src'));\r\n      if (scriptSrcIndex > -1) {\r\n        policy[scriptSrcIndex] += ` 'nonce-${this.nonceValue}'`;\r\n      }\r\n    }\r\n\r\n    return policy.join('; ');\r\n  }\r\n\r\n  private setupXSSProtection(): void {\r\n    if (!this.config.xssProtection) return;\r\n\r\n    // Set XSS protection meta tag\r\n    let metaTag = document.querySelector('meta[http-equiv=\"X-XSS-Protection\"]') as HTMLMetaElement;\r\n    if (!metaTag) {\r\n      metaTag = document.createElement('meta');\r\n      metaTag.setAttribute('http-equiv', 'X-XSS-Protection');\r\n      document.head.appendChild(metaTag);\r\n    }\r\n    metaTag.content = '1; mode=block';\r\n  }\r\n\r\n  private setupClickjackingProtection(): void {\r\n    if (!this.config.clickjacking) return;\r\n\r\n    // Set X-Frame-Options meta tag\r\n    let metaTag = document.querySelector('meta[http-equiv=\"X-Frame-Options\"]') as HTMLMetaElement;\r\n    if (!metaTag) {\r\n      metaTag = document.createElement('meta');\r\n      metaTag.setAttribute('http-equiv', 'X-Frame-Options');\r\n      document.head.appendChild(metaTag);\r\n    }\r\n    metaTag.content = 'DENY';\r\n  }\r\n\r\n  private setupSecurityEventListeners(): void {\r\n    // Listen for CSP violations\r\n    document.addEventListener('securitypolicyviolation', (event) => {\r\n      const violation: SecurityViolation = {\r\n        type: 'csp',\r\n        details: {\r\n          blockedURI: event.blockedURI,\r\n          violatedDirective: event.violatedDirective,\r\n          originalPolicy: event.originalPolicy,\r\n          sourceFile: event.sourceFile,\r\n          lineNumber: event.lineNumber,\r\n        },\r\n        userAgent: navigator.userAgent,\r\n        timestamp: Date.now(),\r\n        url: window.location.href,\r\n      };\r\n\r\n      this.violations.push(violation);\r\n      \r\n      logger.warn('CSP violation detected', {\r\n        component: 'SecurityManager',\r\n        violation: violation.details,\r\n      });\r\n\r\n      analytics.track('csp_violation', violation.details);\r\n    });\r\n\r\n    // Listen for mixed content issues\r\n    window.addEventListener('error', (event) => {\r\n      if (event.message && event.message.includes('Mixed Content')) {\r\n        const violation: SecurityViolation = {\r\n          type: 'mixed-content',\r\n          details: {\r\n            message: event.message,\r\n            filename: event.filename,\r\n            lineno: event.lineno,\r\n          },\r\n          userAgent: navigator.userAgent,\r\n          timestamp: Date.now(),\r\n          url: window.location.href,\r\n        };\r\n\r\n        this.violations.push(violation);\r\n        \r\n        logger.warn('Mixed content violation', {\r\n          component: 'SecurityManager',\r\n          violation: violation.details,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private generateNonce(): void {\r\n    this.nonceValue = this.generateSecureToken(16);\r\n  }\r\n\r\n  private hasXSSPatterns(input: string): boolean {\r\n    if (!input) return false;\r\n    \r\n    const xssPatterns = [\r\n      /<script[^>]*>.*?<\\/script>/gi,\r\n      /javascript:/gi,\r\n      /on\\w+\\s*=/gi,\r\n      /<iframe/gi,\r\n      /eval\\s*\\(/gi,\r\n      /expression\\s*\\(/gi,\r\n    ];\r\n\r\n    return xssPatterns.some(pattern => pattern.test(input));\r\n  }\r\n\r\n  private hasSQLInjectionPatterns(input: string): boolean {\r\n    if (!input) return false;\r\n\r\n    const sqlPatterns = [\r\n      /union\\s+select/gi,\r\n      /drop\\s+table/gi,\r\n      /insert\\s+into/gi,\r\n      /delete\\s+from/gi,\r\n      /update\\s+set/gi,\r\n      /or\\s+1\\s*=\\s*1/gi,\r\n      /and\\s+1\\s*=\\s*1/gi,\r\n    ];\r\n\r\n    return sqlPatterns.some(pattern => pattern.test(input));\r\n  }\r\n\r\n  private hasPathTraversalPatterns(input: string): boolean {\r\n    if (!input) return false;\r\n\r\n    const traversalPatterns = [\r\n      /\\.\\.\\//g,\r\n      /\\.\\.[\\\\\\/]/g,\r\n      /%2e%2e%2f/gi,\r\n      /%2e%2e%5c/gi,\r\n    ];\r\n\r\n    return traversalPatterns.some(pattern => pattern.test(input));\r\n  }\r\n\r\n  private hasSuspiciousHeaders(headers: Record<string, string>): boolean {\r\n    const suspiciousPatterns = [\r\n      'X-Forwarded-For',\r\n      'X-Real-IP',\r\n      'X-Originating-IP',\r\n    ];\r\n\r\n    return Object.keys(headers).some(header => \r\n      suspiciousPatterns.includes(header) && \r\n      headers[header].includes('127.0.0.1')\r\n    );\r\n  }\r\n\r\n  private camelToKebab(str: string): string {\r\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n  }\r\n}\r\n\r\nexport const securityManager = SecurityManager.getInstance();\r\n\r\n// React hook for security utilities\r\nexport const useSecurity = () => {\r\n  return {\r\n    sanitizeHTML: securityManager.sanitizeHTML.bind(securityManager),\r\n    sanitizeInput: securityManager.sanitizeInput.bind(securityManager),\r\n    generateSecureToken: securityManager.generateSecureToken.bind(securityManager),\r\n    validateOrigin: securityManager.validateOrigin.bind(securityManager),\r\n    detectThreats: securityManager.detectThreats.bind(securityManager),\r\n    getNonce: securityManager.getNonce.bind(securityManager),\r\n  };\r\n};","/**\r\n * SEO and Structured Data Utilities\r\n * Advanced meta tags, Open Graph, and JSON-LD structured data\r\n */\r\n\r\nimport { logger } from './logger';\r\n\r\nexport interface SEOData {\r\n  title: string;\r\n  description: string;\r\n  keywords?: string[];\r\n  canonical?: string;\r\n  robots?: string;\r\n  openGraph?: OpenGraphData;\r\n  twitter?: TwitterCardData;\r\n  structuredData?: StructuredDataItem[];\r\n}\r\n\r\nexport interface OpenGraphData {\r\n  title: string;\r\n  description: string;\r\n  type: 'website' | 'article' | 'product' | 'hotel' | 'travel';\r\n  url: string;\r\n  image: string;\r\n  imageAlt?: string;\r\n  siteName: string;\r\n  locale?: string;\r\n}\r\n\r\nexport interface TwitterCardData {\r\n  card: 'summary' | 'summary_large_image' | 'app' | 'player';\r\n  title: string;\r\n  description: string;\r\n  image?: string;\r\n  imageAlt?: string;\r\n  site?: string;\r\n  creator?: string;\r\n}\r\n\r\nexport interface StructuredDataItem {\r\n  '@context': string;\r\n  '@type': string;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface HotelStructuredData {\r\n  name: string;\r\n  description: string;\r\n  address: {\r\n    streetAddress: string;\r\n    addressLocality: string;\r\n    addressRegion: string;\r\n    postalCode: string;\r\n    addressCountry: string;\r\n  };\r\n  telephone: string;\r\n  url: string;\r\n  image: string[];\r\n  priceRange: string;\r\n  starRating?: {\r\n    ratingValue: number;\r\n    bestRating: number;\r\n  };\r\n  amenities: string[];\r\n  checkinTime: string;\r\n  checkoutTime: string;\r\n}\r\n\r\nclass SEOManager {\r\n  private static instance: SEOManager;\r\n  private currentData: SEOData | null = null;\r\n  private originalTitle: string;\r\n\r\n  constructor() {\r\n    this.originalTitle = document.title;\r\n  }\r\n\r\n  static getInstance(): SEOManager {\r\n    if (!SEOManager.instance) {\r\n      SEOManager.instance = new SEOManager();\r\n    }\r\n    return SEOManager.instance;\r\n  }\r\n\r\n  /**\r\n   * Get current SEO data\r\n   */\r\n  getCurrentData(): SEOData | null {\r\n    return this.currentData;\r\n  }\r\n\r\n  /**\r\n   * Set comprehensive SEO data\r\n   */\r\n  setSEO(data: SEOData): void {\r\n    this.currentData = data;\r\n    this.updateMetaTags(data);\r\n    this.updateStructuredData(data.structuredData || []);\r\n    \r\n    logger.debug('SEO data updated', {\r\n      component: 'SEOManager',\r\n      title: data.title,\r\n      hasOpenGraph: !!data.openGraph,\r\n      hasTwitterCard: !!data.twitter,\r\n      structuredDataCount: data.structuredData?.length || 0,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create hotel-specific SEO data\r\n   */\r\n  createHotelSEO(hotelData: HotelStructuredData): SEOData {\r\n    const title = `${hotelData.name} - Book Direct | Best Rates Guaranteed`;\r\n    const description = `Book ${hotelData.name} in ${hotelData.address.addressLocality}. ${hotelData.description.slice(0, 120)}...`;\r\n\r\n    return {\r\n      title,\r\n      description,\r\n      keywords: [\r\n        hotelData.name,\r\n        hotelData.address.addressLocality,\r\n        hotelData.address.addressRegion,\r\n        'hotel booking',\r\n        'best rates',\r\n        'direct booking',\r\n        ...hotelData.amenities.slice(0, 5),\r\n      ],\r\n      canonical: hotelData.url,\r\n      robots: 'index, follow',\r\n      openGraph: {\r\n        title,\r\n        description,\r\n        type: 'hotel',\r\n        url: hotelData.url,\r\n        image: hotelData.image[0],\r\n        imageAlt: `${hotelData.name} exterior`,\r\n        siteName: 'VibeBooking',\r\n        locale: 'en_US',\r\n      },\r\n      twitter: {\r\n        card: 'summary_large_image',\r\n        title,\r\n        description,\r\n        image: hotelData.image[0],\r\n        imageAlt: `${hotelData.name} exterior`,\r\n        site: '@VibeBooking',\r\n      },\r\n      structuredData: [\r\n        this.createHotelStructuredData(hotelData),\r\n        this.createBreadcrumbStructuredData([\r\n          { name: 'Home', url: '/' },\r\n          { name: 'Hotels', url: '/hotels' },\r\n          { name: hotelData.address.addressLocality, url: `/hotels/${hotelData.address.addressLocality.toLowerCase()}` },\r\n          { name: hotelData.name, url: hotelData.url },\r\n        ]),\r\n      ],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create search results SEO data\r\n   */\r\n  createSearchSEO(destination: string, checkIn?: string, checkOut?: string): SEOData {\r\n    const title = `Hotels in ${destination} - Find & Book ${checkIn ? `for ${checkIn}` : 'Today'}`;\r\n    const description = `Discover the best hotels in ${destination}. Compare prices, read reviews, and book directly for the best rates. ${checkIn && checkOut ? `Stay from ${checkIn} to ${checkOut}.` : ''}`;\r\n\r\n    return {\r\n      title,\r\n      description,\r\n      keywords: [\r\n        destination,\r\n        'hotels',\r\n        'hotel booking',\r\n        'accommodation',\r\n        'travel',\r\n        'best rates',\r\n        'reviews',\r\n      ],\r\n      canonical: window.location.href.split('?')[0],\r\n      robots: 'index, follow',\r\n      openGraph: {\r\n        title,\r\n        description,\r\n        type: 'website',\r\n        url: window.location.href,\r\n        image: '/images/search-og-image.jpg',\r\n        imageAlt: `Hotels in ${destination}`,\r\n        siteName: 'VibeBooking',\r\n      },\r\n      twitter: {\r\n        card: 'summary_large_image',\r\n        title,\r\n        description,\r\n        image: '/images/search-twitter-image.jpg',\r\n        imageAlt: `Hotels in ${destination}`,\r\n        site: '@VibeBooking',\r\n      },\r\n      structuredData: [\r\n        this.createSearchResultsStructuredData(destination),\r\n      ],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create homepage SEO data\r\n   */\r\n  createHomepageSEO(): SEOData {\r\n    return {\r\n      title: 'VibeBooking - Find Perfect Hotels with AI | Best Price Guarantee',\r\n      description: 'Discover and book the perfect hotel with AI-powered recommendations. Compare prices, read verified reviews, and enjoy best rate guarantees. Book direct for exclusive perks.',\r\n      keywords: [\r\n        'hotel booking',\r\n        'AI hotel search',\r\n        'best hotel prices',\r\n        'travel booking',\r\n        'hotel deals',\r\n        'accommodation',\r\n        'vacation rentals',\r\n      ],\r\n      canonical: '/',\r\n      robots: 'index, follow',\r\n      openGraph: {\r\n        title: 'VibeBooking - Find Perfect Hotels with AI',\r\n        description: 'AI-powered hotel search with best price guarantee and exclusive perks',\r\n        type: 'website',\r\n        url: window.location.origin,\r\n        image: '/images/homepage-og-image.jpg',\r\n        imageAlt: 'VibeBooking - AI Hotel Search',\r\n        siteName: 'VibeBooking',\r\n        locale: 'en_US',\r\n      },\r\n      twitter: {\r\n        card: 'summary_large_image',\r\n        title: 'VibeBooking - Find Perfect Hotels with AI',\r\n        description: 'AI-powered hotel search with best price guarantee',\r\n        image: '/images/homepage-twitter-image.jpg',\r\n        imageAlt: 'VibeBooking - AI Hotel Search',\r\n        site: '@VibeBooking',\r\n      },\r\n      structuredData: [\r\n        this.createWebsiteStructuredData(),\r\n        this.createOrganizationStructuredData(),\r\n      ],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Reset to default SEO\r\n   */\r\n  reset(): void {\r\n    document.title = this.originalTitle;\r\n    this.removeMetaTags();\r\n    this.removeStructuredData();\r\n    this.currentData = null;\r\n    \r\n    logger.debug('SEO data reset', { component: 'SEOManager' });\r\n  }\r\n\r\n  private updateMetaTags(data: SEOData): void {\r\n    // Update title\r\n    document.title = data.title;\r\n\r\n    // Update basic meta tags\r\n    this.updateMetaTag('description', data.description);\r\n    this.updateMetaTag('keywords', data.keywords?.join(', ') || '');\r\n    this.updateMetaTag('robots', data.robots || 'index, follow');\r\n\r\n    // Update canonical URL\r\n    if (data.canonical) {\r\n      this.updateLinkTag('canonical', data.canonical);\r\n    }\r\n\r\n    // Update Open Graph tags\r\n    if (data.openGraph) {\r\n      this.updateMetaTag('og:title', data.openGraph.title, 'property');\r\n      this.updateMetaTag('og:description', data.openGraph.description, 'property');\r\n      this.updateMetaTag('og:type', data.openGraph.type, 'property');\r\n      this.updateMetaTag('og:url', data.openGraph.url, 'property');\r\n      this.updateMetaTag('og:image', data.openGraph.image, 'property');\r\n      this.updateMetaTag('og:image:alt', data.openGraph.imageAlt || '', 'property');\r\n      this.updateMetaTag('og:site_name', data.openGraph.siteName, 'property');\r\n      this.updateMetaTag('og:locale', data.openGraph.locale || 'en_US', 'property');\r\n    }\r\n\r\n    // Update Twitter Card tags\r\n    if (data.twitter) {\r\n      this.updateMetaTag('twitter:card', data.twitter.card);\r\n      this.updateMetaTag('twitter:title', data.twitter.title);\r\n      this.updateMetaTag('twitter:description', data.twitter.description);\r\n      if (data.twitter.image) {\r\n        this.updateMetaTag('twitter:image', data.twitter.image);\r\n        this.updateMetaTag('twitter:image:alt', data.twitter.imageAlt || '');\r\n      }\r\n      if (data.twitter.site) {\r\n        this.updateMetaTag('twitter:site', data.twitter.site);\r\n      }\r\n      if (data.twitter.creator) {\r\n        this.updateMetaTag('twitter:creator', data.twitter.creator);\r\n      }\r\n    }\r\n  }\r\n\r\n  private updateMetaTag(name: string, content: string, attribute: string = 'name'): void {\r\n    if (!content) return;\r\n\r\n    let element = document.querySelector(`meta[${attribute}=\"${name}\"]`) as HTMLMetaElement;\r\n    \r\n    if (!element) {\r\n      element = document.createElement('meta');\r\n      element.setAttribute(attribute, name);\r\n      document.head.appendChild(element);\r\n    }\r\n    \r\n    element.content = content;\r\n  }\r\n\r\n  private updateLinkTag(rel: string, href: string): void {\r\n    let element = document.querySelector(`link[rel=\"${rel}\"]`) as HTMLLinkElement;\r\n    \r\n    if (!element) {\r\n      element = document.createElement('link');\r\n      element.rel = rel;\r\n      document.head.appendChild(element);\r\n    }\r\n    \r\n    element.href = href;\r\n  }\r\n\r\n  private removeMetaTags(): void {\r\n    const metaTags = document.querySelectorAll('meta[data-seo]');\r\n    metaTags.forEach(tag => tag.remove());\r\n  }\r\n\r\n  private updateStructuredData(data: StructuredDataItem[]): void {\r\n    this.removeStructuredData();\r\n\r\n    data.forEach((item, index) => {\r\n      const script = document.createElement('script');\r\n      script.type = 'application/ld+json';\r\n      script.textContent = JSON.stringify(item);\r\n      script.setAttribute('data-seo', 'structured-data');\r\n      script.id = `structured-data-${index}`;\r\n      document.head.appendChild(script);\r\n    });\r\n  }\r\n\r\n  private removeStructuredData(): void {\r\n    const scripts = document.querySelectorAll('script[data-seo=\"structured-data\"]');\r\n    scripts.forEach(script => script.remove());\r\n  }\r\n\r\n  private createHotelStructuredData(hotel: HotelStructuredData): StructuredDataItem {\r\n    return {\r\n      '@context': 'https://schema.org',\r\n      '@type': 'Hotel',\r\n      name: hotel.name,\r\n      description: hotel.description,\r\n      address: {\r\n        '@type': 'PostalAddress',\r\n        ...hotel.address,\r\n      },\r\n      telephone: hotel.telephone,\r\n      url: hotel.url,\r\n      image: hotel.image,\r\n      priceRange: hotel.priceRange,\r\n      starRating: hotel.starRating ? {\r\n        '@type': 'Rating',\r\n        ratingValue: hotel.starRating.ratingValue,\r\n        bestRating: hotel.starRating.bestRating,\r\n      } : undefined,\r\n      amenityFeature: hotel.amenities.map(amenity => ({\r\n        '@type': 'LocationFeatureSpecification',\r\n        name: amenity,\r\n      })),\r\n      checkinTime: hotel.checkinTime,\r\n      checkoutTime: hotel.checkoutTime,\r\n    };\r\n  }\r\n\r\n  private createBreadcrumbStructuredData(breadcrumbs: Array<{ name: string; url: string }>): StructuredDataItem {\r\n    return {\r\n      '@context': 'https://schema.org',\r\n      '@type': 'BreadcrumbList',\r\n      itemListElement: breadcrumbs.map((item, index) => ({\r\n        '@type': 'ListItem',\r\n        position: index + 1,\r\n        name: item.name,\r\n        item: `${window.location.origin}${item.url}`,\r\n      })),\r\n    };\r\n  }\r\n\r\n  private createSearchResultsStructuredData(destination: string): StructuredDataItem {\r\n    return {\r\n      '@context': 'https://schema.org',\r\n      '@type': 'SearchResultsPage',\r\n      about: {\r\n        '@type': 'Place',\r\n        name: destination,\r\n      },\r\n      mainEntity: {\r\n        '@type': 'ItemList',\r\n        name: `Hotels in ${destination}`,\r\n      },\r\n    };\r\n  }\r\n\r\n  private createWebsiteStructuredData(): StructuredDataItem {\r\n    return {\r\n      '@context': 'https://schema.org',\r\n      '@type': 'WebSite',\r\n      name: 'VibeBooking',\r\n      url: window.location.origin,\r\n      description: 'AI-powered hotel booking platform with best price guarantee',\r\n      potentialAction: {\r\n        '@type': 'SearchAction',\r\n        target: `${window.location.origin}/search?q={search_term_string}`,\r\n        'query-input': 'required name=search_term_string',\r\n      },\r\n    };\r\n  }\r\n\r\n  private createOrganizationStructuredData(): StructuredDataItem {\r\n    return {\r\n      '@context': 'https://schema.org',\r\n      '@type': 'Organization',\r\n      name: 'VibeBooking',\r\n      url: window.location.origin,\r\n      logo: `${window.location.origin}/images/logo.png`,\r\n      description: 'Leading AI-powered hotel booking platform',\r\n      sameAs: [\r\n        'https://twitter.com/VibeBooking',\r\n        'https://facebook.com/VibeBooking',\r\n        'https://linkedin.com/company/vibebooking',\r\n      ],\r\n    };\r\n  }\r\n}\r\n\r\nexport const seoManager = SEOManager.getInstance();\r\n\r\n// React hook for SEO management\r\nexport const useSEO = () => {\r\n  return {\r\n    setSEO: seoManager.setSEO.bind(seoManager),\r\n    createHotelSEO: seoManager.createHotelSEO.bind(seoManager),\r\n    createSearchSEO: seoManager.createSearchSEO.bind(seoManager),\r\n    createHomepageSEO: seoManager.createHomepageSEO.bind(seoManager),\r\n    reset: seoManager.reset.bind(seoManager),\r\n  };\r\n};","/**\r\n * Phase 2 Integration Manager\r\n * Coordinates all Phase 2 optimizations and initializes systems\r\n */\r\n\r\nimport { logger } from './logger';\r\nimport { analytics } from './analytics';\r\nimport { advancedCache } from './advancedCache';\r\nimport { websocketManager } from './websocketManager';\r\nimport { progressiveImageLoader } from './progressiveImageLoader';\r\nimport { securityManager } from './security';\r\nimport { seoManager } from './seoUtils';\r\n\r\nexport interface Phase2Config {\r\n  analytics: {\r\n    enabled: boolean;\r\n    userId?: string;\r\n  };\r\n  cache: {\r\n    enabled: boolean;\r\n    preloadCritical: boolean;\r\n  };\r\n  websocket: {\r\n    enabled: boolean;\r\n    url?: string;\r\n  };\r\n  images: {\r\n    progressive: boolean;\r\n    preload: string[];\r\n  };\r\n  security: {\r\n    enabled: boolean;\r\n    strictMode: boolean;\r\n  };\r\n  seo: {\r\n    enabled: boolean;\r\n    autoUpdate: boolean;\r\n  };\r\n}\r\n\r\nclass Phase2IntegrationManager {\r\n  private static instance: Phase2IntegrationManager;\r\n  private config: Phase2Config;\r\n  private initialized = false;\r\n\r\n  constructor() {\r\n    this.config = this.getDefaultConfig();\r\n  }\r\n\r\n  static getInstance(): Phase2IntegrationManager {\r\n    if (!Phase2IntegrationManager.instance) {\r\n      Phase2IntegrationManager.instance = new Phase2IntegrationManager();\r\n    }\r\n    return Phase2IntegrationManager.instance;\r\n  }\r\n\r\n  /**\r\n   * Initialize all Phase 2 optimizations\r\n   */\r\n  async initialize(customConfig?: Partial<Phase2Config>): Promise<void> {\r\n    if (this.initialized) {\r\n      logger.debug('Phase 2 already initialized', { component: 'Phase2Integration' });\r\n      return;\r\n    }\r\n\r\n    if (customConfig) {\r\n      this.config = { ...this.config, ...customConfig };\r\n    }\r\n\r\n    logger.info('Initializing Phase 2 optimizations', {\r\n      component: 'Phase2Integration',\r\n      config: this.config,\r\n    });\r\n\r\n    try {\r\n      // Initialize in optimal order\r\n      await this.initializeSecurity();\r\n      await this.initializeAnalytics();\r\n      await this.initializeCache();\r\n      await this.initializeImageLoader();\r\n      await this.initializeSEO();\r\n      await this.initializeWebSocket();\r\n\r\n      this.initialized = true;\r\n\r\n      logger.info('Phase 2 initialization complete', {\r\n        component: 'Phase2Integration',\r\n        systems: this.getEnabledSystems(),\r\n      });\r\n\r\n      // Track initialization success\r\n      analytics.track('phase2_initialized', {\r\n        systems: this.getEnabledSystems(),\r\n        timestamp: Date.now(),\r\n      });\r\n\r\n    } catch (error) {\r\n      logger.error('Phase 2 initialization failed', {\r\n        component: 'Phase2Integration',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n\r\n      analytics.error('phase2_init_failed', error instanceof Error ? error.message : 'Unknown error');\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get performance metrics from all systems\r\n   */\r\n  getPerformanceMetrics(): Record<string, any> {\r\n    return {\r\n      cache: this.config.cache.enabled ? advancedCache.getStatistics() : null,\r\n      websocket: this.config.websocket.enabled ? websocketManager.getStatistics() : null,\r\n      analytics: this.config.analytics.enabled ? { enabled: true } : null,\r\n      timestamp: Date.now(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Health check for all systems\r\n   */\r\n  async healthCheck(): Promise<Record<string, boolean>> {\r\n    const health: Record<string, boolean> = {};\r\n\r\n    if (this.config.cache.enabled) {\r\n      try {\r\n        await advancedCache.set('health-check', { test: true }, { ttl: 1000 });\r\n        const result = await advancedCache.get('health-check');\r\n        health.cache = !!result;\r\n      } catch {\r\n        health.cache = false;\r\n      }\r\n    }\r\n\r\n    if (this.config.websocket.enabled) {\r\n      health.websocket = websocketManager.getConnectionState() === 'connected';\r\n    }\r\n\r\n    if (this.config.security.enabled) {\r\n      try {\r\n        const token = securityManager.generateSecureToken();\r\n        health.security = token.length > 0;\r\n      } catch {\r\n        health.security = false;\r\n      }\r\n    }\r\n\r\n    health.analytics = this.config.analytics.enabled;\r\n    health.images = this.config.images.progressive;\r\n    health.seo = this.config.seo.enabled;\r\n\r\n    logger.debug('Phase 2 health check completed', {\r\n      component: 'Phase2Integration',\r\n      health,\r\n    });\r\n\r\n    return health;\r\n  }\r\n\r\n  /**\r\n   * Gracefully shutdown all systems\r\n   */\r\n  async shutdown(): Promise<void> {\r\n    logger.info('Shutting down Phase 2 systems', { component: 'Phase2Integration' });\r\n\r\n    try {\r\n      // Disconnect WebSocket\r\n      if (this.config.websocket.enabled) {\r\n        websocketManager.disconnect();\r\n      }\r\n\r\n      // Clear caches\r\n      if (this.config.cache.enabled) {\r\n        await advancedCache.clear();\r\n      }\r\n\r\n      // Reset SEO\r\n      if (this.config.seo.enabled) {\r\n        seoManager.reset();\r\n      }\r\n\r\n      this.initialized = false;\r\n\r\n      logger.info('Phase 2 shutdown complete', { component: 'Phase2Integration' });\r\n\r\n    } catch (error) {\r\n      logger.error('Error during Phase 2 shutdown', {\r\n        component: 'Phase2Integration',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  }\r\n\r\n  private getDefaultConfig(): Phase2Config {\r\n    return {\r\n      analytics: {\r\n        enabled: true,\r\n        userId: undefined,\r\n      },\r\n      cache: {\r\n        enabled: true,\r\n        preloadCritical: true,\r\n      },\r\n      websocket: {\r\n        enabled: import.meta.env.MODE === 'production',\r\n        url: import.meta.env.VITE_WEBSOCKET_URL || 'wss://api.vibebooking.com/ws',\r\n      },\r\n      images: {\r\n        progressive: true,\r\n        preload: [\r\n          '/images/hero-bg.jpg',\r\n          '/images/featured-hotel-1.jpg',\r\n          '/images/featured-hotel-2.jpg',\r\n        ],\r\n      },\r\n      security: {\r\n        enabled: true,\r\n        strictMode: import.meta.env.MODE === 'production',\r\n      },\r\n      seo: {\r\n        enabled: true,\r\n        autoUpdate: true,\r\n      },\r\n    };\r\n  }\r\n\r\n  private async initializeSecurity(): Promise<void> {\r\n    if (!this.config.security.enabled) return;\r\n\r\n    securityManager.initialize();\r\n    \r\n    logger.debug('Security system initialized', {\r\n      component: 'Phase2Integration',\r\n      strictMode: this.config.security.strictMode,\r\n    });\r\n  }\r\n\r\n  private async initializeAnalytics(): Promise<void> {\r\n    if (!this.config.analytics.enabled) return;\r\n\r\n    if (this.config.analytics.userId) {\r\n      analytics.setUserId(this.config.analytics.userId);\r\n    }\r\n\r\n    // Track Phase 2 initialization start\r\n    analytics.track('phase2_init_started', {\r\n      timestamp: Date.now(),\r\n      userAgent: navigator.userAgent,\r\n    });\r\n\r\n    logger.debug('Analytics system initialized', {\r\n      component: 'Phase2Integration',\r\n      hasUserId: !!this.config.analytics.userId,\r\n    });\r\n  }\r\n\r\n  private async initializeCache(): Promise<void> {\r\n    if (!this.config.cache.enabled) return;\r\n\r\n    if (this.config.cache.preloadCritical) {\r\n      await advancedCache.preloadCriticalData();\r\n    }\r\n\r\n    logger.debug('Advanced cache system initialized', {\r\n      component: 'Phase2Integration',\r\n      preloadCritical: this.config.cache.preloadCritical,\r\n    });\r\n  }\r\n\r\n  private async initializeImageLoader(): Promise<void> {\r\n    if (!this.config.images.progressive) return;\r\n\r\n    if (this.config.images.preload.length > 0) {\r\n      await progressiveImageLoader.preloadImages(this.config.images.preload);\r\n    }\r\n\r\n    logger.debug('Progressive image loader initialized', {\r\n      component: 'Phase2Integration',\r\n      preloadCount: this.config.images.preload.length,\r\n    });\r\n  }\r\n\r\n  private async initializeSEO(): Promise<void> {\r\n    if (!this.config.seo.enabled) return;\r\n\r\n    // Set default homepage SEO\r\n    if (window.location.pathname === '/') {\r\n      seoManager.setSEO(seoManager.createHomepageSEO());\r\n    }\r\n\r\n    logger.debug('SEO system initialized', {\r\n      component: 'Phase2Integration',\r\n      autoUpdate: this.config.seo.autoUpdate,\r\n    });\r\n  }\r\n\r\n  private async initializeWebSocket(): Promise<void> {\r\n    if (!this.config.websocket.enabled || !this.config.websocket.url) return;\r\n\r\n    try {\r\n      await websocketManager.connect({\r\n        url: this.config.websocket.url,\r\n        reconnectAttempts: 3,\r\n        heartbeatInterval: 30000,\r\n      });\r\n\r\n      // Subscribe to real-time updates\r\n      websocketManager.subscribe('price_update', (message) => {\r\n        analytics.track('realtime_price_update', message.data);\r\n      });\r\n\r\n      websocketManager.subscribe('availability_update', (message) => {\r\n        analytics.track('realtime_availability_update', message.data);\r\n      });\r\n\r\n      logger.debug('WebSocket system initialized', {\r\n        component: 'Phase2Integration',\r\n        url: this.config.websocket.url,\r\n      });\r\n\r\n    } catch (error) {\r\n      logger.warn('WebSocket initialization failed, continuing without real-time features', {\r\n        component: 'Phase2Integration',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  }\r\n\r\n  private getEnabledSystems(): string[] {\r\n    const systems: string[] = [];\r\n\r\n    if (this.config.analytics.enabled) systems.push('analytics');\r\n    if (this.config.cache.enabled) systems.push('cache');\r\n    if (this.config.websocket.enabled) systems.push('websocket');\r\n    if (this.config.images.progressive) systems.push('images');\r\n    if (this.config.security.enabled) systems.push('security');\r\n    if (this.config.seo.enabled) systems.push('seo');\r\n\r\n    return systems;\r\n  }\r\n}\r\n\r\nexport const phase2Integration = Phase2IntegrationManager.getInstance();\r\n\r\n// React hook for Phase 2 integration\r\nexport const usePhase2 = () => {\r\n  return {\r\n    initialize: phase2Integration.initialize.bind(phase2Integration),\r\n    getPerformanceMetrics: phase2Integration.getPerformanceMetrics.bind(phase2Integration),\r\n    healthCheck: phase2Integration.healthCheck.bind(phase2Integration),\r\n    shutdown: phase2Integration.shutdown.bind(phase2Integration),\r\n  };\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport App from './App.tsx';\r\nimport './index.css';\r\nimport { logger } from './utils/logger';\r\nimport { phase2Integration } from './utils/phase2Integration';\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n      gcTime: 10 * 60 * 1000, // 10 minutes (was cacheTime, now gcTime in v5)\r\n      retry: 2,\r\n    },\r\n  },\r\n});\r\n\r\n// Initialize Phase 2 optimizations and service worker\r\nconst initializeApp = async () => {\r\n  try {\r\n    // Initialize Phase 2 optimizations\r\n    await phase2Integration.initialize({\r\n      analytics: {\r\n        enabled: true,\r\n        userId: localStorage.getItem('user-id') || undefined,\r\n      },\r\n      cache: {\r\n        enabled: true,\r\n        preloadCritical: true,\r\n      },\r\n      websocket: {\r\n        enabled: import.meta.env.MODE === 'production',\r\n        url: import.meta.env.VITE_WEBSOCKET_URL,\r\n      },\r\n      images: {\r\n        progressive: true,\r\n        preload: [\r\n          '/images/hero-bg.jpg',\r\n          'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=800',\r\n          'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400',\r\n        ],\r\n      },\r\n      security: {\r\n        enabled: true,\r\n        strictMode: import.meta.env.MODE === 'production',\r\n      },\r\n      seo: {\r\n        enabled: true,\r\n        autoUpdate: true,\r\n      },\r\n    });\r\n\r\n    logger.info('Phase 2 optimizations initialized', { \r\n      component: 'MainApp',\r\n      performance: await phase2Integration.getPerformanceMetrics(),\r\n    });\r\n\r\n  } catch (error) {\r\n    logger.error('Phase 2 initialization failed, continuing with basic functionality', {\r\n      component: 'MainApp',\r\n      error: error instanceof Error ? error.message : 'Unknown error',\r\n    });\r\n  }\r\n};\r\n\r\n// Register service worker for offline support and caching\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', async () => {\r\n    // Initialize Phase 2 optimizations first\r\n    await initializeApp();\r\n\r\n    try {\r\n      const registration = await navigator.serviceWorker.register('/sw.js', {\r\n        scope: '/',\r\n      });\r\n      \r\n      logger.info('Service Worker registered successfully', {\r\n        component: 'ServiceWorker',\r\n        scope: registration.scope,\r\n        state: registration.installing?.state || registration.waiting?.state || registration.active?.state,\r\n      });\r\n\r\n      // Handle service worker updates\r\n      registration.addEventListener('updatefound', () => {\r\n        const newWorker = registration.installing;\r\n        if (newWorker) {\r\n          newWorker.addEventListener('statechange', () => {\r\n            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\r\n              logger.info('New service worker available, will update on next visit', {\r\n                component: 'ServiceWorker'\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } catch (error) {\r\n      logger.warn('Service Worker registration failed', {\r\n        component: 'ServiceWorker',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      });\r\n    }\r\n  });\r\n} else {\r\n  // Initialize Phase 2 even without service worker\r\n  window.addEventListener('DOMContentLoaded', initializeApp);\r\n}\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter\r\n        future={{\r\n          v7_startTransition: true,\r\n          v7_relativeSplatPath: true,\r\n        }}\r\n      >\r\n        <App />\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n);"],"file":"assets/index-Bz50S9TB.js"}