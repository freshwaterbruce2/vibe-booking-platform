import{j as s,b as ce,u as ue,l as k,C as de,B as F}from"./index-BipxYy_H.js";import{r as z,u as me}from"./vendor-VgjaNQN2.js";import{T as B,U as he}from"./UrgencyIndicator-DsGkK3UM.js";import{O as fe}from"./OptimizedImage-aUUc6jy1.js";import{h as R,H as L,j as pe,M as ge,J as ve,I as xe,W as K,n as H,m as ye}from"./ui-c8TFxX-w.js";function G(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function D(r,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},D(r,t)}function U(){return U=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var c in o)({}).hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},U.apply(null,arguments)}function Se(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,D(r,t)}var J=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function be(r,t){return!!(r===t||J(r)&&J(t))}function Ie(r,t){if(r.length!==t.length)return!1;for(var o=0;o<r.length;o++)if(!be(r[o],t[o]))return!1;return!0}function W(r,t){t===void 0&&(t=Ie);var o,c=[],h,S=!1;function y(){for(var a=[],x=0;x<arguments.length;x++)a[x]=arguments[x];return S&&o===this&&t(a,c)||(h=r.apply(this,a),S=!0,o=this,c=a),h}return y}var we=typeof performance=="object"&&typeof performance.now=="function",Q=we?function(){return performance.now()}:function(){return Date.now()};function X(r){cancelAnimationFrame(r.id)}function Ne(r,t){var o=Q();function c(){Q()-o>=t?r.call(null):h.id=requestAnimationFrame(c)}var h={id:requestAnimationFrame(c)};return h}var E=-1;function Y(r){if(r===void 0&&(r=!1),E===-1||r){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(t),E=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return E}var O=null;function Z(r){if(r===void 0&&(r=!1),O===null||r){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var c=document.createElement("div"),h=c.style;return h.width="100px",h.height="100px",t.appendChild(c),document.body.appendChild(t),t.scrollLeft>0?O="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?O="negative":O="positive-ascending"),document.body.removeChild(t),O}return O}var je=150,Ce=function(t,o){return t};function ze(r){var t,o=r.getItemOffset,c=r.getEstimatedTotalSize,h=r.getItemSize,S=r.getOffsetForIndexAndAlignment,y=r.getStartIndexForOffset,a=r.getStopIndexForStartIndex,x=r.initInstanceProps,w=r.shouldResetStyleCacheOnItemSizeChange,b=r.validateProps;return t=(function(N){Se(I,N);function I(l){var e;return e=N.call(this,l)||this,e._instanceProps=x(e.props,G(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:G(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=W(function(i,n,u,m){return e.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:n,visibleStartIndex:u,visibleStopIndex:m})}),e._callOnScroll=void 0,e._callOnScroll=W(function(i,n,u){return e.props.onScroll({scrollDirection:i,scrollOffset:n,scrollUpdateWasRequested:u})}),e._getItemStyle=void 0,e._getItemStyle=function(i){var n=e.props,u=n.direction,m=n.itemSize,p=n.layout,d=e._getItemStyleCache(w&&m,w&&p,w&&u),f;if(d.hasOwnProperty(i))f=d[i];else{var g=o(e.props,i,e._instanceProps),j=h(e.props,i,e._instanceProps),C=u==="horizontal"||p==="horizontal",_=u==="rtl",P=C?g:0;d[i]=f={position:"absolute",left:_?void 0:P,right:_?P:void 0,top:C?0:g,height:C?"100%":j,width:C?j:"100%"}}return f},e._getItemStyleCache=void 0,e._getItemStyleCache=W(function(i,n,u){return{}}),e._onScrollHorizontal=function(i){var n=i.currentTarget,u=n.clientWidth,m=n.scrollLeft,p=n.scrollWidth;e.setState(function(d){if(d.scrollOffset===m)return null;var f=e.props.direction,g=m;if(f==="rtl")switch(Z()){case"negative":g=-m;break;case"positive-descending":g=p-u-m;break}return g=Math.max(0,Math.min(g,p-u)),{isScrolling:!0,scrollDirection:d.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(i){var n=i.currentTarget,u=n.clientHeight,m=n.scrollHeight,p=n.scrollTop;e.setState(function(d){if(d.scrollOffset===p)return null;var f=Math.max(0,Math.min(p,m-u));return{isScrolling:!0,scrollDirection:d.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(i){var n=e.props.outerRef;e._outerRef=i,typeof n=="function"?n(i):n!=null&&typeof n=="object"&&n.hasOwnProperty("current")&&(n.current=i)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&X(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=Ne(e._resetIsScrolling,je)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}I.getDerivedStateFromProps=function(e,i){return Oe(e,i),b(e),null};var v=I.prototype;return v.scrollTo=function(e){e=Math.max(0,e),this.setState(function(i){return i.scrollOffset===e?null:{scrollDirection:i.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},v.scrollToItem=function(e,i){i===void 0&&(i="auto");var n=this.props,u=n.itemCount,m=n.layout,p=this.state.scrollOffset;e=Math.max(0,Math.min(e,u-1));var d=0;if(this._outerRef){var f=this._outerRef;m==="vertical"?d=f.scrollWidth>f.clientWidth?Y():0:d=f.scrollHeight>f.clientHeight?Y():0}this.scrollTo(S(this.props,e,i,p,this._instanceProps,d))},v.componentDidMount=function(){var e=this.props,i=e.direction,n=e.initialScrollOffset,u=e.layout;if(typeof n=="number"&&this._outerRef!=null){var m=this._outerRef;i==="horizontal"||u==="horizontal"?m.scrollLeft=n:m.scrollTop=n}this._callPropsCallbacks()},v.componentDidUpdate=function(){var e=this.props,i=e.direction,n=e.layout,u=this.state,m=u.scrollOffset,p=u.scrollUpdateWasRequested;if(p&&this._outerRef!=null){var d=this._outerRef;if(i==="horizontal"||n==="horizontal")if(i==="rtl")switch(Z()){case"negative":d.scrollLeft=-m;break;case"positive-ascending":d.scrollLeft=m;break;default:var f=d.clientWidth,g=d.scrollWidth;d.scrollLeft=g-f-m;break}else d.scrollLeft=m;else d.scrollTop=m}this._callPropsCallbacks()},v.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&X(this._resetIsScrollingTimeoutId)},v.render=function(){var e=this.props,i=e.children,n=e.className,u=e.direction,m=e.height,p=e.innerRef,d=e.innerElementType,f=e.innerTagName,g=e.itemCount,j=e.itemData,C=e.itemKey,_=C===void 0?Ce:C,P=e.layout,te=e.outerElementType,re=e.outerTagName,ie=e.style,se=e.useIsScrolling,ae=e.width,A=this.state.isScrolling,M=u==="horizontal"||P==="horizontal",ne=M?this._onScrollHorizontal:this._onScrollVertical,$=this._getRangeToRender(),oe=$[0],le=$[1],V=[];if(g>0)for(var T=oe;T<=le;T++)V.push(z.createElement(i,{data:j,key:_(T,j),index:T,isScrolling:se?A:void 0,style:this._getItemStyle(T)}));var q=c(this.props,this._instanceProps);return z.createElement(te||re||"div",{className:n,onScroll:ne,ref:this._outerRefSetter,style:U({position:"relative",height:m,width:ae,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:u},ie)},z.createElement(d||f||"div",{children:V,ref:p,style:{height:M?"100%":q,pointerEvents:A?"none":void 0,width:M?q:"100%"}}))},v._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var i=this._getRangeToRender(),n=i[0],u=i[1],m=i[2],p=i[3];this._callOnItemsRendered(n,u,m,p)}}if(typeof this.props.onScroll=="function"){var d=this.state,f=d.scrollDirection,g=d.scrollOffset,j=d.scrollUpdateWasRequested;this._callOnScroll(f,g,j)}},v._getRangeToRender=function(){var e=this.props,i=e.itemCount,n=e.overscanCount,u=this.state,m=u.isScrolling,p=u.scrollDirection,d=u.scrollOffset;if(i===0)return[0,0,0,0];var f=y(this.props,d,this._instanceProps),g=a(this.props,f,d,this._instanceProps),j=!m||p==="backward"?Math.max(1,n):1,C=!m||p==="forward"?Math.max(1,n):1;return[Math.max(0,f-j),Math.max(0,Math.min(i-1,g+C)),f,g]},I})(z.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Oe=function(t,o){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,o.instance},Te=ze({getItemOffset:function(t,o){var c=t.itemSize;return o*c},getItemSize:function(t,o){var c=t.itemSize;return c},getEstimatedTotalSize:function(t){var o=t.itemCount,c=t.itemSize;return c*o},getOffsetForIndexAndAlignment:function(t,o,c,h,S,y){var a=t.direction,x=t.height,w=t.itemCount,b=t.itemSize,N=t.layout,I=t.width,v=a==="horizontal"||N==="horizontal",l=v?I:x,e=Math.max(0,w*b-l),i=Math.min(e,o*b),n=Math.max(0,o*b-l+b+y);switch(c==="smart"&&(h>=n-l&&h<=i+l?c="auto":c="center"),c){case"start":return i;case"end":return n;case"center":{var u=Math.round(n+(i-n)/2);return u<Math.ceil(l/2)?0:u>e+Math.floor(l/2)?e:u}case"auto":default:return h>=n&&h<=i?h:h<n?n:i}},getStartIndexForOffset:function(t,o){var c=t.itemCount,h=t.itemSize;return Math.max(0,Math.min(c-1,Math.floor(o/h)))},getStopIndexForStartIndex:function(t,o,c){var h=t.direction,S=t.height,y=t.itemCount,a=t.itemSize,x=t.layout,w=t.width,b=h==="horizontal"||x==="horizontal",N=o*a,I=b?w:S,v=Math.ceil((I+c-N)/a);return Math.max(0,Math.min(y-1,o+v-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const ee=z.memo(({index:r,style:t,data:o})=>{const c=me(),{setSelectedHotel:h}=ce(),{selectedDateRange:S,guestCount:y}=ue(),a=o[r],x=z.useCallback(()=>{k.debug("Hotel selected from virtual list",{component:"VirtualizedHotelList",hotelId:a.id,hotelName:a.name}),h(a),c(`/hotel/${a.id}`)},[a,c,h]),w=z.useCallback(l=>{l.stopPropagation(),k.debug("Hotel saved",{component:"VirtualizedHotelList",hotelId:a.id})},[a.id]),b=z.useCallback(l=>{l.stopPropagation(),k.debug("Hotel shared",{component:"VirtualizedHotelList",hotelId:a.id})},[a.id]),N=(l,e="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(l),I=l=>Array.from({length:5},(e,i)=>s.jsx(H,{className:`h-4 w-4 ${i<Math.floor(l)?"fill-amber-400 text-amber-400":"text-gray-300"}`},i)),v=l=>({adventure:ye,wellness:R,luxury:H,business:K,family:L,romance:L})[l.toLowerCase()]||H;return s.jsx("div",{style:t,className:"px-4 pb-4",children:s.jsx(de,{className:"overflow-hidden hover:shadow-luxury-lg transition-all duration-300 cursor-pointer",children:s.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[s.jsxs("div",{className:"lg:w-1/3 relative group",children:[s.jsx(fe,{src:a.images[0]?.url||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300",alt:a.name,className:"w-full h-48 lg:h-full transition-transform duration-300 group-hover:scale-105",aspectRatio:"4/3",objectFit:"cover",sizes:"(max-width: 1024px) 100vw, 33vw",fallbackSrc:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300"}),s.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(F,{variant:"secondary",size:"icon",className:"bg-white/90 hover:bg-white text-gray-700 shadow-luxury",onClick:w,children:s.jsx(L,{className:"h-4 w-4"})}),s.jsx(F,{variant:"secondary",size:"icon",className:"bg-white/90 hover:bg-white text-gray-700 shadow-luxury",onClick:b,children:s.jsx(pe,{className:"h-4 w-4"})})]}),a.passionScore&&Object.keys(a.passionScore).length>0&&s.jsx("div",{className:"absolute bottom-3 left-3",children:Object.entries(a.passionScore).filter(([,l])=>l>.8).slice(0,1).map(([l])=>{const e=v(l);return s.jsxs("div",{className:"flex items-center gap-1 bg-luxury-gold/90 text-white px-2 py-1 rounded-full text-xs font-medium shadow-luxury-sm",children:[s.jsx(e,{className:"h-3 w-3"}),l.charAt(0).toUpperCase()+l.slice(1)]},l)})}),a.deals&&a.deals.length>0&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsxs("div",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium shadow-luxury-sm",children:["-",a.deals[0].discountPercent,"% OFF"]})})]}),s.jsxs("div",{className:"lg:w-2/3 p-6 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-luxury-navy mb-1 line-clamp-2 hover:text-luxury-gold transition-colors",children:a.name}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx(ge,{className:"h-4 w-4 text-luxury-mocha"}),s.jsxs("span",{className:"text-sm text-luxury-mocha",children:[a.location.neighborhood&&`${a.location.neighborhood}, `,a.location.city]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("div",{className:"flex items-center",children:I(a.rating)}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-luxury-gold",children:a.rating.toFixed(1)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["(",a.reviewCount," reviews)"]})]})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:a.description}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[a.amenities.slice(0,4).map((l,e)=>{const n={WiFi:K,Parking:xe,Restaurant:ve,Pool:R}[l.name]||R;return s.jsxs("div",{className:"flex items-center gap-1 text-xs text-luxury-mocha bg-luxury-cream px-2 py-1 rounded-full",children:[s.jsx(n,{className:"h-3 w-3"}),l.name]},e)}),a.amenities.length>4&&s.jsxs("div",{className:"text-xs text-luxury-mocha bg-luxury-cream px-2 py-1 rounded-full",children:["+",a.amenities.length-4," more"]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(B,{type:"security",text:"Verified"}),a.sustainabilityScore&&a.sustainabilityScore>80&&s.jsx(B,{type:"favorite",text:"Eco-Friendly"}),s.jsx(he,{type:a.availability.available?"viewing":"limited",count:a.availability.available?12:2})]})]}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"text-2xl font-bold text-luxury-navy",children:[N(a.priceRange.avgNightly),a.priceRange.originalPrice&&a.priceRange.originalPrice>a.priceRange.avgNightly&&s.jsx("span",{className:"text-sm text-gray-400 line-through ml-2",children:N(a.priceRange.originalPrice)})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["per night â€¢ ",S.checkIn," - ",S.checkOut]}),s.jsxs("div",{className:"text-xs text-luxury-mocha",children:[y.adults," adults",y.children>0&&`, ${y.children} children`]})]}),s.jsx(F,{onClick:x,className:"bg-gradient-to-r from-luxury-gold to-amber-500 hover:from-luxury-gold/90 hover:to-amber-500/90 text-white font-semibold px-6 py-2 rounded-lg shadow-luxury-md hover:shadow-luxury-lg transform hover:scale-105 transition-all duration-200",children:"View Details"})]})]})]})})})});ee.displayName="HotelItem";const _e=z.memo(({hotels:r,height:t=600,itemHeight:o=280,className:c=""})=>r.length?s.jsx("div",{className:c,children:s.jsx(Te,{height:t,width:"100%",itemCount:r.length,itemSize:o,itemData:r,overscanCount:2,className:"scrollbar-thin scrollbar-thumb-luxury-mocha/20 scrollbar-track-transparent",children:ee})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(R,{className:"h-12 w-12 mx-auto mb-4 text-luxury-gold"}),s.jsx("p",{className:"text-lg font-medium",children:"No hotels found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search filters"})]})}));_e.displayName="VirtualizedHotelList";export{_e as default};
//# sourceMappingURL=VirtualizedHotelList-CYqOOhcd.js.map
