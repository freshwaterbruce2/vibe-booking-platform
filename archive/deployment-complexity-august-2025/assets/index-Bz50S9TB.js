const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SearchResults-D8BHgMWc.js","assets/vendor-VgjaNQN2.js","assets/UrgencyIndicator-DZQl-k6B.js","assets/ui-c8TFxX-w.js","assets/HomePage-B-Oa9jUO.js","assets/OptimizedImage-DxfBstpr.js","assets/SearchResultsPage-CCmECsC_.js","assets/PaymentPage-dqQAhGUC.js","assets/booking-BDVmiW6y.js","assets/BookingConfirmationPage-Bjl1Lk3Z.js","assets/DealsPage-O8_Hq2RC.js","assets/DestinationsPage-B1D01l_X.js","assets/ExperiencesPage-DODdfIMc.js","assets/RewardsPage-CAZD8C9Y.js","assets/BookingHistoryPage-C78I1rAz.js","assets/BookingHistory-BSy9pJoq.js","assets/UserProfilePage-CzeHyAkU.js","assets/RoomComparison-CAp3cxYU.js","assets/VirtualizedHotelList-DKmeLPYz.js"])))=>i.map(i=>d[i]);
import{a as Ar,b as Qn,g as zs,r as I,R as S,u as Ir,c as Jn,L as ue,d as Kn,v as Yn,e as Zn,f as fe,B as ea}from"./vendor-VgjaNQN2.js";import{M as et,X as pt,S as Yr,C as gt,U as $s,T as ta,a as pr,P as Mt,G as Hs,b as ra,c as sa,d as Tr,L as Tt,A as na,e as Or,f as aa,g as ia,h as oa,i as Zr,H as ca,j as la,k as qs,l as da,m as ua,n as es,o as Ws,p as gr,q as ha,r as yr,s as Xs,t as ma,u as fa,R as pa,v as ga}from"./ui-c8TFxX-w.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var er={exports:{}},ct={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts;function ya(){if(ts)return ct;ts=1;var t=Ar(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,m,d){var l,u={},x=null,h=null;d!==void 0&&(x=""+d),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(h=m.ref);for(l in m)s.call(m,l)&&!i.hasOwnProperty(l)&&(u[l]=m[l]);if(c&&c.defaultProps)for(l in m=c.defaultProps,m)u[l]===void 0&&(u[l]=m[l]);return{$$typeof:e,type:c,key:x,ref:h,props:u,_owner:a.current}}return ct.Fragment=r,ct.jsx=o,ct.jsxs=o,ct}var rs;function ba(){return rs||(rs=1,er.exports=ya()),er.exports}var n=ba(),Ct={},ss;function xa(){if(ss)return Ct;ss=1;var t=Qn();return Ct.createRoot=t.createRoot,Ct.hydrateRoot=t.hydrateRoot,Ct}var va=xa();const wa=zs(va);var zt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$t=typeof window>"u"||"Deno"in globalThis;function ve(){}function Sa(t,e){return typeof t=="function"?t(e):t}function ka(t){return typeof t=="number"&&t>=0&&t!==1/0}function ja(t,e){return Math.max(t+(e||0)-Date.now(),0)}function br(t,e){return typeof t=="function"?t(e):t}function Na(t,e){return typeof t=="function"?t(e):t}function ns(t,e){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:c}=t;if(o){if(s){if(e.queryHash!==Dr(o,e.options))return!1}else if(!bt(e.queryKey,o))return!1}if(r!=="all"){const m=e.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||i&&!i(e))}function as(t,e){const{exact:r,status:s,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(yt(e.options.mutationKey)!==yt(i))return!1}else if(!bt(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function Dr(t,e){return(e?.queryKeyHashFn||yt)(t)}function yt(t){return JSON.stringify(t,(e,r)=>xr(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function bt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>bt(t[r],e[r])):!1}function Vs(t,e){if(t===e)return t;const r=is(t)&&is(e);if(r||xr(t)&&xr(e)){const s=r?t:Object.keys(t),a=s.length,i=r?e:Object.keys(e),o=i.length,c=r?[]:{},m=new Set(s);let d=0;for(let l=0;l<o;l++){const u=r?l:i[l];(!r&&m.has(u)||r)&&t[u]===void 0&&e[u]===void 0?(c[u]=void 0,d++):(c[u]=Vs(t[u],e[u]),c[u]===t[u]&&t[u]!==void 0&&d++)}return a===o&&d===a?t:c}return e}function is(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xr(t){if(!os(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!os(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function os(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ea(t){return new Promise(e=>{setTimeout(e,t)})}function Ca(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Vs(t,e):e}function Pa(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function Ra(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var _r=Symbol();function Gs(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===_r?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Aa=class extends zt{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!$t&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Qs=new Aa,Ia=class extends zt{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!$t&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Ft=new Ia;function Ta(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},r.reject=a=>{s({status:"rejected",reason:a}),e(a)},r}function Oa(t){return Math.min(1e3*2**t,3e4)}function Js(t){return(t??"online")==="online"?Ft.isOnline():!0}var Ks=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function tr(t){return t instanceof Ks}function Ys(t){let e=!1,r=0,s=!1,a;const i=Ta(),o=f=>{s||(x(new Ks(f)),t.abort?.())},c=()=>{e=!0},m=()=>{e=!1},d=()=>Qs.isFocused()&&(t.networkMode==="always"||Ft.isOnline())&&t.canRun(),l=()=>Js(t.networkMode)&&t.canRun(),u=f=>{s||(s=!0,t.onSuccess?.(f),a?.(),i.resolve(f))},x=f=>{s||(s=!0,t.onError?.(f),a?.(),i.reject(f))},h=()=>new Promise(f=>{a=p=>{(s||d())&&f(p)},t.onPause?.()}).then(()=>{a=void 0,s||t.onContinue?.()}),g=()=>{if(s)return;let f;const p=r===0?t.initialPromise:void 0;try{f=p??t.fn()}catch(y){f=Promise.reject(y)}Promise.resolve(f).then(u).catch(y=>{if(s)return;const w=t.retry??($t?0:3),N=t.retryDelay??Oa,R=typeof N=="function"?N(r,y):N,A=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(e||!A){x(y);return}r++,t.onFail?.(r,y),Ea(R).then(()=>d()?void 0:h()).then(()=>{e?x(y):g()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:c,continueRetry:m,canStart:l,start:()=>(l()?g():h().then(g),i)}}var Da=t=>setTimeout(t,0);function _a(){let t=[],e=0,r=c=>{c()},s=c=>{c()},a=Da;const i=c=>{e?t.push(c):a(()=>{r(c)})},o=()=>{const c=t;t=[],c.length&&a(()=>{s(()=>{c.forEach(m=>{r(m)})})})};return{batch:c=>{let m;e++;try{m=c()}finally{e--,e||o()}return m},batchCalls:c=>(...m)=>{i(()=>{c(...m)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{a=c}}}var ae=_a(),Zs=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ka(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($t?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},La=class extends Zs{#e;#t;#r;#n;#s;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Fa(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Ca(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(ve).catch(ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Na(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_r||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>br(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ja(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(d=>d.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const m=Gs(this.options,e),l=(()=>{const u={client:this.#n,queryKey:this.queryKey,meta:this.meta};return s(u),u})();return this.#o=!1,this.options.persister?this.options.persister(m,l,this):m(l)},o=(()=>{const m={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return s(m),m})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const c=m=>{tr(m)&&m.silent||this.#a({type:"error",error:m}),tr(m)||(this.#r.config.onError?.(m,this),this.#r.config.onSettled?.(this.state.data,m,this)),this.scheduleGc()};return this.#s=Ys({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(d){c(d);return}this.#r.config.onSuccess?.(m,this),this.#r.config.onSettled?.(m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,d)=>{this.#a({type:"failed",failureCount:m,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ma(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return tr(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),ae.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function Ma(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Js(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Fa(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ua=class extends zt{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const s=e.queryKey,a=e.queryHash??Dr(s,e);let i=this.get(a);return i||(i=new La({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ae.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>ns(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>ns(t,r)):e}notify(t){ae.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ae.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ae.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ba=class extends Zs{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||za(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#r=Ys({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",s=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:s}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#n({type:"pending",context:i,variables:t,isPaused:s})}const a=await this.#r.start();return await this.#t.config.onSuccess?.(a,t,this.state.context,this),await this.options.onSuccess?.(a,t,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,t,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,t,this.state.context,this),await this.options.onError?.(a,t,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,t,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ae.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function za(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $a=class extends zt{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const s=new Ba({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(s),s}add(t){this.#e.add(t);const e=Pt(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Pt(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Pt(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Pt(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ae.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>as(e,r))}findAll(t={}){return this.getAll().filter(e=>as(t,e))}notify(t){ae.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ae.batch(()=>Promise.all(t.map(e=>e.continue().catch(ve))))}};function Pt(t){return t.options.scope?.id}function cs(t){return{onFetch:(e,r)=>{const s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},m=0;const d=async()=>{let l=!1;const u=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},x=Gs(e.options,e.fetchOptions),h=async(g,f,p)=>{if(l)return Promise.reject();if(f==null&&g.pages.length)return Promise.resolve(g);const w=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:f,direction:p?"backward":"forward",meta:e.options.meta};return u(P),P})(),N=await x(w),{maxPages:R}=e.options,A=p?Ra:Pa;return{pages:A(g.pages,N,R),pageParams:A(g.pageParams,f,R)}};if(a&&i.length){const g=a==="backward",f=g?Ha:ls,p={pages:i,pageParams:o},y=f(s,p);c=await h(p,y,g)}else{const g=t??i.length;do{const f=m===0?o[0]??s.initialPageParam:ls(s,c);if(m>0&&f==null)break;c=await h(c,f),m++}while(m<g)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=d}}}function ls(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function Ha(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var qa=class{#e;#t;#r;#n;#s;#i;#o;#a;constructor(t={}){this.#e=t.queryCache||new Ua,this.#t=t.mutationCache||new $a,this.#r=t.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Qs.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Ft.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(br(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(s.queryHash)?.state.data,o=Sa(e,i);if(o!==void 0)return this.#e.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ae.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;ae.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return ae.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=ae.batch(()=>this.#e.findAll(t).map(a=>a.cancel(r)));return Promise.all(s).then(ve).catch(ve)}invalidateQueries(t,e={}){return ae.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=ae.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ve)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ve)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(br(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ve).catch(ve)}fetchInfiniteQuery(t){return t.behavior=cs(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ve).catch(ve)}ensureInfiniteQueryData(t){return t.behavior=cs(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ft.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(yt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(s=>{bt(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){this.#s.set(yt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(s=>{bt(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Dr(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_r&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Wa=I.createContext(void 0),Xa=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(Wa.Provider,{value:t,children:e}));function en(t,e){return function(){return t.apply(e,arguments)}}const{toString:Va}=Object.prototype,{getPrototypeOf:Lr}=Object,{iterator:Ht,toStringTag:tn}=Symbol,qt=(t=>e=>{const r=Va.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Se=t=>(t=t.toLowerCase(),e=>qt(e)===t),Wt=t=>e=>typeof e===t,{isArray:rt}=Array,xt=Wt("undefined");function wt(t){return t!==null&&!xt(t)&&t.constructor!==null&&!xt(t.constructor)&&le(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rn=Se("ArrayBuffer");function Ga(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rn(t.buffer),e}const Qa=Wt("string"),le=Wt("function"),sn=Wt("number"),St=t=>t!==null&&typeof t=="object",Ja=t=>t===!0||t===!1,Ot=t=>{if(qt(t)!=="object")return!1;const e=Lr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tn in t)&&!(Ht in t)},Ka=t=>{if(!St(t)||wt(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ya=Se("Date"),Za=Se("File"),ei=Se("Blob"),ti=Se("FileList"),ri=t=>St(t)&&le(t.pipe),si=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||le(t.append)&&((e=qt(t))==="formdata"||e==="object"&&le(t.toString)&&t.toString()==="[object FormData]"))},ni=Se("URLSearchParams"),[ai,ii,oi,ci]=["ReadableStream","Request","Response","Headers"].map(Se),li=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kt(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),rt(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{if(wt(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(s=0;s<o;s++)c=i[s],e.call(null,t[c],c,t)}}function nn(t,e){if(wt(t))return null;e=e.toLowerCase();const r=Object.keys(t);let s=r.length,a;for(;s-- >0;)if(a=r[s],e===a.toLowerCase())return a;return null}const Oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,an=t=>!xt(t)&&t!==Oe;function vr(){const{caseless:t}=an(this)&&this||{},e={},r=(s,a)=>{const i=t&&nn(e,a)||a;Ot(e[i])&&Ot(s)?e[i]=vr(e[i],s):Ot(s)?e[i]=vr({},s):rt(s)?e[i]=s.slice():e[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&kt(arguments[s],r);return e}const di=(t,e,r,{allOwnKeys:s}={})=>(kt(e,(a,i)=>{r&&le(a)?t[i]=en(a,r):t[i]=a},{allOwnKeys:s}),t),ui=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hi=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},mi=(t,e,r,s)=>{let a,i,o;const c={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!s||s(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=r!==!1&&Lr(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},fi=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const s=t.indexOf(e,r);return s!==-1&&s===r},pi=t=>{if(!t)return null;if(rt(t))return t;let e=t.length;if(!sn(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},gi=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lr(Uint8Array)),yi=(t,e)=>{const s=(t&&t[Ht]).call(t);let a;for(;(a=s.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},bi=(t,e)=>{let r;const s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},xi=Se("HTMLFormElement"),vi=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),ds=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),wi=Se("RegExp"),on=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),s={};kt(r,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(s[i]=o||a)}),Object.defineProperties(t,s)},Si=t=>{on(t,(e,r)=>{if(le(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(le(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ki=(t,e)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return rt(t)?s(t):s(String(t).split(e)),r},ji=()=>{},Ni=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ei(t){return!!(t&&le(t.append)&&t[tn]==="FormData"&&t[Ht])}const Ci=t=>{const e=new Array(10),r=(s,a)=>{if(St(s)){if(e.indexOf(s)>=0)return;if(wt(s))return s;if(!("toJSON"in s)){e[a]=s;const i=rt(s)?[]:{};return kt(s,(o,c)=>{const m=r(o,a+1);!xt(m)&&(i[c]=m)}),e[a]=void 0,i}}return s};return r(t,0)},Pi=Se("AsyncFunction"),Ri=t=>t&&(St(t)||le(t))&&le(t.then)&&le(t.catch),cn=((t,e)=>t?setImmediate:e?((r,s)=>(Oe.addEventListener("message",({source:a,data:i})=>{a===Oe&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Oe.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",le(Oe.postMessage)),Ai=typeof queueMicrotask<"u"?queueMicrotask.bind(Oe):typeof process<"u"&&process.nextTick||cn,Ii=t=>t!=null&&le(t[Ht]),v={isArray:rt,isArrayBuffer:rn,isBuffer:wt,isFormData:si,isArrayBufferView:Ga,isString:Qa,isNumber:sn,isBoolean:Ja,isObject:St,isPlainObject:Ot,isEmptyObject:Ka,isReadableStream:ai,isRequest:ii,isResponse:oi,isHeaders:ci,isUndefined:xt,isDate:Ya,isFile:Za,isBlob:ei,isRegExp:wi,isFunction:le,isStream:ri,isURLSearchParams:ni,isTypedArray:gi,isFileList:ti,forEach:kt,merge:vr,extend:di,trim:li,stripBOM:ui,inherits:hi,toFlatObject:mi,kindOf:qt,kindOfTest:Se,endsWith:fi,toArray:pi,forEachEntry:yi,matchAll:bi,isHTMLForm:xi,hasOwnProperty:ds,hasOwnProp:ds,reduceDescriptors:on,freezeMethods:Si,toObjectSet:ki,toCamelCase:vi,noop:ji,toFiniteNumber:Ni,findKey:nn,global:Oe,isContextDefined:an,isSpecCompliantForm:Ei,toJSONObject:Ci,isAsyncFn:Pi,isThenable:Ri,setImmediate:cn,asap:Ai,isIterable:Ii};function D(t,e,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}v.inherits(D,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.status}}});const ln=D.prototype,dn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dn[t]={value:t}});Object.defineProperties(D,dn);Object.defineProperty(ln,"isAxiosError",{value:!0});D.from=(t,e,r,s,a,i)=>{const o=Object.create(ln);return v.toFlatObject(t,o,function(m){return m!==Error.prototype},c=>c!=="isAxiosError"),D.call(o,t.message,e,r,s,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Ti=null;function wr(t){return v.isPlainObject(t)||v.isArray(t)}function un(t){return v.endsWith(t,"[]")?t.slice(0,-2):t}function us(t,e,r){return t?t.concat(e).map(function(a,i){return a=un(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function Oi(t){return v.isArray(t)&&!t.some(wr)}const Di=v.toFlatObject(v,{},null,function(e){return/^is[A-Z]/.test(e)});function Xt(t,e,r){if(!v.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=v.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,p){return!v.isUndefined(p[f])});const s=r.metaTokens,a=r.visitor||l,i=r.dots,o=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(e);if(!v.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(v.isDate(g))return g.toISOString();if(v.isBoolean(g))return g.toString();if(!m&&v.isBlob(g))throw new D("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(g)||v.isTypedArray(g)?m&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,f,p){let y=g;if(g&&!p&&typeof g=="object"){if(v.endsWith(f,"{}"))f=s?f:f.slice(0,-2),g=JSON.stringify(g);else if(v.isArray(g)&&Oi(g)||(v.isFileList(g)||v.endsWith(f,"[]"))&&(y=v.toArray(g)))return f=un(f),y.forEach(function(N,R){!(v.isUndefined(N)||N===null)&&e.append(o===!0?us([f],R,i):o===null?f:f+"[]",d(N))}),!1}return wr(g)?!0:(e.append(us(p,f,i),d(g)),!1)}const u=[],x=Object.assign(Di,{defaultVisitor:l,convertValue:d,isVisitable:wr});function h(g,f){if(!v.isUndefined(g)){if(u.indexOf(g)!==-1)throw Error("Circular reference detected in "+f.join("."));u.push(g),v.forEach(g,function(y,w){(!(v.isUndefined(y)||y===null)&&a.call(e,y,v.isString(w)?w.trim():w,f,x))===!0&&h(y,f?f.concat(w):[w])}),u.pop()}}if(!v.isObject(t))throw new TypeError("data must be an object");return h(t),e}function hs(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Mr(t,e){this._pairs=[],t&&Xt(t,this,e)}const hn=Mr.prototype;hn.append=function(e,r){this._pairs.push([e,r])};hn.toString=function(e){const r=e?function(s){return e.call(this,s,hs)}:hs;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function _i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mn(t,e,r){if(!e)return t;const s=r&&r.encode||_i;v.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(e,r):i=v.isURLSearchParams(e)?e.toString():new Mr(e,r).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ms{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v.forEach(this.handlers,function(s){s!==null&&e(s)})}}const fn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Li=typeof URLSearchParams<"u"?URLSearchParams:Mr,Mi=typeof FormData<"u"?FormData:null,Fi=typeof Blob<"u"?Blob:null,Ui={isBrowser:!0,classes:{URLSearchParams:Li,FormData:Mi,Blob:Fi},protocols:["http","https","file","blob","url","data"]},Fr=typeof window<"u"&&typeof document<"u",Sr=typeof navigator=="object"&&navigator||void 0,Bi=Fr&&(!Sr||["ReactNative","NativeScript","NS"].indexOf(Sr.product)<0),zi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$i=Fr&&window.location.href||"http://localhost",Hi=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fr,hasStandardBrowserEnv:Bi,hasStandardBrowserWebWorkerEnv:zi,navigator:Sr,origin:$i},Symbol.toStringTag,{value:"Module"})),se={...Hi,...Ui};function qi(t,e){return Xt(t,new se.classes.URLSearchParams,{visitor:function(r,s,a,i){return se.isNode&&v.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Wi(t){return v.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xi(t){const e={},r=Object.keys(t);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],e[i]=t[i];return e}function pn(t){function e(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),m=i>=r.length;return o=!o&&v.isArray(a)?a.length:o,m?(v.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!c):((!a[o]||!v.isObject(a[o]))&&(a[o]=[]),e(r,s,a[o],i)&&v.isArray(a[o])&&(a[o]=Xi(a[o])),!c)}if(v.isFormData(t)&&v.isFunction(t.entries)){const r={};return v.forEachEntry(t,(s,a)=>{e(Wi(s),a,r,0)}),r}return null}function Vi(t,e,r){if(v.isString(t))try{return(e||JSON.parse)(t),v.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const jt={transitional:fn,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=v.isObject(e);if(i&&v.isHTMLForm(e)&&(e=new FormData(e)),v.isFormData(e))return a?JSON.stringify(pn(e)):e;if(v.isArrayBuffer(e)||v.isBuffer(e)||v.isStream(e)||v.isFile(e)||v.isBlob(e)||v.isReadableStream(e))return e;if(v.isArrayBufferView(e))return e.buffer;if(v.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return qi(e,this.formSerializer).toString();if((c=v.isFileList(e))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Xt(c?{"files[]":e}:e,m&&new m,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Vi(e)):e}],transformResponse:[function(e){const r=this.transitional||jt.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(v.isResponse(e)||v.isReadableStream(e))return e;if(e&&v.isString(e)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?D.from(c,D.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:se.classes.FormData,Blob:se.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],t=>{jt.headers[t]={}});const Gi=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qi=t=>{const e={};let r,s,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||e[r]&&Gi[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},fs=Symbol("internals");function lt(t){return t&&String(t).trim().toLowerCase()}function Dt(t){return t===!1||t==null?t:v.isArray(t)?t.map(Dt):String(t)}function Ji(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}const Ki=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rr(t,e,r,s,a){if(v.isFunction(s))return s.call(this,e,r);if(a&&(e=r),!!v.isString(e)){if(v.isString(s))return e.indexOf(s)!==-1;if(v.isRegExp(s))return s.test(e)}}function Yi(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function Zi(t,e){const r=v.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(a,i,o){return this[s].call(this,e,a,i,o)},configurable:!0})})}let de=class{constructor(e){e&&this.set(e)}set(e,r,s){const a=this;function i(c,m,d){const l=lt(m);if(!l)throw new Error("header name must be a non-empty string");const u=v.findKey(a,l);(!u||a[u]===void 0||d===!0||d===void 0&&a[u]!==!1)&&(a[u||m]=Dt(c))}const o=(c,m)=>v.forEach(c,(d,l)=>i(d,l,m));if(v.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(v.isString(e)&&(e=e.trim())&&!Ki(e))o(Qi(e),r);else if(v.isObject(e)&&v.isIterable(e)){let c={},m,d;for(const l of e){if(!v.isArray(l))throw TypeError("Object iterator must return a key-value pair");c[d=l[0]]=(m=c[d])?v.isArray(m)?[...m,l[1]]:[m,l[1]]:l[1]}o(c,r)}else e!=null&&i(r,e,s);return this}get(e,r){if(e=lt(e),e){const s=v.findKey(this,e);if(s){const a=this[s];if(!r)return a;if(r===!0)return Ji(a);if(v.isFunction(r))return r.call(this,a,s);if(v.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=lt(e),e){const s=v.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||rr(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let a=!1;function i(o){if(o=lt(o),o){const c=v.findKey(s,o);c&&(!r||rr(s,s[c],c,r))&&(delete s[c],a=!0)}}return v.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!e||rr(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,s={};return v.forEach(this,(a,i)=>{const o=v.findKey(s,i);if(o){r[o]=Dt(a),delete r[i];return}const c=e?Yi(i):String(i).trim();c!==i&&delete r[i],r[c]=Dt(a),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return v.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=e&&v.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[fs]=this[fs]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=lt(o);s[c]||(Zi(a,o),s[c]=!0)}return v.isArray(e)?e.forEach(i):i(e),this}};de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(de.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});v.freezeMethods(de);function sr(t,e){const r=this||jt,s=e||r,a=de.from(s.headers);let i=s.data;return v.forEach(t,function(c){i=c.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function gn(t){return!!(t&&t.__CANCEL__)}function st(t,e,r){D.call(this,t??"canceled",D.ERR_CANCELED,e,r),this.name="CanceledError"}v.inherits(st,D,{__CANCEL__:!0});function yn(t,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new D("Request failed with status code "+r.status,[D.ERR_BAD_REQUEST,D.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function eo(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function to(t,e){t=t||10;const r=new Array(t),s=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(m){const d=Date.now(),l=s[i];o||(o=d),r[a]=m,s[a]=d;let u=i,x=0;for(;u!==a;)x+=r[u++],u=u%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),d-o<e)return;const h=l&&d-l;return h?Math.round(x*1e3/h):void 0}}function ro(t,e){let r=0,s=1e3/e,a,i;const o=(d,l=Date.now())=>{r=l,a=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const l=Date.now(),u=l-r;u>=s?o(d,l):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-u)))},()=>a&&o(a)]}const Ut=(t,e,r=3)=>{let s=0;const a=to(50,250);return ro(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,m=o-s,d=a(m),l=o<=c;s=o;const u={loaded:o,total:c,progress:c?o/c:void 0,bytes:m,rate:d||void 0,estimated:d&&c&&l?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(u)},r)},ps=(t,e)=>{const r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},gs=t=>(...e)=>v.asap(()=>t(...e)),so=se.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,se.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(se.origin),se.navigator&&/(msie|trident)/i.test(se.navigator.userAgent)):()=>!0,no=se.hasStandardBrowserEnv?{write(t,e,r,s,a,i){const o=[t+"="+encodeURIComponent(e)];v.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),v.isString(s)&&o.push("path="+s),v.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ao(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function io(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function bn(t,e,r){let s=!ao(e);return t&&(s||r==!1)?io(t,e):e}const ys=t=>t instanceof de?{...t}:t;function Le(t,e){e=e||{};const r={};function s(d,l,u,x){return v.isPlainObject(d)&&v.isPlainObject(l)?v.merge.call({caseless:x},d,l):v.isPlainObject(l)?v.merge({},l):v.isArray(l)?l.slice():l}function a(d,l,u,x){if(v.isUndefined(l)){if(!v.isUndefined(d))return s(void 0,d,u,x)}else return s(d,l,u,x)}function i(d,l){if(!v.isUndefined(l))return s(void 0,l)}function o(d,l){if(v.isUndefined(l)){if(!v.isUndefined(d))return s(void 0,d)}else return s(void 0,l)}function c(d,l,u){if(u in e)return s(d,l);if(u in t)return s(void 0,d)}const m={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,l,u)=>a(ys(d),ys(l),u,!0)};return v.forEach(Object.keys({...t,...e}),function(l){const u=m[l]||a,x=u(t[l],e[l],l);v.isUndefined(x)&&u!==c||(r[l]=x)}),r}const xn=t=>{const e=Le({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=e;e.headers=o=de.from(o),e.url=mn(bn(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let m;if(v.isFormData(r)){if(se.hasStandardBrowserEnv||se.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((m=o.getContentType())!==!1){const[d,...l]=m?m.split(";").map(u=>u.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...l].join("; "))}}if(se.hasStandardBrowserEnv&&(s&&v.isFunction(s)&&(s=s(e)),s||s!==!1&&so(e.url))){const d=a&&i&&no.read(i);d&&o.set(a,d)}return e},oo=typeof XMLHttpRequest<"u",co=oo&&function(t){return new Promise(function(r,s){const a=xn(t);let i=a.data;const o=de.from(a.headers).normalize();let{responseType:c,onUploadProgress:m,onDownloadProgress:d}=a,l,u,x,h,g;function f(){h&&h(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout;function y(){if(!p)return;const N=de.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:N,config:t,request:p};yn(function(z){r(z),f()},function(z){s(z),f()},A),p=null}"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(y)},p.onabort=function(){p&&(s(new D("Request aborted",D.ECONNABORTED,t,p)),p=null)},p.onerror=function(){s(new D("Network Error",D.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||fn;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),s(new D(R,A.clarifyTimeoutError?D.ETIMEDOUT:D.ECONNABORTED,t,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&v.forEach(o.toJSON(),function(R,A){p.setRequestHeader(A,R)}),v.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),c&&c!=="json"&&(p.responseType=a.responseType),d&&([x,g]=Ut(d,!0),p.addEventListener("progress",x)),m&&p.upload&&([u,h]=Ut(m),p.upload.addEventListener("progress",u),p.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(l=N=>{p&&(s(!N||N.type?new st(null,t,p):N),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const w=eo(a.url);if(w&&se.protocols.indexOf(w)===-1){s(new D("Unsupported protocol "+w+":",D.ERR_BAD_REQUEST,t));return}p.send(i||null)})},lo=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,c();const l=d instanceof Error?d:this.reason;s.abort(l instanceof D?l:new st(l instanceof Error?l.message:l))}};let o=e&&setTimeout(()=>{o=null,i(new D(`timeout ${e} of ms exceeded`,D.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:m}=s;return m.unsubscribe=()=>v.asap(c),m}},uo=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let s=0,a;for(;s<r;)a=s+e,yield t.slice(s,a),s=a},ho=async function*(t,e){for await(const r of mo(t))yield*uo(r,e)},mo=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},bs=(t,e,r,s)=>{const a=ho(t,e);let i=0,o,c=m=>{o||(o=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:d,value:l}=await a.next();if(d){c(),m.close();return}let u=l.byteLength;if(r){let x=i+=u;r(x)}m.enqueue(new Uint8Array(l))}catch(d){throw c(d),d}},cancel(m){return c(m),a.return()}},{highWaterMark:2})},Vt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vn=Vt&&typeof ReadableStream=="function",fo=Vt&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),wn=(t,...e)=>{try{return!!t(...e)}catch{return!1}},po=vn&&wn(()=>{let t=!1;const e=new Request(se.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),xs=64*1024,kr=vn&&wn(()=>v.isReadableStream(new Response("").body)),Bt={stream:kr&&(t=>t.body)};Vt&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bt[e]&&(Bt[e]=v.isFunction(t[e])?r=>r[e]():(r,s)=>{throw new D(`Response type '${e}' is not supported`,D.ERR_NOT_SUPPORT,s)})})})(new Response);const go=async t=>{if(t==null)return 0;if(v.isBlob(t))return t.size;if(v.isSpecCompliantForm(t))return(await new Request(se.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(v.isArrayBufferView(t)||v.isArrayBuffer(t))return t.byteLength;if(v.isURLSearchParams(t)&&(t=t+""),v.isString(t))return(await fo(t)).byteLength},yo=async(t,e)=>{const r=v.toFiniteNumber(t.getContentLength());return r??go(e)},bo=Vt&&(async t=>{let{url:e,method:r,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:m,responseType:d,headers:l,withCredentials:u="same-origin",fetchOptions:x}=xn(t);d=d?(d+"").toLowerCase():"text";let h=lo([a,i&&i.toAbortSignal()],o),g;const f=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(m&&po&&r!=="get"&&r!=="head"&&(p=await yo(l,s))!==0){let A=new Request(e,{method:"POST",body:s,duplex:"half"}),P;if(v.isFormData(s)&&(P=A.headers.get("content-type"))&&l.setContentType(P),A.body){const[z,k]=ps(p,Ut(gs(m)));s=bs(A.body,xs,z,k)}}v.isString(u)||(u=u?"include":"omit");const y="credentials"in Request.prototype;g=new Request(e,{...x,signal:h,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:s,duplex:"half",credentials:y?u:void 0});let w=await fetch(g,x);const N=kr&&(d==="stream"||d==="response");if(kr&&(c||N&&f)){const A={};["status","statusText","headers"].forEach(j=>{A[j]=w[j]});const P=v.toFiniteNumber(w.headers.get("content-length")),[z,k]=c&&ps(P,Ut(gs(c),!0))||[];w=new Response(bs(w.body,xs,z,()=>{k&&k(),f&&f()}),A)}d=d||"text";let R=await Bt[v.findKey(Bt,d)||"text"](w,t);return!N&&f&&f(),await new Promise((A,P)=>{yn(A,P,{data:R,headers:de.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:g})})}catch(y){throw f&&f(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new D("Network Error",D.ERR_NETWORK,t,g),{cause:y.cause||y}):D.from(y,y&&y.code,t,g)}}),jr={http:Ti,xhr:co,fetch:bo};v.forEach(jr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vs=t=>`- ${t}`,xo=t=>v.isFunction(t)||t===null||t===!1,Sn={getAdapter:t=>{t=v.isArray(t)?t:[t];const{length:e}=t;let r,s;const a={};for(let i=0;i<e;i++){r=t[i];let o;if(s=r,!xo(r)&&(s=jr[(o=String(r)).toLowerCase()],s===void 0))throw new D(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,m])=>`adapter ${c} `+(m===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(vs).join(`
`):" "+vs(i[0]):"as no adapter specified";throw new D("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:jr};function nr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new st(null,t)}function ws(t){return nr(t),t.headers=de.from(t.headers),t.data=sr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Sn.getAdapter(t.adapter||jt.adapter)(t).then(function(s){return nr(t),s.data=sr.call(t,t.transformResponse,s),s.headers=de.from(s.headers),s},function(s){return gn(s)||(nr(t),s&&s.response&&(s.response.data=sr.call(t,t.transformResponse,s.response),s.response.headers=de.from(s.response.headers))),Promise.reject(s)})}const kn="1.11.0",Gt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gt[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Ss={};Gt.transitional=function(e,r,s){function a(i,o){return"[Axios v"+kn+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(e===!1)throw new D(a(o," has been removed"+(r?" in "+r:"")),D.ERR_DEPRECATED);return r&&!Ss[o]&&(Ss[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,c):!0}};Gt.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function vo(t,e,r){if(typeof t!="object")throw new D("options must be an object",D.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const i=s[a],o=e[i];if(o){const c=t[i],m=c===void 0||o(c,i,t);if(m!==!0)throw new D("option "+i+" must be "+m,D.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new D("Unknown option "+i,D.ERR_BAD_OPTION)}}const _t={assertOptions:vo,validators:Gt},ke=_t.validators;let _e=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ms,response:new ms}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Le(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&_t.assertOptions(s,{silentJSONParsing:ke.transitional(ke.boolean),forcedJSONParsing:ke.transitional(ke.boolean),clarifyTimeoutError:ke.transitional(ke.boolean)},!1),a!=null&&(v.isFunction(a)?r.paramsSerializer={serialize:a}:_t.assertOptions(a,{encode:ke.function,serialize:ke.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),_t.assertOptions(r,{baseUrl:ke.spelling("baseURL"),withXsrfToken:ke.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&v.merge(i.common,i[r.method]);i&&v.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=de.concat(o,i);const c=[];let m=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(m=m&&f.synchronous,c.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let l,u=0,x;if(!m){const g=[ws.bind(this),void 0];for(g.unshift(...c),g.push(...d),x=g.length,l=Promise.resolve(r);u<x;)l=l.then(g[u++],g[u++]);return l}x=c.length;let h=r;for(u=0;u<x;){const g=c[u++],f=c[u++];try{h=g(h)}catch(p){f.call(this,p);break}}try{l=ws.call(this,h)}catch(g){return Promise.reject(g)}for(u=0,x=d.length;u<x;)l=l.then(d[u++],d[u++]);return l}getUri(e){e=Le(this.defaults,e);const r=bn(e.baseURL,e.url,e.allowAbsoluteUrls);return mn(r,e.params,e.paramsSerializer)}};v.forEach(["delete","get","head","options"],function(e){_e.prototype[e]=function(r,s){return this.request(Le(s||{},{method:e,url:r,data:(s||{}).data}))}});v.forEach(["post","put","patch"],function(e){function r(s){return function(i,o,c){return this.request(Le(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}_e.prototype[e]=r(),_e.prototype[e+"Form"]=r(!0)});let wo=class jn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,c){s.reason||(s.reason=new st(i,o,c),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new jn(function(a){e=a}),cancel:e}}};function So(t){return function(r){return t.apply(null,r)}}function ko(t){return v.isObject(t)&&t.isAxiosError===!0}const Nr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nr).forEach(([t,e])=>{Nr[e]=t});function Nn(t){const e=new _e(t),r=en(_e.prototype.request,e);return v.extend(r,_e.prototype,e,{allOwnKeys:!0}),v.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return Nn(Le(t,a))},r}const U=Nn(jt);U.Axios=_e;U.CanceledError=st;U.CancelToken=wo;U.isCancel=gn;U.VERSION=kn;U.toFormData=Xt;U.AxiosError=D;U.Cancel=U.CanceledError;U.all=function(e){return Promise.all(e)};U.spread=So;U.isAxiosError=ko;U.mergeConfig=Le;U.AxiosHeaders=de;U.formToJSON=t=>pn(v.isHTMLForm(t)?new FormData(t):t);U.getAdapter=Sn.getAdapter;U.HttpStatusCode=Nr;U.default=U;const{Axios:Wl,AxiosError:Xl,CanceledError:Vl,isCancel:Gl,CancelToken:Ql,VERSION:Jl,all:Kl,Cancel:Yl,isAxiosError:Zl,spread:ed,toFormData:td,AxiosHeaders:rd,HttpStatusCode:sd,formToJSON:nd,getAdapter:ad,mergeConfig:id}=U;class jo{level;isDevelopment;constructor(){this.isDevelopment=!1,this.level=this.isDevelopment?3:1}formatMessage(e,r,s){const a=new Date().toISOString(),i=s?` | ${JSON.stringify(s)}`:"";return`[${a}] ${e.toUpperCase()}: ${r}${i}`}shouldLog(e){return e<=this.level}error(e,r,s){if(!this.shouldLog(0))return;const a=this.formatMessage("error",e,s);console.error(a),r&&console.error(r),!this.isDevelopment&&typeof window<"u"&&this.sendToErrorService(e,r,s)}warn(e,r){if(!this.shouldLog(1))return;const s=this.formatMessage("warn",e,r);console.warn(s)}info(e,r){if(!this.shouldLog(2))return;const s=this.formatMessage("info",e,r);console.info(s)}debug(e,r){if(!this.shouldLog(3))return;const s=this.formatMessage("debug",e,r);console.debug(s)}time(e){this.isDevelopment&&console.time(e)}timeEnd(e){this.isDevelopment&&console.timeEnd(e)}group(e){this.isDevelopment&&console.group(e)}groupEnd(){this.isDevelopment&&console.groupEnd()}sendToErrorService(e,r,s){try{const a={message:e,error:r instanceof Error?{name:r.name,message:r.message,stack:r.stack}:r,context:s,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};console.debug("Error payload prepared:",a)}catch(a){console.error("Failed to send error report:",a)}}}const b=new jo,Rt=[{id:"1",name:"Grand Luxury Resort & Spa",description:"Experience ultimate luxury with breathtaking ocean views and world-class amenities.",rating:4.8,reviewCount:2847,priceRange:{min:350,max:650,currency:"USD",avgNightly:450,originalPrice:650},images:[{id:"1-1",url:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop",alt:"Grand Luxury Resort exterior",category:"exterior",isPrimary:!0},{id:"1-2",url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",alt:"Luxury room interior",category:"room",isPrimary:!1}],amenities:[{id:"pool",name:"Pool",category:"Recreation"},{id:"spa",name:"Spa",category:"Wellness"},{id:"gym",name:"Gym",category:"Fitness"},{id:"restaurant",name:"Restaurant",category:"Dining"},{id:"wifi",name:"WiFi",category:"Technology"},{id:"room-service",name:"Room Service",category:"Service"}],location:{address:"123 Ocean Drive, Miami Beach, FL",city:"Miami Beach",country:"USA",coordinates:{lat:25.7617,lng:-80.1918}},passionScore:{luxury:.92,beach:.95,wellness:.88},availability:{available:!0,lastChecked:new Date().toISOString(),lowAvailability:!1}},{id:"2",name:"Urban Boutique Hotel",description:"Modern sophistication in the heart of downtown with stunning city skyline views.",rating:4.6,reviewCount:1234,priceRange:{min:200,max:350,currency:"USD",avgNightly:280,originalPrice:350},images:[{id:"2-1",url:"https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?w=800&h=600&fit=crop",alt:"Urban boutique hotel lobby",category:"interior",isPrimary:!0},{id:"2-2",url:"https://images.unsplash.com/photo-1578683010236-d716f9a3f461?w=800&h=600&fit=crop",alt:"Modern city room",category:"room",isPrimary:!1}],amenities:[{id:"wifi",name:"WiFi",category:"Technology"},{id:"gym",name:"Gym",category:"Fitness"},{id:"restaurant",name:"Restaurant",category:"Dining"},{id:"bar",name:"Bar",category:"Dining"},{id:"concierge",name:"Concierge",category:"Service"}],location:{address:"456 City Center, New York, NY",city:"New York",country:"USA",coordinates:{lat:40.7128,lng:-74.006}},passionScore:{urban:.85,business:.9,culture:.82},availability:{available:!0,lastChecked:new Date().toISOString(),lowAvailability:!0}},{id:"3",name:"Mountain Retreat Lodge",description:"Peaceful escape surrounded by pristine nature and mountain wilderness.",rating:4.7,reviewCount:892,priceRange:{min:250,max:380,currency:"USD",avgNightly:320,originalPrice:380},images:[{id:"3-1",url:"https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800&h=600&fit=crop",alt:"Mountain lodge exterior",category:"exterior",isPrimary:!0},{id:"3-2",url:"https://images.unsplash.com/photo-1549294413-26f195200c16?w=800&h=600&fit=crop",alt:"Cozy mountain room",category:"room",isPrimary:!1}],amenities:[{id:"hiking",name:"Hiking Trails",category:"Recreation"},{id:"spa",name:"Spa",category:"Wellness"},{id:"restaurant",name:"Restaurant",category:"Dining"},{id:"wifi",name:"WiFi",category:"Technology"},{id:"fireplace",name:"Fireplace",category:"Comfort"}],location:{address:"789 Mountain View, Aspen, CO",city:"Aspen",country:"USA",coordinates:{lat:39.1911,lng:-106.8175}},passionScore:{nature:.88,wellness:.85,adventure:.92},availability:{available:!0,lastChecked:new Date().toISOString(),lowAvailability:!1}}];class No{baseURL="https://api.vibehotels.com/api";timeout=5e3;async searchHotels(e){try{const r=await U.post(`${this.baseURL}/hotels/search`,{destination:e.destination,checkIn:e.checkIn,checkOut:e.checkOut,guests:this.parseGuests(e.guests),rooms:parseInt(e.rooms)||1},{timeout:this.timeout,headers:{"Content-Type":"application/json",Accept:"application/json"}});return{hotels:r.data.hotels||[],total:r.data.total||0,page:r.data.page||1,limit:r.data.limit||10}}catch(r){b.info("Hotel search API unavailable, providing mock results for seamless UX",{component:"SearchService",method:"searchHotels",destination:e.destination,error:r instanceof Error?r.message:"Unknown error",fallbackStrategy:"filtered_mock_data"});const s=this.filterMockHotels(e.destination);return{hotels:s,total:s.length,page:1,limit:10}}}parseGuests(e){return{adults:parseInt(e.match(/(\d+)\s*Adult/i)?.[1]||"2"),children:0}}filterMockHotels(e){if(!e.trim())return Rt;const r=e.toLowerCase(),s=Rt.filter(a=>{const i=a.name.toLowerCase(),o=a.location.address.toLowerCase(),c=a.description.toLowerCase();return i.includes(r)||o.includes(r)||c.includes(r)||this.matchesDestinationType(r,a)});return s.length>0?s:Rt}matchesDestinationType(e,r){const s=["beach","ocean","coastal","seaside","waterfront"],a=["city","urban","downtown","metropolitan"],i=["mountain","alpine","wilderness","nature","retreat"],o=s.some(l=>e.includes(l)),c=a.some(l=>e.includes(l)),m=i.some(l=>e.includes(l)),d=this.getHotelType(r);return o&&d==="beach"||c&&d==="city"||m&&d==="mountain"}getHotelType(e){const r=e.name.toLowerCase(),s=e.description.toLowerCase();return r.includes("resort")||s.includes("ocean")||s.includes("beach")?"beach":r.includes("urban")||r.includes("boutique")||s.includes("downtown")?"city":r.includes("lodge")||r.includes("retreat")||s.includes("mountain")?"mountain":"general"}async getHotelDetails(e){try{return(await U.get(`${this.baseURL}/hotels/${e}`,{timeout:this.timeout})).data.hotel}catch(r){return b.info("Hotel details API unavailable, using mock data fallback",{component:"SearchService",method:"getHotelDetails",hotelId:e,error:r instanceof Error?r.message:"Unknown error",fallbackStrategy:"mock_hotel_data"}),Rt.find(s=>s.id===e)||null}}async getSuggestions(e){if(!e||e.length<2)return[];try{return(await U.get(`${this.baseURL}/hotels/suggestions`,{params:{q:e},timeout:2e3})).data.suggestions||[]}catch{return["New York, NY","Miami Beach, FL","Los Angeles, CA","Paris, France","London, UK","Tokyo, Japan","Barcelona, Spain","Dubai, UAE","Sydney, Australia","Rome, Italy"].filter(a=>a.toLowerCase().includes(e.toLowerCase())).slice(0,6)}}}const ks=new No,Eo={},js=t=>{let e;const r=new Set,s=(l,u)=>{const x=typeof l=="function"?l(e):l;if(!Object.is(x,e)){const h=e;e=u??(typeof x!="object"||x===null)?x:Object.assign({},e,x),r.forEach(g=>g(e,h))}},a=()=>e,m={setState:s,getState:a,getInitialState:()=>d,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{(Eo?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=e=t(s,a,m);return m},Co=t=>t?js(t):js;var ar={exports:{}},ir={},or={exports:{}},cr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns;function Po(){if(Ns)return cr;Ns=1;var t=Ar();function e(u,x){return u===x&&(u!==0||1/u===1/x)||u!==u&&x!==x}var r=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(u,x){var h=x(),g=s({inst:{value:h,getSnapshot:x}}),f=g[0].inst,p=g[1];return i(function(){f.value=h,f.getSnapshot=x,m(f)&&p({inst:f})},[u,h,x]),a(function(){return m(f)&&p({inst:f}),u(function(){m(f)&&p({inst:f})})},[u]),o(h),h}function m(u){var x=u.getSnapshot;u=u.value;try{var h=x();return!r(u,h)}catch{return!0}}function d(u,x){return x()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return cr.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:l,cr}var Es;function Ro(){return Es||(Es=1,or.exports=Po()),or.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs;function Ao(){if(Cs)return ir;Cs=1;var t=Ar(),e=Ro();function r(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var s=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,c=t.useMemo,m=t.useDebugValue;return ir.useSyncExternalStoreWithSelector=function(d,l,u,x,h){var g=i(null);if(g.current===null){var f={hasValue:!1,value:null};g.current=f}else f=g.current;g=c(function(){function y(P){if(!w){if(w=!0,N=P,P=x(P),h!==void 0&&f.hasValue){var z=f.value;if(h(z,P))return R=z}return R=P}if(z=R,s(N,P))return z;var k=x(P);return h!==void 0&&h(z,k)?(N=P,z):(N=P,R=k)}var w=!1,N,R,A=u===void 0?null:u;return[function(){return y(l())},A===null?void 0:function(){return y(A())}]},[l,u,x,h]);var p=a(d,g[0],g[1]);return o(function(){f.hasValue=!0,f.value=p},[p]),m(p),p},ir}var Ps;function Io(){return Ps||(Ps=1,ar.exports=Ao()),ar.exports}var To=Io();const Oo=zs(To),En={},{useDebugValue:Do}=S,{useSyncExternalStoreWithSelector:_o}=Oo;let Rs=!1;const Lo=t=>t;function Mo(t,e=Lo,r){(En?"production":void 0)!=="production"&&r&&!Rs&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Rs=!0);const s=_o(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Do(s),s}const Fo=t=>{(En?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Co(t):t,r=(s,a)=>Mo(e,s,a);return Object.assign(r,e),r},Ur=t=>Fo,Lt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3001/api",VITE_API_URL:"https://api.vibehotels.com",VITE_APP_NAME:"Vibe Hotels",VITE_ENABLE_DEBUG:"true",VITE_ENABLE_MOCK_PAYMENTS:"true",VITE_LITEAPI_KEY:"REPLACE_WITH_YOUR_LITEAPI_KEY",VITE_LOCAL_MODE:"true",VITE_OPENAI_API_KEY:"sk-test-placeholder",VITE_SQUARE_APPLICATION_ID:"sandbox-sq0idb-xxx_REPLACE_WITH_YOUR_APP_ID",VITE_SQUARE_LOCATION_ID:"REPLACE_WITH_YOUR_LOCATION_ID",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51H5vRkKX0000000000000000",VITE_USER_NODE_ENV:"production",VITE_USE_MOCK_DATA:"true"},Er=new Map,At=t=>{const e=Er.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,s])=>[r,s.getState()])):{}},Uo=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const s=Er.get(r.name);if(s)return{type:"tracked",store:t,...s};const a={connection:e.connect(r),stores:{}};return Er.set(r.name,a),{type:"tracked",store:t,...a}},Bo=(t,e={})=>(r,s,a)=>{const{enabled:i,anonymousActionType:o,store:c,...m}=e;let d;try{d=(i??(Lt?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return(Lt?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,s,a);const{connection:l,...u}=Uo(c,d,m);let x=!0;a.setState=(f,p,y)=>{const w=r(f,p);if(!x)return w;const N=y===void 0?{type:o||"anonymous"}:typeof y=="string"?{type:y}:y;return c===void 0?(l?.send(N,s()),w):(l?.send({...N,type:`${c}/${N.type}`},{...At(m.name),[c]:a.getState()}),w)};const h=(...f)=>{const p=x;x=!1,r(...f),x=p},g=t(a.setState,s,a);if(u.type==="untracked"?l?.init(g):(u.stores[u.store]=a,l?.init(Object.fromEntries(Object.entries(u.stores).map(([f,p])=>[f,f===u.store?g:p.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let f=!1;const p=a.dispatch;a.dispatch=(...y)=>{(Lt?"production":void 0)!=="production"&&y[0].type==="__setState"&&!f&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),f=!0),p(...y)}}return l.subscribe(f=>{var p;switch(f.type){case"ACTION":if(typeof f.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return lr(f.payload,y=>{if(y.type==="__setState"){if(c===void 0){h(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const w=y.state[c];if(w==null)return;JSON.stringify(a.getState())!==JSON.stringify(w)&&h(w);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(y)});case"DISPATCH":switch(f.payload.type){case"RESET":return h(g),c===void 0?l?.init(a.getState()):l?.init(At(m.name));case"COMMIT":if(c===void 0){l?.init(a.getState());return}return l?.init(At(m.name));case"ROLLBACK":return lr(f.state,y=>{if(c===void 0){h(y),l?.init(a.getState());return}h(y[c]),l?.init(At(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return lr(f.state,y=>{if(c===void 0){h(y);return}JSON.stringify(a.getState())!==JSON.stringify(y[c])&&h(y[c])});case"IMPORT_STATE":{const{nextLiftedState:y}=f.payload,w=(p=y.computedStates.slice(-1)[0])==null?void 0:p.state;if(!w)return;h(c===void 0?w:w[c]),l?.send(null,y);return}case"PAUSE_RECORDING":return x=!x}return}}),g},Br=Bo,lr=(t,e)=>{let r;try{r=JSON.parse(t)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}r!==void 0&&e(r)};function zo(t,e){let r;try{r=t()}catch{return}return{getItem:a=>{var i;const o=m=>m===null?null:JSON.parse(m,void 0),c=(i=r.getItem(a))!=null?i:null;return c instanceof Promise?c.then(o):o(c)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const vt=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(s){return vt(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return vt(s)(r)}}}},$o=(t,e)=>(r,s,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,y)=>({...y,...p}),...e},o=!1;const c=new Set,m=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},s,a);const l=vt(i.serialize),u=()=>{const p=i.partialize({...s()});let y;const w=l({state:p,version:i.version}).then(N=>d.setItem(i.name,N)).catch(N=>{y=N});if(y)throw y;return w},x=a.setState;a.setState=(p,y)=>{x(p,y),u()};const h=t((...p)=>{r(...p),u()},s,a);let g;const f=()=>{var p;if(!d)return;o=!1,c.forEach(w=>w(s()));const y=((p=i.onRehydrateStorage)==null?void 0:p.call(i,s()))||void 0;return vt(d.getItem.bind(d))(i.name).then(w=>{if(w)return i.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return i.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var N;return g=i.merge(w,(N=s())!=null?N:h),r(g,!0),u()}).then(()=>{y?.(g,void 0),o=!0,m.forEach(w=>w(g))}).catch(w=>{y?.(void 0,w)})};return a.persist={setOptions:p=>{i={...i,...p},p.getStorage&&(d=p.getStorage())},clearStorage:()=>{d?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:p=>(c.add(p),()=>{c.delete(p)}),onFinishHydration:p=>(m.add(p),()=>{m.delete(p)})},f(),g||h},Ho=(t,e)=>(r,s,a)=>{let i={storage:zo(()=>localStorage),partialize:f=>f,version:0,merge:(f,p)=>({...p,...f}),...e},o=!1;const c=new Set,m=new Set;let d=i.storage;if(!d)return t((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...f)},s,a);const l=()=>{const f=i.partialize({...s()});return d.setItem(i.name,{state:f,version:i.version})},u=a.setState;a.setState=(f,p)=>{u(f,p),l()};const x=t((...f)=>{r(...f),l()},s,a);a.getInitialState=()=>x;let h;const g=()=>{var f,p;if(!d)return;o=!1,c.forEach(w=>{var N;return w((N=s())!=null?N:x)});const y=((p=i.onRehydrateStorage)==null?void 0:p.call(i,(f=s())!=null?f:x))||void 0;return vt(d.getItem.bind(d))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return[!0,i.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var N;const[R,A]=w;if(h=i.merge(A,(N=s())!=null?N:x),r(h,!0),R)return l()}).then(()=>{y?.(h,void 0),h=s(),o=!0,m.forEach(w=>w(h))}).catch(w=>{y?.(void 0,w)})};return a.persist={setOptions:f=>{i={...i,...f},f.storage&&(d=f.storage)},clearStorage:()=>{d?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:f=>(c.add(f),()=>{c.delete(f)}),onFinishHydration:f=>(m.add(f),()=>{m.delete(f)})},i.skipHydration||g(),h||x},qo=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Lt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),$o(t,e)):Ho(t,e),Cn=qo,Wo={priceRange:[0,1e3],starRating:[],amenities:[],location:{},accessibility:{wheelchairAccessible:!1,hearingAccessible:!1,visualAccessible:!1},sustainability:!1,passions:[]},zr=Ur()(Br(Cn(t=>({query:"",naturalLanguageQuery:"",filters:Wo,results:[],loading:!1,error:null,pagination:null,aiProcessedQuery:null,selectedDateRange:{checkIn:"",checkOut:""},guestCount:{adults:2,children:0,rooms:1},setQuery:e=>t({query:e}),setNaturalLanguageQuery:e=>t({naturalLanguageQuery:e}),setFilters:e=>t(r=>({filters:{...r.filters,...e}})),setResults:e=>t({results:e}),setLoading:e=>t({loading:e}),setError:e=>t({error:e}),setPagination:e=>t({pagination:e}),setAiProcessedQuery:e=>t({aiProcessedQuery:e}),setDateRange:(e,r)=>t({selectedDateRange:{checkIn:e,checkOut:r}}),setGuestCount:(e,r,s)=>t({guestCount:{adults:e,children:r,rooms:s}}),clearSearch:()=>t({query:"",naturalLanguageQuery:"",results:[],error:null,pagination:null,aiProcessedQuery:null}),addToResults:e=>t(r=>({results:[...r.results,...e]}))}),{name:"search-store",partialize:t=>({filters:t.filters,selectedDateRange:t.selectedDateRange,guestCount:t.guestCount})}),{name:"SearchStore"})),dr=[{city:"New York",country:"USA",trending:!0},{city:"Paris",country:"France",trending:!0},{city:"Tokyo",country:"Japan",trending:!1},{city:"Dubai",country:"UAE",trending:!0},{city:"London",country:"UK",trending:!1},{city:"Bali",country:"Indonesia",trending:!0},{city:"Miami",country:"USA",trending:!1},{city:"Barcelona",country:"Spain",trending:!0}],dt=["Miami Beach Hotels","Paris Luxury Hotels","Tokyo Business Hotels"];function Xo({className:t="",compact:e=!1}){const r=Ir(),s=I.useRef(null),a=I.useRef(null),[i,o]=I.useState(""),[c,m]=I.useState(""),[d,l]=I.useState(""),[u,x]=I.useState("2 Adults, 1 Room"),[h,g]=I.useState(!1),[f,p]=I.useState([]),[y,w]=I.useState(-1),[N,R]=I.useState(!1);I.useEffect(()=>{const $=setTimeout(async()=>{if(i.length>1)try{const Y=await ks.getSuggestions(i);p(Y)}catch{const te=dr.filter(re=>re.city.toLowerCase().includes(i.toLowerCase())||re.country.toLowerCase().includes(i.toLowerCase())).map(re=>`${re.city}, ${re.country}`).slice(0,6);p(te)}else p([])},300);return()=>clearTimeout($)},[i]),I.useEffect(()=>{const C=$=>{s.current&&!s.current.contains($.target)&&(g(!1),R(!1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const{setQuery:A,setLoading:P,setResults:z,setError:k}=zr(),j=async C=>{if(C?.preventDefault(),!i){a.current?.focus();return}try{P(!0),k(null),A(i);const $=await ks.searchHotels({destination:i,checkIn:c||"",checkOut:d||"",guests:u||"2 Adults, 1 Room",rooms:"1"});z($.hotels);const Y=JSON.parse(localStorage.getItem("recentSearches")||"[]"),te=`${i} Hotels`;Y.includes(te)||(Y.unshift(te),localStorage.setItem("recentSearches",JSON.stringify(Y.slice(0,5))));const re=new URLSearchParams({destination:i,checkIn:c||"",checkOut:d||"",guests:u||"2 Adults, 1 Room",rooms:"1"});r(`/search?${re.toString()}`)}catch($){console.error("Search failed:",$),k("Search failed. Please try again.")}finally{P(!1),g(!1),R(!1)}},_=C=>{const[$]=C.split(",");o($.trim()),g(!1),j()},W=()=>{g(!0),e&&!N&&R(!0)},T=C=>{C.key==="ArrowDown"?(C.preventDefault(),w($=>$<(f.length>0?f.length-1:dt.length-1)?$+1:$)):C.key==="ArrowUp"?(C.preventDefault(),w($=>$>0?$-1:-1)):C.key==="Enter"?(C.preventDefault(),y>=0?f.length>0?_(f[y]):dt[y]&&(o(dt[y].replace(" Hotels","")),j()):j()):C.key==="Escape"&&(g(!1),R(!1),a.current?.blur())},K=new Date().toISOString().split("T")[0];return n.jsxs("div",{ref:s,className:`relative ${t}`,children:[n.jsx("form",{onSubmit:j,className:"w-full",children:e&&!N?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all",children:[n.jsx(et,{className:"w-5 h-5 text-gray-500","aria-hidden":"true"}),n.jsx("input",{ref:a,id:"compact-destination-input",name:"destination",type:"text",value:i,onChange:C=>o(C.target.value),onFocus:W,onKeyDown:T,placeholder:"Search hotels, destinations...","aria-label":"Search hotels and destinations","aria-expanded":h,"aria-haspopup":"listbox",autoComplete:"destination",className:"flex-1 bg-transparent outline-none text-sm placeholder-gray-500"}),i&&n.jsx("button",{type:"button",onClick:()=>o(""),"aria-label":"Clear search",className:"text-gray-400 hover:text-gray-600 p-1",children:n.jsx(pt,{className:"w-4 h-4"})})]}),n.jsxs("button",{type:"submit","aria-label":"Search hotels",className:"px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-all duration-200 flex items-center gap-2 font-medium text-sm min-h-[44px]",children:[n.jsx(Yr,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden md:inline",children:"Search"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("label",{htmlFor:"destination-input",className:"sr-only",children:"Destination or Hotel Name"}),n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all",children:[n.jsx(et,{className:"w-5 h-5 text-gray-500","aria-hidden":"true"}),n.jsx("input",{id:"destination-input",name:"destination",ref:a,type:"text",value:i,onChange:C=>o(C.target.value),onFocus:W,onKeyDown:T,placeholder:"Where would you like to stay?","aria-label":"Destination or hotel name","aria-expanded":h,"aria-haspopup":"listbox",autoComplete:"destination",className:"flex-1 bg-transparent outline-none text-base placeholder-gray-500"}),i&&n.jsx("button",{type:"button",onClick:()=>o(""),"aria-label":"Clear destination",className:"text-gray-400 hover:text-gray-600 p-1 min-h-[44px] min-w-[44px] flex items-center justify-center",children:n.jsx(pt,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"lg:w-48",children:[n.jsx("label",{htmlFor:"checkin-input",className:"sr-only",children:"Check-in Date"}),n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all",children:[n.jsx(gt,{className:"w-5 h-5 text-gray-500","aria-hidden":"true"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Check-in"}),n.jsx("input",{id:"checkin-input",name:"checkin",type:"date",value:c,onChange:C=>m(C.target.value),min:K,"aria-label":"Check-in date",autoComplete:"checkin",className:"bg-transparent outline-none text-sm font-medium w-full"})]})]})]}),n.jsxs("div",{className:"lg:w-48",children:[n.jsx("label",{htmlFor:"checkout-input",className:"sr-only",children:"Check-out Date"}),n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all",children:[n.jsx(gt,{className:"w-5 h-5 text-gray-500","aria-hidden":"true"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Check-out"}),n.jsx("input",{id:"checkout-input",name:"checkout",type:"date",value:d,onChange:C=>l(C.target.value),min:c||K,"aria-label":"Check-out date",autoComplete:"checkout",className:"bg-transparent outline-none text-sm font-medium w-full"})]})]})]}),n.jsxs("div",{className:"lg:w-52",children:[n.jsx("label",{htmlFor:"guests-select",className:"sr-only",children:"Number of Guests and Rooms"}),n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border-2 border-gray-200 hover:border-gray-300 focus-within:border-gray-900 focus-within:ring-2 focus-within:ring-gray-900/10 transition-all",children:[n.jsx($s,{className:"w-5 h-5 text-gray-500","aria-hidden":"true"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Guests"}),n.jsxs("select",{id:"guests-select",name:"guests",value:u,onChange:C=>x(C.target.value),"aria-label":"Number of guests and rooms",className:"bg-transparent outline-none text-sm font-medium cursor-pointer w-full",children:[n.jsx("option",{children:"1 Adult, 1 Room"}),n.jsx("option",{children:"2 Adults, 1 Room"}),n.jsx("option",{children:"2 Adults, 2 Rooms"}),n.jsx("option",{children:"3 Adults, 2 Rooms"}),n.jsx("option",{children:"4 Adults, 2 Rooms"})]})]})]})]}),n.jsxs("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-lg hover:from-gray-800 hover:to-gray-700 transition-all duration-200 flex items-center gap-2 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 min-h-[44px]","aria-label":"Search for hotels",children:[n.jsx(Yr,{className:"w-5 h-5"}),n.jsx("span",{children:"Search Hotels"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[n.jsx("span",{className:"text-gray-500 font-medium",children:"Quick Search:"}),["Beach Resort","City Hotel","Mountain Lodge","Spa Resort"].map(C=>n.jsx("button",{type:"button",onClick:()=>{o(C),j()},className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors text-gray-700 hover:text-gray-900 min-h-[44px] flex items-center","aria-label":`Search for ${C.toLowerCase()}`,children:C},C))]})]})}),h&&n.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden z-50 max-h-96 overflow-y-auto",role:"listbox","aria-label":"Search suggestions",children:[f.length>0&&n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Suggestions"}),f.map((C,$)=>n.jsxs("button",{type:"button",onClick:()=>_(C),role:"option","aria-selected":y===$,className:`
                    w-full text-left px-3 py-3 rounded-lg flex items-center gap-3 transition-colors min-h-[44px]
                    ${y===$?"bg-gray-100":"hover:bg-gray-50"}
                  `,children:[n.jsx(et,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}),n.jsx("span",{className:"text-sm",children:C}),dr.find(Y=>C.includes(Y.city))?.trending&&n.jsxs("span",{className:"ml-auto text-xs text-orange-600 font-medium flex items-center gap-1",children:[n.jsx(ta,{className:"w-3 h-3"}),"Trending"]})]},C))]}),!i&&dt.length>0&&n.jsxs("div",{className:"p-2 border-t border-gray-100",children:[n.jsxs("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[n.jsx(pr,{className:"w-3 h-3"}),"Recent Searches"]}),dt.map((C,$)=>n.jsx("button",{type:"button",onClick:()=>{o(C.replace(" Hotels","")),j()},role:"option","aria-selected":y===f.length+$,className:`
                    w-full text-left px-3 py-3 rounded-lg hover:bg-gray-50 transition-colors text-sm text-gray-600 min-h-[44px]
                    ${y===f.length+$?"bg-gray-100":""}
                  `,children:C},C))]}),!i&&n.jsxs("div",{className:"p-2 border-t border-gray-100",children:[n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Popular Destinations"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:dr.slice(0,6).map(C=>n.jsxs("button",{type:"button",onClick:()=>{o(C.city),j()},className:"text-left px-3 py-3 rounded-lg hover:bg-gray-50 transition-colors group min-h-[44px]","aria-label":`Search hotels in ${C.city}, ${C.country}`,children:[n.jsx("div",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:C.city}),n.jsx("div",{className:"text-xs text-gray-500",children:C.country})]},C.city))})]})]})]})}function Vo(){const t=Jn(),[e,r]=I.useState(!1),[s,a]=I.useState(!1);I.useEffect(()=>{const o=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=[{href:"/destinations",label:"DESTINATIONS"},{href:"/deals",label:"OFFERS"},{href:"/experiences",label:"EXPERIENCES"},{href:"/rewards",label:"REWARDS"}];return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block bg-gray-900 text-white text-xs",children:n.jsx("div",{className:"max-w-screen-2xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between h-9",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("a",{href:"tel:1-800-LUXURY",className:"flex items-center gap-1.5 hover:text-gray-300 transition-colors",children:[n.jsx(Mt,{className:"w-3 h-3"}),n.jsx("span",{children:"1-800-LUXURY"})]}),n.jsx("span",{className:"text-gray-500",children:"|"}),n.jsx("a",{href:"#",className:"hover:text-gray-300 transition-colors",children:"Customer Support"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{className:"flex items-center gap-1.5 hover:text-gray-300 transition-colors",children:[n.jsx(Hs,{className:"w-3 h-3"}),n.jsx("span",{children:"English"}),n.jsx(ra,{className:"w-3 h-3"})]}),n.jsx("span",{className:"text-gray-500",children:"|"}),n.jsx("button",{className:"hover:text-gray-300 transition-colors",children:"USD"})]})]})})}),n.jsxs("header",{className:`
          sticky top-0 z-50 bg-white transition-all duration-300
          ${e?"shadow-md":"border-b border-gray-200"}
        `,children:[n.jsx("div",{className:"max-w-screen-2xl mx-auto px-6",children:n.jsxs("div",{className:"flex items-center justify-between h-20",children:[n.jsxs(ue,{to:"/",className:"flex items-center group vh-logo-container",children:[n.jsxs("div",{className:"relative mr-4 sm:mr-5",children:[n.jsx("div",{className:"vh-3d-shadow vh-neon-logo text-4xl sm:text-5xl",children:"VH"}),n.jsx("div",{className:"vh-neon-logo text-4xl sm:text-5xl relative z-10",children:"VH"}),n.jsx("div",{className:"vh-neon-glow vh-neon-logo text-4xl sm:text-5xl",children:"VH"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"vh-luxury-border",children:n.jsx("span",{className:"vh-brand-gradient text-2xl sm:text-3xl font-black tracking-tight",children:"VIBE HOTELS"})}),n.jsx("div",{className:"vh-luxury-text text-xs sm:text-sm mt-1",children:"Experience Elevated"})]})]}),n.jsx("nav",{className:"hidden lg:flex items-center gap-10",children:i.map(o=>n.jsx(ue,{to:o.href,className:`
                    text-xs font-medium tracking-wider transition-colors duration-200
                    ${t.pathname===o.href?"text-gray-900 border-b-2 border-gray-900 pb-1":"text-gray-700 hover:text-gray-900"}
                  `,children:o.label},o.href))}),n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[n.jsx(ue,{to:"/signin",className:"text-xs font-medium tracking-wider text-gray-700 hover:text-gray-900 transition-colors",children:"SIGN IN"}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx(ue,{to:"/join",className:"text-xs font-medium tracking-wider text-gray-700 hover:text-gray-900 transition-colors",children:"JOIN"})]}),n.jsx(ue,{to:"/search",className:"hidden lg:block px-6 py-3 bg-gray-900 text-white text-xs font-medium tracking-wider hover:bg-gray-800 transition-colors",children:"BOOK NOW"}),n.jsx("button",{onClick:()=>a(!s),className:"lg:hidden p-2","aria-label":"Menu",children:s?n.jsx(pt,{className:"w-6 h-6 text-gray-700"}):n.jsx(sa,{className:"w-6 h-6 text-gray-700"})})]})]})}),n.jsx("div",{className:"border-t border-gray-200",children:n.jsx("div",{className:"max-w-screen-2xl mx-auto px-6 py-4",children:n.jsx(Xo,{className:"w-full"})})}),s&&n.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-black/50",onClick:()=>a(!1),children:n.jsxs("div",{className:"absolute right-0 top-0 h-full w-80 bg-white shadow-xl",onClick:o=>o.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("span",{className:"text-lg font-light tracking-wider",children:"MENU"}),n.jsx("button",{onClick:()=>a(!1),className:"p-2",children:n.jsx(pt,{className:"w-5 h-5 text-gray-700"})})]}),n.jsxs("nav",{className:"p-6",children:[n.jsx("div",{className:"space-y-6",children:i.map(o=>n.jsx(ue,{to:o.href,onClick:()=>a(!1),className:`
                        block text-sm font-medium tracking-wider transition-colors
                        ${t.pathname===o.href?"text-gray-900":"text-gray-700"}
                      `,children:o.label},o.href))}),n.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 space-y-4",children:[n.jsx(ue,{to:"/signin",onClick:()=>a(!1),className:"block text-sm font-medium tracking-wider text-gray-700",children:"SIGN IN"}),n.jsx(ue,{to:"/join",onClick:()=>a(!1),className:"block text-sm font-medium tracking-wider text-gray-700",children:"JOIN REWARDS"}),n.jsx(ue,{to:"/search",onClick:()=>a(!1),className:"block w-full px-6 py-3 bg-gray-900 text-white text-sm font-medium tracking-wider text-center",children:"BOOK NOW"})]}),n.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:n.jsxs("a",{href:"tel:1-800-LUXURY",className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx(Mt,{className:"w-4 h-4"}),n.jsx("span",{children:"1-800-LUXURY"})]})})]})]})})]})]})}function Go(){const t=[{name:"Visa",icon:""},{name:"Mastercard",icon:""},{name:"Amex",icon:""},{name:"PayPal",icon:""},{name:"Apple Pay",icon:""},{name:"Google Pay",icon:"G"}],e=[{icon:Tr,label:"Secure Booking",description:"256-bit SSL Encryption"},{icon:Tt,label:"Data Protection",description:"GDPR Compliant"},{icon:na,label:"Best Price",description:"Guaranteed"},{icon:Mt,label:"24/7 Support",description:"Always Here to Help"}];return n.jsxs("footer",{className:"bg-gradient-to-b from-gray-50 to-white border-t",children:[n.jsx("div",{className:"bg-white border-b",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:e.map(r=>{const s=r.icon;return n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:n.jsx(s,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:r.label}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.description})]})]},r.label)})})})}),n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vibe Hotels"}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Experience luxury redefined. Book from our curated collection of premium hotels worldwide with exclusive member benefits and guaranteed best rates."})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Join Our Newsletter"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Get exclusive deals and travel inspiration"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:n.jsx(Or,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{className:"bg-black text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-800 transition-colors",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs opacity-80",children:"Download on the"}),n.jsx("div",{className:"text-sm font-semibold",children:"App Store"})]})]}),n.jsxs("button",{className:"bg-black text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-800 transition-colors",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs opacity-80",children:"Get it on"}),n.jsx("div",{className:"text-sm font-semibold",children:"Google Play"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Explore"}),n.jsx("ul",{className:"space-y-3",children:["Destinations","Deals & Offers","Weekend Getaways","Business Travel","Luxury Collection","Boutique Hotels"].map(r=>n.jsx("li",{children:n.jsx(ue,{to:"#",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors",children:r})},r))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Services"}),n.jsx("ul",{className:"space-y-3",children:["Rewards Program","Gift Cards","Group Bookings","Meeting Rooms","Wedding Venues","Travel Insurance"].map(r=>n.jsx("li",{children:n.jsx(ue,{to:"#",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors",children:r})},r))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Support"}),n.jsx("ul",{className:"space-y-3",children:["Help Center","Contact Us","Cancel Booking","Modify Booking","FAQs","Feedback"].map(r=>n.jsx("li",{children:n.jsx(ue,{to:"#",className:"text-sm text-gray-600 hover:text-blue-600 transition-colors",children:r})},r))}),n.jsxs("div",{className:"mt-6 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Mt,{className:"h-4 w-4"}),n.jsx("span",{children:"1-888-HOTELS"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(aa,{className:"h-4 w-4"}),n.jsx("span",{children:"support@vibehotels.com"})]})]})]})]}),n.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"We Accept"}),n.jsx("div",{className:"flex items-center gap-3",children:t.map(r=>n.jsx("div",{className:"bg-white border border-gray-200 rounded px-3 py-1 flex items-center justify-center",title:r.name,children:n.jsx("span",{className:"text-lg",children:r.icon})},r.name))})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[n.jsx(Hs,{className:"h-4 w-4"}),n.jsx("span",{children:"English (US)"})]}),n.jsx("button",{className:"text-sm text-gray-600 hover:text-blue-600 transition-colors",children:"$ USD"})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsx("div",{className:"text-xs text-gray-500",children:" 2025 Vibe Hotels International. All rights reserved. Vibe Hotels is a registered trademark."}),n.jsx("div",{className:"flex items-center gap-6 text-xs",children:["Privacy Policy","Terms of Use","Cookie Preferences","Sitemap","Accessibility"].map(r=>n.jsx(ue,{to:"#",className:"text-gray-500 hover:text-blue-600 transition-colors",children:r},r))})]}),n.jsxs("div",{className:"mt-6 flex items-center justify-center gap-8 opacity-50 grayscale",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Our Partners:"}),n.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"TripAdvisor"}),n.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"Kayak"}),n.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"Expedia"}),n.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"Hotels.com"})]})]})]})]})}function Qo({children:t}){return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(Vo,{}),n.jsx("main",{className:"flex-1",children:t}),n.jsx(Go,{})]})}function Pn(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Pn(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Jo(){for(var t,e,r=0,s="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Pn(t))&&(s&&(s+=" "),s+=e);return s}const $r="-",Ko=t=>{const e=Zo(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const c=o.split($r);return c[0]===""&&c.length!==1&&c.shift(),Rn(c,e)||Yo(o)},getConflictingClassGroupIds:(o,c)=>{const m=r[o]||[];return c&&s[o]?[...m,...s[o]]:m}}},Rn=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),a=s?Rn(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join($r);return e.validators.find(({validator:o})=>o(i))?.classGroupId},As=/^\[(.+)\]$/,Yo=t=>{if(As.test(t)){const e=As.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Zo=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return tc(Object.entries(t.classGroups),r).forEach(([i,o])=>{Cr(o,s,i,e)}),s},Cr=(t,e,r,s)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:Is(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(ec(a)){Cr(a(s),e,r,s);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Cr(o,Is(e,i),r,s)})})},Is=(t,e)=>{let r=t;return e.split($r).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},ec=t=>t.isThemeGetter,tc=(t,e)=>e?t.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[e+o,c])):i);return[r,a]}):t,rc=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},An="!",sc=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,a=e[0],i=e.length,o=c=>{const m=[];let d=0,l=0,u;for(let p=0;p<c.length;p++){let y=c[p];if(d===0){if(y===a&&(s||c.slice(p,p+i)===e)){m.push(c.slice(l,p)),l=p+i;continue}if(y==="/"){u=p;continue}}y==="["?d++:y==="]"&&d--}const x=m.length===0?c:c.substring(l),h=x.startsWith(An),g=h?x.substring(1):x,f=u&&u>l?u-l:void 0;return{modifiers:m,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:f}};return r?c=>r({className:c,parseClassName:o}):o},nc=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},ac=t=>({cache:rc(t.cacheSize),parseClassName:sc(t),...Ko(t)}),ic=/\s+/,oc=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(ic);let c="";for(let m=o.length-1;m>=0;m-=1){const d=o[m],{modifiers:l,hasImportantModifier:u,baseClassName:x,maybePostfixModifierPosition:h}=r(d);let g=!!h,f=s(g?x.substring(0,h):x);if(!f){if(!g){c=d+(c.length>0?" "+c:c);continue}if(f=s(x),!f){c=d+(c.length>0?" "+c:c);continue}g=!1}const p=nc(l).join(":"),y=u?p+An:p,w=y+f;if(i.includes(w))continue;i.push(w);const N=a(f,g);for(let R=0;R<N.length;++R){const A=N[R];i.push(y+A)}c=d+(c.length>0?" "+c:c)}return c};function cc(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=In(e))&&(s&&(s+=" "),s+=r);return s}const In=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=In(t[s]))&&(r&&(r+=" "),r+=e);return r};function lc(t,...e){let r,s,a,i=o;function o(m){const d=e.reduce((l,u)=>u(l),t());return r=ac(d),s=r.cache.get,a=r.cache.set,i=c,c(m)}function c(m){const d=s(m);if(d)return d;const l=oc(m,r);return a(m,l),l}return function(){return i(cc.apply(null,arguments))}}const G=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Tn=/^\[(?:([a-z-]+):)?(.+)\]$/i,dc=/^\d+\/\d+$/,uc=new Set(["px","full","screen"]),hc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,je=t=>tt(t)||uc.has(t)||dc.test(t),Re=t=>nt(t,"length",jc),tt=t=>!!t&&!Number.isNaN(Number(t)),ur=t=>nt(t,"number",tt),ut=t=>!!t&&Number.isInteger(Number(t)),yc=t=>t.endsWith("%")&&tt(t.slice(0,-1)),L=t=>Tn.test(t),Ae=t=>hc.test(t),bc=new Set(["length","size","percentage"]),xc=t=>nt(t,bc,On),vc=t=>nt(t,"position",On),wc=new Set(["image","url"]),Sc=t=>nt(t,wc,Ec),kc=t=>nt(t,"",Nc),ht=()=>!0,nt=(t,e,r)=>{const s=Tn.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},jc=t=>mc.test(t)&&!fc.test(t),On=()=>!1,Nc=t=>pc.test(t),Ec=t=>gc.test(t),Cc=()=>{const t=G("colors"),e=G("spacing"),r=G("blur"),s=G("brightness"),a=G("borderColor"),i=G("borderRadius"),o=G("borderSpacing"),c=G("borderWidth"),m=G("contrast"),d=G("grayscale"),l=G("hueRotate"),u=G("invert"),x=G("gap"),h=G("gradientColorStops"),g=G("gradientColorStopPositions"),f=G("inset"),p=G("margin"),y=G("opacity"),w=G("padding"),N=G("saturate"),R=G("scale"),A=G("sepia"),P=G("skew"),z=G("space"),k=G("translate"),j=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",L,e],T=()=>[L,e],K=()=>["",je,Re],C=()=>["auto",tt,L],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",L],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[tt,L];return{cacheSize:500,separator:":",theme:{colors:[ht],spacing:[je,Re],blur:["none","",Ae,L],brightness:M(),borderColor:[t],borderRadius:["none","","full",Ae,L],borderSpacing:T(),borderWidth:K(),contrast:M(),grayscale:E(),hueRotate:M(),invert:E(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[yc,Re],inset:W(),margin:W(),opacity:M(),padding:T(),saturate:M(),scale:M(),sepia:E(),skew:M(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",L]}],container:["container"],columns:[{columns:[Ae]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),L]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ut,L]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",L]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",ut,L]}],"grid-cols":[{"grid-cols":[ht]}],"col-start-end":[{col:["auto",{span:["full",ut,L]},L]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[ht]}],"row-start-end":[{row:["auto",{span:[ut,L]},L]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",L]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",L]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",L,e]}],"min-w":[{"min-w":[L,e,"min","max","fit"]}],"max-w":[{"max-w":[L,e,"none","full","min","max","fit","prose",{screen:[Ae]},Ae]}],h:[{h:[L,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[L,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[L,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[L,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ae,Re]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ur]}],"font-family":[{font:[ht]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",L]}],"line-clamp":[{"line-clamp":["none",tt,ur]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",je,L]}],"list-image":[{"list-image":["none",L]}],"list-style-type":[{list:["none","disc","decimal",L]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",je,Re]}],"underline-offset":[{"underline-offset":["auto",je,L]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",L]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),vc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sc]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[je,L]}],"outline-w":[{outline:[je,Re]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[je,Re]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ae,kc]}],"shadow-color":[{shadow:[ht]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Ae,L]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[u]}],saturate:[{saturate:[N]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",L]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",L]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",L]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[ut,L]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",L]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[je,Re,ur]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Pc=lc(Cc);function Q(...t){return Pc(Jo(t))}const hr={base:"inline-flex items-center justify-center rounded-xl font-semibold transition-all duration-300 transform focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-40 hover:scale-105 active:scale-95 disabled:transform-none",variants:{primary:"bg-gradient-to-r from-slate-800 to-slate-700 text-white hover:from-slate-700 hover:to-slate-600 focus-visible:ring-slate-500 shadow-luxury hover:shadow-luxury-lg",secondary:"bg-gradient-to-r from-amber-600 to-amber-700 text-white hover:from-amber-700 hover:to-amber-800 focus-visible:ring-amber-500 shadow-luxury hover:shadow-luxury-lg",outline:"border-2 border-slate-300 bg-transparent text-slate-700 hover:bg-slate-800 hover:text-white hover:border-slate-800 focus-visible:ring-slate-500 shadow-luxury-sm hover:shadow-luxury",ghost:"hover:bg-slate-100 hover:text-slate-800 focus-visible:ring-slate-400 rounded-lg",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500 shadow-luxury hover:shadow-luxury-lg",accent:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white hover:from-emerald-700 hover:to-emerald-800 focus-visible:ring-emerald-500 shadow-luxury hover:shadow-luxury-lg"},sizes:{sm:"h-9 px-4 text-sm font-medium",md:"h-11 px-6 text-base",lg:"h-14 px-8 text-lg font-bold",icon:"h-9 w-9 p-0"}},ee=I.forwardRef(({className:t,variant:e="primary",size:r="md",loading:s,children:a,disabled:i,...o},c)=>n.jsxs("button",{ref:c,className:Q(hr.base,hr.variants[e],hr.sizes[r],t),disabled:i||s,...o,children:[s&&n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]}));ee.displayName="Button";const we=S.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));we.displayName="Card";const Rc=S.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Q("flex flex-col space-y-1.5 p-6",t),...e}));Rc.displayName="CardHeader";const Ac=S.forwardRef(({className:t,...e},r)=>n.jsx("h3",{ref:r,className:Q("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ac.displayName="CardTitle";const Ic=S.forwardRef(({className:t,...e},r)=>n.jsx("p",{ref:r,className:Q("text-sm text-muted-foreground",t),...e}));Ic.displayName="CardDescription";const Tc=S.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Q("p-6 pt-0",t),...e}));Tc.displayName="CardContent";const Oc=S.forwardRef(({className:t,...e},r)=>n.jsx("div",{ref:r,className:Q("flex items-center p-6 pt-0",t),...e}));Oc.displayName="CardFooter";const Dn=Ur()(Br((t,e)=>({selectedHotel:null,hotelDetails:{},availability:{},cache:{hotels:{},lastUpdated:{}},loading:{},errors:{},setSelectedHotel:r=>t({selectedHotel:r}),setHotelDetails:(r,s)=>t(a=>({hotelDetails:{...a.hotelDetails,[r]:s}})),setAvailability:(r,s)=>t(a=>({availability:{...a.availability,[r]:s}})),setCachedHotel:r=>t(s=>({cache:{...s.cache,hotels:{...s.cache.hotels,[r.id]:r},lastUpdated:{...s.cache.lastUpdated,[r.id]:new Date().toISOString()}}})),setLoading:(r,s)=>t(a=>({loading:{...a.loading,[r]:s}})),setError:(r,s)=>t(a=>({errors:{...a.errors,[r]:s||""}})),clearCache:()=>t({cache:{hotels:{},lastUpdated:{}}}),getCachedHotel:r=>e().cache.hotels[r]||null,isHotelCached:(r,s=300*1e3)=>{const i=e().cache.lastUpdated[r];return i?Date.now()-new Date(i).getTime()<s:!1}}),{name:"HotelStore"})),Dc=({hotel:t,isLoading:e=!1,onBookRoom:r,onBackToResults:s,className:a=""})=>{const i=Ir(),{selectedHotel:o,loading:c,setSelectedHotel:m}=Dn(),{selectedDateRange:d,guestCount:l}=zr(),u=t||o,x=e||c,[h,g]=I.useState(0),[f,p]=I.useState("rooms"),[y,w]=I.useState(!1),N=k=>n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((j,_)=>n.jsx(es,{className:Q("w-5 h-5",_<Math.floor(k)?"text-yellow-400 fill-current":"text-gray-300")},_)),n.jsx("span",{className:"ml-2 text-lg font-medium text-gray-700 dark:text-gray-300",children:k.toFixed(1)})]}),R=k=>k>=.8?"from-purple-500 to-pink-500":k>=.6?"from-secondary-500 to-purple-500":k>=.4?"from-accent-500 to-secondary-500":"from-gray-400 to-gray-500",A=(k,j="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:j}).format(k);if(!u)return n.jsx("div",{className:Q("text-center py-12",a),children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx(et,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Hotel not found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The hotel you're looking for doesn't exist or has been removed."}),n.jsx(ee,{onClick:s,variant:"outline",children:"Back to Results"})]})});if(x)return n.jsxs("div",{className:Q("animate-pulse space-y-6",a),children:[n.jsx("div",{className:"h-96 bg-gray-300 dark:bg-gray-600 rounded-lg"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-1/2"}),n.jsx("div",{className:"h-32 bg-gray-300 dark:bg-gray-600 rounded"})]})]});const P=u.passionScore?Math.max(...Object.values(u.passionScore)):0,z=d.checkIn&&d.checkOut?Math.ceil((new Date(d.checkOut).getTime()-new Date(d.checkIn).getTime())/(1e3*60*60*24)):1;return n.jsxs("div",{className:Q("max-w-7xl mx-auto",a),children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s&&n.jsxs(ee,{onClick:s,variant:"ghost",className:"text-primary-600 hover:text-primary-800",children:[n.jsx(ia,{className:"w-5 h-5 mr-2"}),"Back to Results"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[P>.6&&n.jsxs("div",{className:Q("bg-gradient-to-r text-white px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1",R(P)),children:[n.jsx(oa,{className:"w-4 h-4"}),Math.round(P*100),"% Passion Match"]}),u.sustainabilityScore&&u.sustainabilityScore>.8&&n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1",children:[n.jsx(Zr,{className:"w-4 h-4"}),"Eco-Friendly"]}),n.jsx(ee,{variant:"outline",size:"icon",children:n.jsx(ca,{className:"w-4 h-4"})}),n.jsx(ee,{variant:"outline",size:"icon",children:n.jsx(la,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"relative mb-8",children:[y?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:u.images.map((k,j)=>n.jsx("div",{className:"relative group cursor-pointer",children:n.jsx("img",{src:k.url,alt:k.alt,className:"w-full h-48 object-cover rounded-lg group-hover:opacity-80 transition-opacity",onClick:()=>{g(j),w(!1)},onError:_=>{_.target.src="/placeholder-hotel.jpg"}})},j))}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"lg:col-span-3 relative group",children:[n.jsx("img",{src:u.images[h]?.url||"/placeholder-hotel.jpg",alt:u.images[h]?.alt||u.name,className:"w-full h-96 object-cover rounded-lg",onError:k=>{k.target.src="/placeholder-hotel.jpg"}}),u.images.length>1&&n.jsxs(n.Fragment,{children:[n.jsx(ee,{variant:"secondary",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>g(h>0?h-1:u.images.length-1),children:n.jsx(qs,{className:"w-5 h-5"})}),n.jsx(ee,{variant:"secondary",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>g(h<u.images.length-1?h+1:0),children:n.jsx(Or,{className:"w-5 h-5"})})]}),u.virtualTourUrl&&n.jsxs(ee,{variant:"secondary",className:"absolute bottom-4 left-4 bg-black/50 hover:bg-black/70 text-white",onClick:()=>window.open(u.virtualTourUrl,"_blank"),children:[n.jsx(da,{className:"w-4 h-4 mr-2"}),"Virtual Tour"]}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-2 py-1 rounded text-sm",children:[h+1," / ",u.images.length]})]}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-1 gap-2",children:u.images.slice(1,4).map((k,j)=>n.jsxs("div",{className:"relative group cursor-pointer",children:[n.jsx("img",{src:k.url,alt:k.alt,className:"w-full h-28 lg:h-32 object-cover rounded-lg group-hover:opacity-80 transition-opacity",onClick:()=>g(j+1),onError:_=>{_.target.src="/placeholder-hotel.jpg"}}),j===2&&u.images.length>4&&n.jsxs("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center text-white font-medium cursor-pointer",onClick:()=>w(!0),children:[n.jsx(ua,{className:"w-5 h-5 mr-2"}),"View All ",u.images.length," Photos"]})]},j+1))})]}),y&&n.jsxs(ee,{onClick:()=>w(!1),variant:"outline",className:"mt-4",children:[n.jsx(pt,{className:"w-4 h-4 mr-2"}),"Close Gallery"]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-3",children:u.name}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 mb-3",children:[n.jsx(et,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-lg",children:[u.location.address,", ",u.location.city,","," ",u.location.country]})]}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[N(u.rating),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["(",u.reviewCount.toLocaleString()," reviews)"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pr,{className:"w-4 h-4"}),"Check-in: ",u.checkInTime]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pr,{className:"w-4 h-4"}),"Check-out: ",u.checkOutTime]})]})]}),n.jsxs(we,{className:"w-full lg:w-96 p-6 lg:sticky lg:top-6",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"From"}),n.jsx("div",{className:"text-3xl font-bold text-primary-600",children:A(u.priceRange.avgNightly,u.priceRange.currency)}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"per night"}),z>1&&n.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mt-2",children:["Total:"," ",A(u.priceRange.avgNightly*z,u.priceRange.currency)]})]}),d.checkIn&&d.checkOut&&n.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Check-in"}),n.jsx("div",{className:"font-medium",children:d.checkIn})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Check-out"}),n.jsx("div",{className:"font-medium",children:d.checkOut})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Guests"}),n.jsxs("div",{className:"font-medium",children:[l.adults," adults",l.children>0&&`, ${l.children} children`,"  ",l.rooms," room",l.rooms>1?"s":""]})]})]})}),n.jsxs(ee,{className:"w-full mb-3",size:"lg",onClick:()=>{u&&(m(u),i("/booking"))},children:[n.jsx(gt,{className:"w-4 h-4 mr-2"}),"Book Now"]}),n.jsxs(ee,{variant:"outline",className:"w-full",children:[n.jsx($s,{className:"w-4 h-4 mr-2"}),"View Rooms"]})]})]})}),n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-8",children:n.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:null},{id:"rooms",label:"Rooms & Rates",icon:null},{id:"amenities",label:"Amenities",icon:null},{id:"location",label:"Location",icon:et},{id:"reviews",label:"Reviews",icon:es}].map(k=>n.jsxs("button",{onClick:()=>p(k.id),className:Q("flex items-center gap-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap",f===k.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:[k.icon&&n.jsx(k.icon,{className:"w-4 h-4"}),k.label]},k.id))})}),n.jsxs("div",{className:"mb-8",children:[f==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"About This Hotel"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 leading-relaxed",children:u.fullDescription||u.description}),u.passionScore&&Object.keys(u.passionScore).length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Perfect For"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(u.passionScore).filter(([k,j])=>j>.3).sort(([k,j],[_,W])=>W-j).map(([k,j])=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:k.replace(/([A-Z])/g," $1").trim()}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:n.jsx("div",{className:Q("h-full bg-gradient-to-r transition-all duration-500 passion-bar",R(j)),"data-width":j*100})}),n.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[Math.round(j*100),"%"]})]})]},k))})]}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Hotel Policies"}),n.jsx("div",{className:"space-y-3",children:u.policies.map((k,j)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[k.type==="cancellation"?n.jsx(Tr,{className:"w-5 h-5 text-secondary-500 mt-0.5 flex-shrink-0"}):n.jsx(Ws,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:k.title}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:k.description})]})]},j))})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(we,{className:"p-6",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Check-in Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Check-in:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:u.checkInTime})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Check-out:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:u.checkOutTime})]})]})]}),u.sustainabilityScore&&u.sustainabilityScore>.5&&n.jsxs(we,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(Zr,{className:"w-6 h-6 text-green-500"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sustainability"})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 transition-all duration-500 passion-bar","data-width":u.sustainabilityScore*100})}),n.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[Math.round(u.sustainabilityScore*100),"%"]})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This hotel has green certifications and follows sustainable practices."})]})]})]}),f==="rooms"&&n.jsx("div",{className:"grid gap-6",children:u.rooms.map(k=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"lg:w-1/3",children:n.jsx("img",{src:k.images[0]||"/placeholder-room.jpg",alt:k.name,className:"w-full h-48 object-cover rounded-lg",onError:j=>{j.target.src="/placeholder-room.jpg"}})}),n.jsxs("div",{className:"lg:w-2/3",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-semibold mb-2",children:k.name}),n.jsx("p",{className:"text-gray-600 mb-2",children:k.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[n.jsxs("span",{children:[" Up to ",k.capacity," guests"]}),n.jsxs("span",{children:[" ",k.type]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-secondary-600",children:A(k.price,k.currency)}),n.jsx("div",{className:"text-sm text-gray-500",children:"per night"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"font-medium mb-2",children:"Room Amenities:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:k.amenities.map((j,_)=>n.jsx("span",{className:"px-2 py-1 bg-secondary-100 text-secondary-800 text-sm rounded-full",children:j},_))})]}),n.jsx("button",{onClick:()=>r&&r(k.id),disabled:!k.availability,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k.availability?"Book This Room":"Not Available"})]})]})},k.id))}),f==="amenities"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(u.amenities.reduce((k,j)=>(k[j.category]||(k[j.category]=[]),k[j.category].push(j),k),{})).map(([k,j])=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("h4",{className:"text-lg font-semibold mb-4 capitalize",children:[k.replace("_"," ")," Amenities"]}),n.jsx("div",{className:"space-y-3",children:j.map(_=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-2xl mr-3",children:_.icon}),n.jsx("span",{className:"text-gray-700",children:_.name})]},_.id))})]},k))}),f==="location"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Nearby Attractions"}),n.jsx("div",{className:"space-y-3",children:u.nearbyAttractions.map((k,j)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:k.name}),n.jsx("div",{className:"text-sm text-gray-600",children:k.type})]}),n.jsx("div",{className:"text-sm font-medium text-secondary-600",children:k.distance})]},j))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Map Location"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"Interactive Map Coming Soon"})}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[n.jsx("strong",{children:"Address:"})," ",u.location.address,", ",u.location.city,","," ",u.location.country]})]})]})]})]})},_c=I.memo(Dc);function Lc(){const{id:t}=Kn();return t?n.jsx("div",{className:"min-h-screen",children:n.jsx(_c,{})}):n.jsx("div",{children:"Hotel not found"})}const ze={base:"flex w-full rounded-md border bg-background text-foreground px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",variants:{default:"border-input",outline:"border-gray-300 focus:border-primary-500",filled:"bg-gray-50 border-transparent focus:bg-white focus:border-primary-500"},sizes:{sm:"h-8 px-2 text-xs",md:"h-10 px-3 text-sm",lg:"h-12 px-4 text-base"}},he=I.forwardRef(({className:t,variant:e="default",size:r="md",type:s,label:a,error:i,hint:o,id:c,name:m,...d},l)=>{const u=I.useId(),x=c||u,h=m||x;return a?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{htmlFor:x,className:"text-sm font-medium text-foreground",children:[a,d.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{id:x,name:h,type:s,className:Q(ze.base,ze.variants[e],ze.sizes[r],i&&"border-red-500 focus:border-red-500 focus:ring-red-500",t),ref:l,"aria-invalid":!!i,"aria-describedby":i?`${x}-error`:o?`${x}-hint`:void 0,...d}),i&&n.jsx("p",{id:`${x}-error`,className:"text-sm text-red-500 mt-1",children:i}),o&&!i&&n.jsx("p",{id:`${x}-hint`,className:"text-sm text-gray-500 mt-1",children:o})]}):n.jsxs(n.Fragment,{children:[n.jsx("input",{id:x,name:h,type:s,className:Q(ze.base,ze.variants[e],ze.sizes[r],i&&"border-red-500 focus:border-red-500 focus:ring-red-500",t),ref:l,"aria-invalid":!!i,"aria-describedby":i?`${x}-error`:o?`${x}-hint`:void 0,...d}),i&&n.jsx("p",{id:`${x}-error`,className:"text-sm text-red-500 mt-1",children:i}),o&&!i&&n.jsx("p",{id:`${x}-hint`,className:"text-sm text-gray-500 mt-1",children:o})]})});he.displayName="Input";class We{static instance;config=null;constructor(){this.initializeConfig()}static getInstance(){return We.instance||(We.instance=new We),We.instance}initializeConfig(){const e="sandbox-sq0idb-xxx_REPLACE_WITH_YOUR_APP_ID",r="REPLACE_WITH_YOUR_LOCATION_ID",s=e.startsWith("sandbox-")?"sandbox":"production";this.config={applicationId:e,locationId:r,environment:s,isConfigured:!0},this.validateConfig()}validateConfig(){if(!this.config)return;const{applicationId:e,environment:r}=this.config,s=e.startsWith("sandbox-")?"sandbox":"production";r!==s&&console.error("Square configuration mismatch: environment and application ID don't match"),r==="sandbox"&&!e.startsWith("sandbox-sq0idb-")&&console.error("Invalid sandbox application ID format"),r==="production"&&!e.startsWith("sq0idb-")&&console.error("Invalid production application ID format"),console.info(`Square ${r} environment configured successfully`)}getConfig(){return this.config}isConfigured(){return this.config?.isConfigured??!1}getEnvironment(){return this.config?.environment??null}isPlaceholder(){return this.config?this.config.applicationId.includes("XXXXXXXX")||this.config.locationId.includes("XXXXXXXX")||this.config.applicationId==="sandbox-sq0idb-XXXXXXXXXXXXXXXXXXXXXXXX"||this.config.locationId==="LXXXXXXXXXXXXXXXX":!0}isProduction(){return this.config?.environment==="production"}isSandbox(){return this.config?.environment==="sandbox"}getSquareSDKUrl(){return this.getEnvironment()==="production"?"https://web.squarecdn.com/v1/square.js":"https://sandbox.web.squarecdn.com/v1/square.js"}async validateSDK(){return new Promise(e=>{if(typeof window<"u"&&window.Square){e({isLoaded:!0});return}let r=0;const s=50,a=()=>{r++,window.Square?e({isLoaded:!0}):r>=s?e({isLoaded:!1,error:"Square Web SDK failed to load. Check your internet connection and Square configuration."}):setTimeout(a,200)};a()})}getDemoModeMessage(){return this.isConfigured()?null:`Demo payment mode active. To enable real Square payments:
1. Set VITE_SQUARE_APPLICATION_ID in your .env file
2. Set VITE_SQUARE_LOCATION_ID in your .env file
3. Restart the development server`}getTestCards(){return this.isSandbox()?[{name:"Visa Success",number:"4111111111111111",description:"Always successful payment"},{name:"Mastercard Success",number:"5555555555554444",description:"Always successful payment"},{name:"American Express Success",number:"378282246310005",description:"Always successful payment"},{name:"Generic Decline",number:"4000000000000002",description:"Always declined"},{name:"Insufficient Funds",number:"4000000000009995",description:"Declined - insufficient funds"},{name:"Lost Card",number:"4000000000009987",description:"Declined - lost card"}]:[]}}const De=We.getInstance();class Xe{static instance;constructor(){}static getInstance(){return Xe.instance||(Xe.instance=new Xe),Xe.instance}async processPayment(e){try{return this.shouldUseDemoMode()?this.processDemoPayment(e):this.processRealPayment(e)}catch(r){return b.warn("Payment processing failed, falling back to demo mode",{component:"SquarePaymentManager",method:"processPayment",bookingId:e.bookingId,amount:e.amount,currency:e.currency,error:r instanceof Error?r.message:"Unknown error",fallbackStrategy:"demo_payment"}),this.processDemoPayment(e)}}shouldUseDemoMode(){const r=De.isConfigured()&&!this.isPlaceholderCredentials();return!0}isPlaceholderCredentials(){const e=De.getConfig();return e?e.applicationId.includes("XXXXXXXX")||e.locationId.includes("XXXXXXXX")||e.applicationId==="sandbox-sq0idb-XXXXXXXXXXXXXXXXXXXXXXXX"||e.locationId==="LXXXXXXXXXXXXXXXX":!0}async processRealPayment(e){const s=await fetch("https://api.vibehotels.com/api/payments/create",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error(`Payment API error: ${s.status} ${s.statusText}`);const a=await s.json();if(a.success)return{success:!0,paymentId:a.paymentId,receiptUrl:a.receiptUrl,isDemoPayment:!1};throw new Error(a.errorMessage||"Payment processing failed")}async processDemoPayment(e){b.info("Processing demo payment for development/testing",{component:"SquarePaymentManager",method:"processDemoPayment",bookingId:e.bookingId,amount:e.amount,currency:e.currency,isDemoMode:!0}),await new Promise(s=>setTimeout(s,2e3));const r=this.getDemoPaymentOutcome(e);if(r.success){const s=`demo_payment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=`https://demo.vibe-hotels.com/receipt/${s}`;return b.info("Demo payment completed successfully",{component:"SquarePaymentManager",paymentId:s,bookingId:e.bookingId,amount:e.amount,currency:e.currency,isDemoPayment:!0}),{success:!0,paymentId:s,receiptUrl:a,isDemoPayment:!0}}else return b.info("Demo payment declined for testing scenario",{component:"SquarePaymentManager",bookingId:e.bookingId,amount:e.amount,currency:e.currency,declineReason:r.reason,isDemoPayment:!0}),{success:!1,paymentId:"",errorMessage:r.reason,isDemoPayment:!0}}getDemoPaymentOutcome(e){if(e.amount<1)return{success:!1,reason:"Amount too small - minimum $1.00 required"};if(e.amount>1e4)return{success:!1,reason:"Amount exceeds daily limit"};if(Math.random()<.05){const r=["Card declined - insufficient funds","Card expired - please use a different card","Payment blocked by bank - contact your bank","Network timeout - please try again"];return{success:!1,reason:r[Math.floor(Math.random()*r.length)]}}return{success:!0}}getPaymentStatusMessage(e,r){return e&&!r?" Demo Payment Mode - Safe testing environment. No real charges will occur.":e&&r?" Demo Payment Mode - Real payments unavailable. Contact support to enable live payments.":" Secure Payment Processing - Your payment will be processed securely by Square."}getTestCardSuggestions(){return De.isSandbox()?De.getTestCards():[]}validatePaymentRequest(e){const r=[];return!e.sourceId&&!this.shouldUseDemoMode()&&r.push("Payment method is required"),(!e.amount||e.amount<=0)&&r.push("Amount must be greater than $0.00"),e.amount<.5&&r.push("Minimum payment amount is $0.50"),e.amount>999999.99&&r.push("Maximum payment amount is $999,999.99"),e.bookingId?.trim()||r.push("Booking ID is required"),e.currency&&!["USD","CAD","GBP","EUR","AUD"].includes(e.currency)&&r.push("Unsupported currency"),{valid:r.length===0,errors:r}}formatCurrency(e,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r,minimumFractionDigits:2}).format(e)}}const $e=Xe.getInstance(),Hr=I.memo(({bookingId:t,amount:e,currency:r="USD",onSuccess:s,onError:a,bookingDetails:i})=>{const[o,c]=I.useState(!0),[m,d]=I.useState(!1),[l,u]=I.useState(null),[x,h]=I.useState(!1),[g,f]=I.useState(!1),[p,y]=I.useState(null),[w,N]=I.useState({firstName:"",lastName:"",email:"",addressLine1:"",addressLine2:"",locality:"",administrativeDistrictLevel1:"",postalCode:"",country:"US"}),R=I.useCallback(async()=>{try{c(!0),u(null);const j=!0,_=De.isConfigured()&&!De.isPlaceholder();if(j||!_){f(!0),c(!1),b.info("Demo payment mode enabled - safe testing environment",{component:"SquarePaymentForm"});return}const W=De.getConfig();if(!W)throw new Error("Square configuration not available");if(!window.Square)throw new Error("Square Web SDK not loaded");const K=await window.Square.payments(W.applicationId,W.locationId).card({style:{input:{fontSize:"16px",fontFamily:"Inter, system-ui, sans-serif",color:"#374151",lineHeight:"24px"},".input-container":{borderRadius:"8px",borderWidth:"1px",borderColor:"#D1D5DB",backgroundColor:"#FFFFFF"},".input-container.is-focus":{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"},".input-container.is-error":{borderColor:"#EF4444"}}});await K.attach("#card-container"),y(K),f(!1),b.info("Square Web SDK initialized successfully",{component:"SquarePaymentForm"})}catch(j){b.warn("Square initialization failed, using demo mode",{component:"SquarePaymentForm",error:j}),f(!0),u(null)}finally{c(!1)}},[]);I.useEffect(()=>{R()},[R]);const A=async j=>{j.preventDefault(),d(!0),u(null);try{let _="";if(!g&&p){const C=await p.tokenize();if(C.status==="OK"&&C.token)_=C.token;else throw new Error(C.errors?.[0]?.message||"Payment tokenization failed")}const W={sourceId:_,amount:e,currency:r,bookingId:t,billingAddress:{firstName:w.firstName,lastName:w.lastName,addressLine1:w.addressLine1,addressLine2:w.addressLine2,locality:w.locality,administrativeDistrictLevel1:w.administrativeDistrictLevel1,postalCode:w.postalCode,country:w.country},metadata:{email:w.email,customerName:`${w.firstName} ${w.lastName}`,bookingSource:"vibe-hotels-website"}},T=$e.validatePaymentRequest(W);if(!T.valid)throw new Error(T.errors.join(", "));const K=await $e.processPayment(W);if(K.success)h(!0),K.isDemoPayment?b.info("Demo payment completed successfully",{component:"SquarePaymentForm",paymentId:K.paymentId,amount:e}):b.info("Real Square payment completed successfully",{component:"SquarePaymentForm",paymentId:K.paymentId,amount:e}),setTimeout(()=>{s({paymentId:K.paymentId,receiptUrl:K.receiptUrl})},2e3);else throw new Error(K.errorMessage||"Payment processing failed")}catch(_){b.error("Payment processing error",_,{component:"SquarePaymentForm",bookingId:t,amount:e,isDemoMode:g});const W=_ instanceof Error?_.message:"Payment processing failed";u(W),a(_ instanceof Error?_:new Error(W))}finally{d(!1)}},P=(j,_)=>{N(W=>({...W,[j]:_}))};if(o)return n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(gr,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),n.jsx("p",{className:"text-gray-600",children:"Loading secure payment form..."})]})});if(x)return n.jsx("div",{className:"max-w-md mx-auto",children:n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[n.jsx(ha,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-green-900 mb-2",children:"Payment Successful!"}),n.jsx("p",{className:"text-green-700",children:"Your booking has been confirmed."})]})});const z=$e.getPaymentStatusMessage(g,!0),k=$e.getTestCardSuggestions();return n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("form",{onSubmit:A,className:"space-y-6",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Tr,{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:"Payment Security"}),n.jsx("p",{className:"text-sm text-blue-700",children:z}),g&&k.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-xs text-blue-600 font-medium mb-2",children:"Test Card Numbers:"}),n.jsx("div",{className:"space-y-1",children:k.map((j,_)=>n.jsxs("div",{className:"text-xs text-blue-600",children:[n.jsxs("strong",{children:[j.name,":"]})," ",j.number," - ",j.description]},_))})]})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(yr,{className:"h-5 w-5 mr-2"}),"Billing Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(he,{type:"text",placeholder:"First Name",value:w.firstName,onChange:j=>P("firstName",j.target.value),required:!0,className:"w-full"}),n.jsx(he,{type:"text",placeholder:"Last Name",value:w.lastName,onChange:j=>P("lastName",j.target.value),required:!0,className:"w-full"})]}),n.jsx(he,{type:"email",placeholder:"Email Address",value:w.email,onChange:j=>P("email",j.target.value),required:!0,className:"w-full"}),n.jsx(he,{type:"text",placeholder:"Street Address",value:w.addressLine1,onChange:j=>P("addressLine1",j.target.value),required:!0,className:"w-full"}),n.jsx(he,{type:"text",placeholder:"Apt, Suite, etc. (Optional)",value:w.addressLine2,onChange:j=>P("addressLine2",j.target.value),className:"w-full"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(he,{type:"text",placeholder:"City",value:w.locality,onChange:j=>P("locality",j.target.value),required:!0,className:"w-full"}),n.jsx(he,{type:"text",placeholder:"State",value:w.administrativeDistrictLevel1,onChange:j=>P("administrativeDistrictLevel1",j.target.value),required:!0,className:"w-full"}),n.jsx(he,{type:"text",placeholder:"ZIP Code",value:w.postalCode,onChange:j=>P("postalCode",j.target.value),required:!0,className:"w-full"})]})]}),!g&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Tt,{className:"h-5 w-5 mr-2"}),"Payment Method"]}),n.jsx("div",{id:"card-container",className:"border border-gray-300 rounded-lg p-3 min-h-[50px] bg-white",style:{minHeight:"50px"}})]}),g&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Tt,{className:"h-5 w-5 mr-2"}),"Demo Payment Method"]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Demo mode - no real payment will be processed. All test transactions will succeed."}),n.jsx("div",{className:"flex items-center justify-center py-4 border-2 border-dashed border-gray-300 rounded-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(yr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Demo Payment Processing"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Safe testing environment"})]})})]})]}),l&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Xs,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Payment Error"}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[i&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Hotel:"}),n.jsx("span",{className:"text-gray-900",children:i.hotelName})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Check-in:"}),n.jsx("span",{className:"text-gray-900",children:i.checkIn})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Check-out:"}),n.jsx("span",{className:"text-gray-900",children:i.checkOut})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Guests:"}),n.jsx("span",{className:"text-gray-900",children:i.guests})]}),n.jsx("hr",{className:"border-gray-300"})]}),n.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[n.jsx("span",{className:"text-gray-900",children:"Total:"}),n.jsx("span",{className:"text-gray-900",children:$e.formatCurrency(e,r)})]})]})]}),n.jsx(ee,{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",children:m?n.jsxs(n.Fragment,{children:[n.jsx(gr,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Processing Payment..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Tt,{className:"h-5 w-5"}),n.jsxs("span",{children:["Complete Payment - ",$e.formatCurrency(e,r)]})]})})]})})});Hr.displayName="SquarePaymentForm";const Mc=Object.freeze(Object.defineProperty({__proto__:null,SquarePaymentForm:Hr},Symbol.toStringTag,{value:"Module"})),Ts={firstName:"",lastName:"",email:"",phone:"",adults:2,children:0,specialRequests:"",preferences:{bedType:"any",floor:"any",roomType:"any",smokingAllowed:!1}},Os={cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",billingAddress:{street:"",city:"",state:"",zipCode:"",country:""},saveCard:!1},mt=["room-selection","guest-details","payment","confirmation"],Fc=Ur()(Br(Cn((t,e)=>({currentStep:"room-selection",guestDetails:Ts,selectedRoom:null,paymentInfo:Os,confirmation:null,errors:{},loading:!1,setCurrentStep:r=>t({currentStep:r}),setGuestDetails:r=>t(s=>({guestDetails:{...s.guestDetails,...r}})),setSelectedRoom:r=>t({selectedRoom:r}),setPaymentInfo:r=>t(s=>({paymentInfo:{...s.paymentInfo,...r}})),setConfirmation:r=>t({confirmation:r}),setErrors:r=>t({errors:r}),setLoading:r=>t({loading:r}),clearBooking:()=>t({currentStep:"room-selection",guestDetails:Ts,selectedRoom:null,paymentInfo:Os,confirmation:null,errors:{},loading:!1}),nextStep:()=>{const{currentStep:r}=e(),s=mt.indexOf(r);s<mt.length-1&&t({currentStep:mt[s+1]})},previousStep:()=>{const{currentStep:r}=e(),s=mt.indexOf(r);s>0&&t({currentStep:mt[s-1]})},validateCurrentStep:()=>{const{currentStep:r,selectedRoom:s,guestDetails:a,paymentInfo:i}=e();let o=!0;const c={};switch(r){case"room-selection":s||(c.room="Please select a room",o=!1);break;case"guest-details":a.firstName||(c.firstName="First name is required",o=!1),a.lastName||(c.lastName="Last name is required",o=!1),a.email||(c.email="Email is required",o=!1),a.phone||(c.phone="Phone number is required",o=!1);break;case"payment":i.cardNumber||(c.cardNumber="Card number is required",o=!1),i.expiryDate||(c.expiryDate="Expiry date is required",o=!1),i.cvv||(c.cvv="CVV is required",o=!1),i.cardholderName||(c.cardholderName="Cardholder name is required",o=!1);break}return t({errors:c}),o}}),{name:"booking-store",partialize:t=>({guestDetails:t.guestDetails,selectedRoom:t.selectedRoom,currentStep:t.currentStep})}),{name:"BookingStore"})),mr="https://api.vibehotels.com";class Uc{token=null;user=null;constructor(){this.token=localStorage.getItem("authToken");const e=localStorage.getItem("user");e&&(this.user=JSON.parse(e)),this.token&&(U.defaults.headers.common.Authorization=`Bearer ${this.token}`)}async register(e,r,s,a){try{const i=await U.post(`${mr}/api/auth/register`,{email:e,password:r,firstName:s,lastName:a,acceptTerms:!0});return i.data.success&&this.setAuth(i.data.data.accessToken,i.data.data.user),{success:i.data.success,token:i.data.data.accessToken,user:i.data.data.user}}catch(i){throw new Error(i.response?.data?.error||"Registration failed")}}async login(e,r){try{const s=await U.post(`${mr}/api/auth/login`,{email:e,password:r});return s.data.success&&this.setAuth(s.data.data.accessToken,s.data.data.user),{success:s.data.success,token:s.data.data.accessToken,user:s.data.data.user}}catch(s){throw new Error(s.response?.data?.error||"Login failed")}}async getCurrentUser(){if(!this.token)return null;try{const e=await U.get(`${mr}/api/auth/me`);return e.data.success?(this.user=e.data.data.user,localStorage.setItem("user",JSON.stringify(this.user)),this.user):null}catch{return this.logout(),null}}setAuth(e,r){this.token=e,this.user=r,localStorage.setItem("authToken",e),localStorage.setItem("user",JSON.stringify(r)),U.defaults.headers.common.Authorization=`Bearer ${e}`}logout(){this.token=null,this.user=null,localStorage.removeItem("authToken"),localStorage.removeItem("user"),delete U.defaults.headers.common.Authorization}isAuthenticated(){return!!this.token}getUser(){return this.user}getToken(){return this.token}isAdmin(){return this.user?.role==="admin"}}const He=new Uc,_n=I.createContext(void 0),Bc=({children:t})=>{const[e,r]=I.useState(null),[s,a]=I.useState(!0);I.useEffect(()=>{(async()=>{try{if(a(!0),He.isAuthenticated()){const u=await He.getCurrentUser();r(u),b.info("User session restored",{component:"AuthProvider",userId:u?.id,email:u?.email})}}catch(u){b.warn("Failed to restore user session",{component:"AuthProvider",error:u instanceof Error?u.message:"Unknown error"}),He.logout(),r(null)}finally{a(!1)}})()},[]);const d={user:e,isAuthenticated:!!e,isLoading:s,login:async(l,u)=>{try{const x=await He.login(l,u);if(x.success)r(x.user),b.info("User logged in successfully",{component:"AuthProvider",userId:x.user.id,email:x.user.email});else throw new Error("Login failed")}catch(x){throw b.error("Login failed",{component:"AuthProvider",email:l,error:x instanceof Error?x.message:"Unknown error"}),x}},register:async(l,u,x,h)=>{try{const g=await He.register(l,u,x,h);if(g.success)r(g.user),b.info("User registered successfully",{component:"AuthProvider",userId:g.user.id,email:g.user.email});else throw new Error("Registration failed")}catch(g){throw b.error("Registration failed",{component:"AuthProvider",email:l,error:g instanceof Error?g.message:"Unknown error"}),g}},logout:()=>{try{b.info("User logging out",{component:"AuthProvider",userId:e?.id,email:e?.email}),He.logout(),r(null)}catch(l){b.error("Logout failed",{component:"AuthProvider",error:l instanceof Error?l.message:"Unknown error"})}},updateUser:l=>{if(e){const u={...e,...l};r(u),localStorage.setItem("user",JSON.stringify(u)),b.info("User data updated",{component:"AuthProvider",userId:e.id,updatedFields:Object.keys(l)})}}};return n.jsx(_n.Provider,{value:d,children:t})},zc=()=>{const t=I.useContext(_n);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};var $c=t=>{switch(t){case"success":return Wc;case"info":return Vc;case"warning":return Xc;case"error":return Gc;default:return null}},Hc=Array(12).fill(0),qc=({visible:t,className:e})=>S.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},S.createElement("div",{className:"sonner-spinner"},Hc.map((r,s)=>S.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Wc=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xc=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Vc=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Gc=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},S.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Qc=S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},S.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Jc=()=>{let[t,e]=S.useState(document.hidden);return S.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Pr=1,Kc=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...s}=t,a=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Pr++,i=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:o,title:r}):c):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),a=r!==void 0,i,o=s.then(async m=>{if(i=["resolve",m],S.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(Zc(m)&&!m.ok){a=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${m.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${m.status}`):e.description;this.create({id:r,type:"error",message:d,description:l})}else if(e.success!==void 0){a=!1;let d=typeof e.success=="function"?await e.success(m):e.success,l=typeof e.description=="function"?await e.description(m):e.description;this.create({id:r,type:"success",message:d,description:l})}}).catch(async m=>{if(i=["reject",m],e.error!==void 0){a=!1;let d=typeof e.error=="function"?await e.error(m):e.error,l=typeof e.description=="function"?await e.description(m):e.description;this.create({id:r,type:"error",message:d,description:l})}}).finally(()=>{var m;a&&(this.dismiss(r),r=void 0),(m=e.finally)==null||m.call(e)}),c=()=>new Promise((m,d)=>o.then(()=>i[0]==="reject"?d(i[1]):m(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,e)=>{let r=e?.id||Pr++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oe=new Kc,Yc=(t,e)=>{let r=e?.id||Pr++;return oe.addToast({title:t,...e,id:r}),r},Zc=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",el=Yc,tl=()=>oe.toasts,rl=()=>oe.getActiveToasts(),ne=Object.assign(el,{success:oe.success,info:oe.info,warning:oe.warning,error:oe.error,custom:oe.custom,message:oe.message,promise:oe.promise,dismiss:oe.dismiss,loading:oe.loading},{getHistory:tl,getToasts:rl});function sl(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}sl(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function It(t){return t.label!==void 0}var nl=3,al="32px",il="16px",Ds=4e3,ol=356,cl=14,ll=20,dl=200;function xe(...t){return t.filter(Boolean).join(" ")}function ul(t){let[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}var hl=t=>{var e,r,s,a,i,o,c,m,d,l,u;let{invert:x,toast:h,unstyled:g,interacting:f,setHeights:p,visibleToasts:y,heights:w,index:N,toasts:R,expanded:A,removeToast:P,defaultRichColors:z,closeButton:k,style:j,cancelButtonStyle:_,actionButtonStyle:W,className:T="",descriptionClassName:K="",duration:C,position:$,gap:Y,loadingIcon:te,expandByDefault:re,classNames:E,icons:H,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:F}=t,[B,X]=S.useState(null),[V,Me]=S.useState(null),[Z,Qt]=S.useState(!1),[at,Nt]=S.useState(!1),[it,Jt]=S.useState(!1),[qr,Ln]=S.useState(!1),[Mn,Wr]=S.useState(!1),[Fn,Kt]=S.useState(0),[Un,Xr]=S.useState(0),ot=S.useRef(h.duration||C||Ds),Vr=S.useRef(null),Ie=S.useRef(null),Bn=N===0,zn=N+1<=y,me=h.type,Fe=h.dismissible!==!1,$n=h.className||"",Hn=h.descriptionClassName||"",Et=S.useMemo(()=>w.findIndex(O=>O.toastId===h.id)||0,[w,h.id]),qn=S.useMemo(()=>{var O;return(O=h.closeButton)!=null?O:k},[h.closeButton,k]),Gr=S.useMemo(()=>h.duration||C||Ds,[h.duration,C]),Yt=S.useRef(0),Ue=S.useRef(0),Qr=S.useRef(0),Be=S.useRef(null),[Wn,Xn]=$.split("-"),Jr=S.useMemo(()=>w.reduce((O,q,J)=>J>=Et?O:O+q.height,0),[w,Et]),Kr=Jc(),Vn=h.invert||x,Zt=me==="loading";Ue.current=S.useMemo(()=>Et*Y+Jr,[Et,Jr]),S.useEffect(()=>{ot.current=Gr},[Gr]),S.useEffect(()=>{Qt(!0)},[]),S.useEffect(()=>{let O=Ie.current;if(O){let q=O.getBoundingClientRect().height;return Xr(q),p(J=>[{toastId:h.id,height:q,position:h.position},...J]),()=>p(J=>J.filter(ge=>ge.toastId!==h.id))}},[p,h.id]),S.useLayoutEffect(()=>{if(!Z)return;let O=Ie.current,q=O.style.height;O.style.height="auto";let J=O.getBoundingClientRect().height;O.style.height=q,Xr(J),p(ge=>ge.find(ye=>ye.toastId===h.id)?ge.map(ye=>ye.toastId===h.id?{...ye,height:J}:ye):[{toastId:h.id,height:J,position:h.position},...ge])},[Z,h.title,h.description,p,h.id]);let Ee=S.useCallback(()=>{Nt(!0),Kt(Ue.current),p(O=>O.filter(q=>q.toastId!==h.id)),setTimeout(()=>{P(h)},dl)},[h,P,p,Ue]);S.useEffect(()=>{if(h.promise&&me==="loading"||h.duration===1/0||h.type==="loading")return;let O;return A||f||F&&Kr?(()=>{if(Qr.current<Yt.current){let q=new Date().getTime()-Yt.current;ot.current=ot.current-q}Qr.current=new Date().getTime()})():ot.current!==1/0&&(Yt.current=new Date().getTime(),O=setTimeout(()=>{var q;(q=h.onAutoClose)==null||q.call(h,h),Ee()},ot.current)),()=>clearTimeout(O)},[A,f,h,me,F,Kr,Ee]),S.useEffect(()=>{h.delete&&Ee()},[Ee,h.delete]);function Gn(){var O,q,J;return H!=null&&H.loading?S.createElement("div",{className:xe(E?.loader,(O=h?.classNames)==null?void 0:O.loader,"sonner-loader"),"data-visible":me==="loading"},H.loading):te?S.createElement("div",{className:xe(E?.loader,(q=h?.classNames)==null?void 0:q.loader,"sonner-loader"),"data-visible":me==="loading"},te):S.createElement(qc,{className:xe(E?.loader,(J=h?.classNames)==null?void 0:J.loader),visible:me==="loading"})}return S.createElement("li",{tabIndex:0,ref:Ie,className:xe(T,$n,E?.toast,(e=h?.classNames)==null?void 0:e.toast,E?.default,E?.[me],(r=h?.classNames)==null?void 0:r[me]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:z,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":Z,"data-promise":!!h.promise,"data-swiped":Mn,"data-removed":at,"data-visible":zn,"data-y-position":Wn,"data-x-position":Xn,"data-index":N,"data-front":Bn,"data-swiping":it,"data-dismissible":Fe,"data-type":me,"data-invert":Vn,"data-swipe-out":qr,"data-swipe-direction":V,"data-expanded":!!(A||re&&Z),style:{"--index":N,"--toasts-before":N,"--z-index":R.length-N,"--offset":`${at?Fn:Ue.current}px`,"--initial-height":re?"auto":`${Un}px`,...j,...h.style},onDragEnd:()=>{Jt(!1),X(null),Be.current=null},onPointerDown:O=>{Zt||!Fe||(Vr.current=new Date,Kt(Ue.current),O.target.setPointerCapture(O.pointerId),O.target.tagName!=="BUTTON"&&(Jt(!0),Be.current={x:O.clientX,y:O.clientY}))},onPointerUp:()=>{var O,q,J,ge;if(qr||!Fe)return;Be.current=null;let ye=Number(((O=Ie.current)==null?void 0:O.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ce=Number(((q=Ie.current)==null?void 0:q.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Te=new Date().getTime()-((J=Vr.current)==null?void 0:J.getTime()),be=B==="x"?ye:Ce,Pe=Math.abs(be)/Te;if(Math.abs(be)>=ll||Pe>.11){Kt(Ue.current),(ge=h.onDismiss)==null||ge.call(h,h),Me(B==="x"?ye>0?"right":"left":Ce>0?"down":"up"),Ee(),Ln(!0),Wr(!1);return}Jt(!1),X(null)},onPointerMove:O=>{var q,J,ge,ye;if(!Be.current||!Fe||((q=window.getSelection())==null?void 0:q.toString().length)>0)return;let Ce=O.clientY-Be.current.y,Te=O.clientX-Be.current.x,be=(J=t.swipeDirections)!=null?J:ul($);!B&&(Math.abs(Te)>1||Math.abs(Ce)>1)&&X(Math.abs(Te)>Math.abs(Ce)?"x":"y");let Pe={x:0,y:0};B==="y"?(be.includes("top")||be.includes("bottom"))&&(be.includes("top")&&Ce<0||be.includes("bottom")&&Ce>0)&&(Pe.y=Ce):B==="x"&&(be.includes("left")||be.includes("right"))&&(be.includes("left")&&Te<0||be.includes("right")&&Te>0)&&(Pe.x=Te),(Math.abs(Pe.x)>0||Math.abs(Pe.y)>0)&&Wr(!0),(ge=Ie.current)==null||ge.style.setProperty("--swipe-amount-x",`${Pe.x}px`),(ye=Ie.current)==null||ye.style.setProperty("--swipe-amount-y",`${Pe.y}px`)}},qn&&!h.jsx?S.createElement("button",{"aria-label":M,"data-disabled":Zt,"data-close-button":!0,onClick:Zt||!Fe?()=>{}:()=>{var O;Ee(),(O=h.onDismiss)==null||O.call(h,h)},className:xe(E?.closeButton,(a=h?.classNames)==null?void 0:a.closeButton)},(i=H?.close)!=null?i:Qc):null,h.jsx||I.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:S.createElement(S.Fragment,null,me||h.icon||h.promise?S.createElement("div",{"data-icon":"",className:xe(E?.icon,(o=h?.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Gn():null,h.type!=="loading"?h.icon||H?.[me]||$c(me):null):null,S.createElement("div",{"data-content":"",className:xe(E?.content,(c=h?.classNames)==null?void 0:c.content)},S.createElement("div",{"data-title":"",className:xe(E?.title,(m=h?.classNames)==null?void 0:m.title)},typeof h.title=="function"?h.title():h.title),h.description?S.createElement("div",{"data-description":"",className:xe(K,Hn,E?.description,(d=h?.classNames)==null?void 0:d.description)},typeof h.description=="function"?h.description():h.description):null),I.isValidElement(h.cancel)?h.cancel:h.cancel&&It(h.cancel)?S.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||_,onClick:O=>{var q,J;It(h.cancel)&&Fe&&((J=(q=h.cancel).onClick)==null||J.call(q,O),Ee())},className:xe(E?.cancelButton,(l=h?.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,I.isValidElement(h.action)?h.action:h.action&&It(h.action)?S.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||W,onClick:O=>{var q,J;It(h.action)&&((J=(q=h.action).onClick)==null||J.call(q,O),!O.defaultPrevented&&Ee())},className:xe(E?.actionButton,(u=h?.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function _s(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ml(t,e){let r={};return[t,e].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",c=i?il:al;function m(d){["top","right","bottom","left"].forEach(l=>{r[`${o}-${l}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?m(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?r[`${o}-${d}`]=c:r[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):m(c)}),r}var fl=I.forwardRef(function(t,e){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:c,offset:m,mobileOffset:d,theme:l="light",richColors:u,duration:x,style:h,visibleToasts:g=nl,toastOptions:f,dir:p=_s(),gap:y=cl,loadingIcon:w,icons:N,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:A}=t,[P,z]=S.useState([]),k=S.useMemo(()=>Array.from(new Set([s].concat(P.filter(F=>F.position).map(F=>F.position)))),[P,s]),[j,_]=S.useState([]),[W,T]=S.useState(!1),[K,C]=S.useState(!1),[$,Y]=S.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=S.useRef(null),re=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=S.useRef(null),H=S.useRef(!1),M=S.useCallback(F=>{z(B=>{var X;return(X=B.find(V=>V.id===F.id))!=null&&X.delete||oe.dismiss(F.id),B.filter(({id:V})=>V!==F.id)})},[]);return S.useEffect(()=>oe.subscribe(F=>{if(F.dismiss){z(B=>B.map(X=>X.id===F.id?{...X,delete:!0}:X));return}setTimeout(()=>{Yn.flushSync(()=>{z(B=>{let X=B.findIndex(V=>V.id===F.id);return X!==-1?[...B.slice(0,X),{...B[X],...F},...B.slice(X+1)]:[F,...B]})})})}),[]),S.useEffect(()=>{if(l!=="system"){Y(l);return}if(l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:B})=>{Y(B?"dark":"light")})}catch{F.addListener(({matches:X})=>{try{Y(X?"dark":"light")}catch(V){console.error(V)}})}},[l]),S.useEffect(()=>{P.length<=1&&T(!1)},[P]),S.useEffect(()=>{let F=B=>{var X,V;a.every(Me=>B[Me]||B.code===Me)&&(T(!0),(X=te.current)==null||X.focus()),B.code==="Escape"&&(document.activeElement===te.current||(V=te.current)!=null&&V.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),S.useEffect(()=>{if(te.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,H.current=!1)}},[te.current]),S.createElement("section",{ref:e,"aria-label":`${R} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((F,B)=>{var X;let[V,Me]=F.split("-");return P.length?S.createElement("ol",{key:F,dir:p==="auto"?_s():p,tabIndex:-1,ref:te,className:c,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":V,"data-lifted":W&&P.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((X=j[0])==null?void 0:X.height)||0}px`,"--width":`${ol}px`,"--gap":`${y}px`,...h,...ml(m,d)},onBlur:Z=>{H.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(H.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||H.current||(H.current=!0,E.current=Z.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{K||T(!1)},onDragEnd:()=>T(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},P.filter(Z=>!Z.position&&B===0||Z.position===F).map((Z,Qt)=>{var at,Nt;return S.createElement(hl,{key:Z.id,icons:N,index:Qt,toast:Z,defaultRichColors:u,duration:(at=f?.duration)!=null?at:x,className:f?.className,descriptionClassName:f?.descriptionClassName,invert:r,visibleToasts:g,closeButton:(Nt=f?.closeButton)!=null?Nt:o,interacting:K,position:F,style:f?.style,unstyled:f?.unstyled,classNames:f?.classNames,cancelButtonStyle:f?.cancelButtonStyle,actionButtonStyle:f?.actionButtonStyle,removeToast:M,toasts:P.filter(it=>it.position==Z.position),heights:j.filter(it=>it.position==Z.position),setHeights:_,expandByDefault:i,gap:y,loadingIcon:w,expanded:W,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});class pl{notifications=new Map;subscribers=new Map;async sendBookingConfirmation(e,r,s,a){try{const i={id:`booking-confirmed-${Date.now()}`,type:"booking_confirmed",title:"Booking Confirmed!",message:`Your reservation at ${a} has been confirmed. Confirmation number: ${s}`,bookingId:r,userId:e,createdAt:new Date().toISOString(),read:!1,actionUrl:"/my-bookings",priority:"high"};await this.addNotification(e,i),ne.success(`Booking confirmed at ${a}!`,{description:`Confirmation: ${s}`,duration:5e3}),b.info("Booking confirmation notification sent",{userId:e,bookingId:r,confirmationNumber:s,hotelName:a})}catch(i){b.error("Failed to send booking confirmation notification:",i)}}async sendBookingCancellation(e,r,s,a){try{const i=a?` A refund of $${a.toLocaleString()} has been processed.`:"",o={id:`booking-cancelled-${Date.now()}`,type:"booking_cancelled",title:"Booking Cancelled",message:`Your reservation at ${s} has been cancelled.${i}`,bookingId:r,userId:e,createdAt:new Date().toISOString(),read:!1,actionUrl:"/my-bookings",priority:"medium"};await this.addNotification(e,o),ne.success("Booking cancelled successfully",{description:a?`Refund of $${a.toLocaleString()} processed`:"Your booking has been cancelled",duration:4e3}),b.info("Booking cancellation notification sent",{userId:e,bookingId:r,hotelName:s,refundAmount:a})}catch(i){b.error("Failed to send booking cancellation notification:",i)}}async sendCheckInReminder(e,r,s,a){try{const i=new Date(a),o=new Date;if(o.setDate(o.getDate()+1),i.getTime()<=o.getTime()){const c={id:`check-in-reminder-${Date.now()}`,type:"check_in_reminder",title:"Check-in Reminder",message:`Don't forget! Your check-in at ${s} is tomorrow (${i.toLocaleDateString()}).`,bookingId:r,userId:e,createdAt:new Date().toISOString(),read:!1,actionUrl:"/my-bookings",priority:"medium"};await this.addNotification(e,c),b.info("Check-in reminder sent",{userId:e,bookingId:r,hotelName:s,checkInDate:a})}}catch(i){b.error("Failed to send check-in reminder:",i)}}async sendReviewRequest(e,r,s){try{const a={id:`review-request-${Date.now()}`,type:"review_request",title:"Share Your Experience",message:`How was your stay at ${s}? Help other travelers by leaving a review.`,bookingId:r,userId:e,createdAt:new Date().toISOString(),read:!1,actionUrl:"/my-bookings",priority:"low"};await this.addNotification(e,a),b.info("Review request sent",{userId:e,bookingId:r,hotelName:s})}catch(a){b.error("Failed to send review request:",a)}}async sendPromotionalNotification(e,r,s,a){try{const i={id:`promotion-${Date.now()}`,type:"promotion",title:r,message:s,userId:e,createdAt:new Date().toISOString(),read:!1,actionUrl:a,priority:"low"};await this.addNotification(e,i),b.info("Promotional notification sent",{userId:e,title:r})}catch(i){b.error("Failed to send promotional notification:",i)}}async addNotification(e,r){const s=this.notifications.get(e)||[];s.unshift(r),s.length>50&&s.splice(50),this.notifications.set(e,s);try{localStorage.setItem(`notifications-${e}`,JSON.stringify(s))}catch(a){b.warn("Failed to persist notifications to localStorage:",{error:a instanceof Error?a.message:String(a)})}this.notifySubscribers(e,s)}async getUserNotifications(e,r){try{const s=localStorage.getItem(`notifications-${e}`);if(s){const i=JSON.parse(s);this.notifications.set(e,i)}const a=this.notifications.get(e)||[];return r?a.slice(0,r):a}catch(s){return b.error("Failed to get user notifications:",s),[]}}async getUnreadCount(e){try{return(await this.getUserNotifications(e)).filter(s=>!s.read).length}catch(r){return b.error("Failed to get unread count:",r),0}}async markAsRead(e,r){try{const s=await this.getUserNotifications(e),a=s.find(i=>i.id===r);a&&(a.read=!0,this.notifications.set(e,s),localStorage.setItem(`notifications-${e}`,JSON.stringify(s)),this.notifySubscribers(e,s))}catch(s){b.error("Failed to mark notification as read:",s)}}async markAllAsRead(e){try{const r=await this.getUserNotifications(e);r.forEach(s=>{s.read=!0}),this.notifications.set(e,r),localStorage.setItem(`notifications-${e}`,JSON.stringify(r)),this.notifySubscribers(e,r)}catch(r){b.error("Failed to mark all notifications as read:",r)}}async clearNotifications(e){try{this.notifications.set(e,[]),localStorage.removeItem(`notifications-${e}`),this.notifySubscribers(e,[])}catch(r){b.error("Failed to clear notifications:",r)}}subscribe(e,r){const s=this.subscribers.get(e)||[];return s.push(r),this.subscribers.set(e,s),()=>{const a=this.subscribers.get(e)||[],i=a.indexOf(r);i>-1&&(a.splice(i,1),this.subscribers.set(e,a))}}notifySubscribers(e,r){(this.subscribers.get(e)||[]).forEach(a=>{try{a(r)}catch(i){b.error("Error notifying subscriber:",i)}})}async getUserPreferences(e){try{const r=localStorage.getItem(`notification-preferences-${e}`);return r?JSON.parse(r):{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,marketingEmails:!1,bookingReminders:!0,promotionalOffers:!1}}catch(r){return b.error("Failed to get notification preferences:",r),{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,marketingEmails:!1,bookingReminders:!0,promotionalOffers:!1}}}async updateUserPreferences(e,r){try{const a={...await this.getUserPreferences(e),...r};localStorage.setItem(`notification-preferences-${e}`,JSON.stringify(a)),b.info("Notification preferences updated",{userId:e})}catch(s){b.error("Failed to update notification preferences:",s)}}async trackBookingStatus(e,r,s){try{if(!s)return;const i={confirmed:"Your booking has been confirmed",checked_in:"Welcome! You have successfully checked in",checked_out:"Thank you for your stay! Check-out completed",cancelled:"Your booking has been cancelled",completed:"Your stay is complete. We hope you enjoyed it!"}[r];i&&ne.success(i,{duration:4e3}),b.info("Booking status tracked",{bookingId:e,newStatus:r,userId:s})}catch(a){b.error("Failed to track booking status:",a)}}}const Ls=new pl,Ne="https://api.vibehotels.com";class gl{getAuthHeaders(){const e=localStorage.getItem("authToken");return e?{Authorization:`Bearer ${e}`}:{}}async createBooking(e){try{b.info("Creating booking:",{hotelName:e.hotelName,checkIn:e.checkIn,userId:e.userId||"guest"});const r=await U.post(`${Ne}/api/bookings`,e,{headers:{...this.getAuthHeaders(),"Content-Type":"application/json"}});if(r.data.success){const s=r.data.booking;return b.info("Booking created successfully:",{confirmationNumber:s.confirmationNumber}),e.userId?await Ls.sendBookingConfirmation(e.userId,s.id,s.confirmationNumber,e.hotelName):ne.success(`Booking confirmed! Confirmation #${s.confirmationNumber}`,{duration:5e3}),s}throw new Error("Failed to create booking")}catch(r){b.error("Booking creation failed:",r);const s=r.response?.data?.error||"Booking failed";throw ne.error(s),new Error(s)}}async getUserBookings(e,r){try{const s={};r&&(s.status=r);const a=await U.get(`${Ne}/api/bookings/user/${e}`,{params:s,headers:this.getAuthHeaders()});if(a.data.success){const i=a.data.bookings||a.data.data||[];return b.info("Retrieved user bookings:",{userId:e,count:i.length}),i}return[]}catch(s){return b.error("Failed to fetch user bookings",{component:"BookingService",method:"getUserBookings",userId:e,error:s instanceof Error?s.message:"Unknown error"}),ne.error("Failed to load booking history"),[]}}async getBookings(){try{const e=await U.get(`${Ne}/api/bookings`,{headers:this.getAuthHeaders()});return e.data.success?e.data.data||e.data.bookings||[]:[]}catch(e){return b.error("Failed to fetch bookings",{component:"BookingService",method:"getBookings",error:e instanceof Error?e.message:"Unknown error"}),[]}}async getBooking(e){try{const r=await U.get(`${Ne}/api/bookings/${e}`,{headers:this.getAuthHeaders()});return r.data.success?r.data.booking||r.data.data:null}catch(r){return b.error("Failed to fetch individual booking",{component:"BookingService",method:"getBooking",bookingId:e,error:r instanceof Error?r.message:"Unknown error"}),null}}async getBookingByConfirmation(e){try{const r=await U.get(`${Ne}/api/bookings/confirmation/${e}`);if(r.data.success){const s=r.data.booking||r.data.data;return b.info("Retrieved booking by confirmation:",{confirmationNumber:e}),s}return null}catch(r){return b.error("Failed to retrieve booking by confirmation:",r),U.isAxiosError(r)&&r.response?.status===404?ne.error("Booking not found"):ne.error("Failed to retrieve booking"),null}}async cancelBooking(e,r){try{if((await U.put(`${Ne}/api/bookings/${e}/cancel`,{reason:r},{headers:this.getAuthHeaders()})).data.success){if(b.info("Booking cancelled successfully:",{bookingId:e}),localStorage.getItem("authToken")){const i=await this.getBooking(e);i&&i.userId&&await Ls.sendBookingCancellation(i.userId,i.id,i.hotelName,i.totalAmount)}else ne.success("Booking cancelled successfully");return!0}return!1}catch(s){b.error("Booking cancellation failed",{component:"BookingService",method:"cancelBooking",bookingId:e,error:s instanceof Error?s.message:"Unknown error"});const a=s.response?.data?.message||"Failed to cancel booking";return ne.error(a),!1}}async confirmBooking(e){try{const r=await U.put(`${Ne}/api/bookings/${e}/confirm`,{},{headers:this.getAuthHeaders()});return r.data.success?(ne.success("Booking confirmed successfully"),r.data.booking):null}catch(r){return b.error("Booking confirmation failed",{component:"BookingService",method:"confirmBooking",bookingId:e,error:r instanceof Error?r.message:"Unknown error"}),ne.error("Failed to confirm booking"),null}}async getBookingStats(e){try{const r=await U.get(`${Ne}/api/bookings/user/${e}/stats`,{headers:this.getAuthHeaders()});if(r.data.success){const s=r.data.stats;return b.info("Retrieved booking stats:",{userId:e,stats:s}),s}return{totalBookings:0,upcomingBookings:0,completedBookings:0,cancelledBookings:0,totalSpent:0,currency:"USD"}}catch(r){return b.error("Failed to fetch booking stats:",r),{totalBookings:0,upcomingBookings:0,completedBookings:0,cancelledBookings:0,totalSpent:0,currency:"USD"}}}async searchBookings(e){try{const r=await U.get(`${Ne}/api/bookings/search`,{params:e,headers:this.getAuthHeaders()});if(r.data.success){const s=r.data.result;return b.info("Booking search completed:",{query:e.hotelName||e.confirmationNumber||"general",count:s.bookings.length}),s}return{bookings:[],total:0}}catch(r){return b.error("Failed to search bookings:",r),ne.error("Failed to search bookings"),{bookings:[],total:0}}}calculateNights(e,r){const s=new Date(e),a=new Date(r),i=Math.abs(a.getTime()-s.getTime());return Math.ceil(i/(1e3*60*60*24))}calculateTotalAmount(e,r,s){const a=e*r,i=s>2?(s-2)*20*r:0,o=a*.1;return a+i+o}calculateCommission(e){return e*.05}}const yl=new gl,Rr=({selectedRoom:t,onBookingComplete:e,onCancel:r,className:s=""})=>{const{currentStep:a,guestDetails:i,selectedRoom:o,errors:c,setGuestDetails:m,setSelectedRoom:d,nextStep:l,previousStep:u,validateCurrentStep:x,setLoading:h,clearBooking:g}=Fc(),{selectedDateRange:f,guestCount:p}=zr(),{selectedHotel:y}=Dn(),{user:w,isAuthenticated:N}=zc();I.useEffect(()=>{t&&!o&&d(t)},[t,o,d]);const R=[{id:"room-selection",title:"Room Selection",description:"Choose your room",icon:gt},{id:"guest-details",title:"Guest Details",description:"Enter guest information",icon:ma},{id:"payment",title:"Payment & Confirm",description:"Complete booking",icon:yr}],A=(E,H="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:H}).format(E),P=f.checkIn&&f.checkOut?Math.ceil((new Date(f.checkOut).getTime()-new Date(f.checkIn).getTime())/(1e3*60*60*24)):1,z=o?o.price*P:0,k=()=>{x()&&l()},j=()=>{u()},_=Ir(),W=async()=>{if(x()){if(!o||!y){b.error("Booking attempt with missing required data",{component:"BookingFlow",method:"handleCompleteBooking",hasSelectedRoom:!!o,hasSelectedHotel:!!y,userImpact:"booking_blocked"});return}h(!0);try{const E=P,H=o.price,M=H*E*.15,B=H*E+M+25,X={hotelId:y.id,hotelName:y.name,hotelImage:y.images?.[0]?.url||"",roomType:o.type||o.name||"Standard Room",roomId:o.id,checkIn:f.checkIn||new Date().toISOString().split("T")[0],checkOut:f.checkOut||new Date(Date.now()+864e5).toISOString().split("T")[0],nights:E,guests:{adults:p.adults,children:p.children},guestInfo:{firstName:i.firstName||N&&w?.firstName||"Guest",lastName:i.lastName||N&&w?.lastName||"User",email:i.email||N&&w?.email||"guest@example.com",phone:i.phone||"555-0100"},specialRequests:i.specialRequests,totalAmount:B,currency:o.currency||"USD",userId:N?w?.id:void 0},V=await yl.createBooking(X);localStorage.setItem("lastBooking",JSON.stringify(V)),localStorage.setItem("lastBookingId",V.id),b.info("Booking created successfully",{component:"BookingFlow",method:"handleCompleteBooking",bookingId:V.id,confirmationNumber:V.confirmationNumber,hotelId:y.id,totalAmount:B,isAuthenticated:N,userId:w?.id,userImpact:"booking_completed"}),g(),e?e(V.confirmationNumber||V.id):_(`/confirmation/${V.confirmationNumber||V.id}`,{state:{booking:V,paymentIntent:{id:V.confirmationNumber||V.id,status:"succeeded",amount:B*100,currency:o.currency||"USD"}}})}catch(E){b.error("Booking creation failed",{component:"BookingFlow",method:"handleCompleteBooking",hotelId:y?.id,roomId:o?.id,guestEmail:i.email,isAuthenticated:N,userId:w?.id,error:E instanceof Error?E.message:"Unknown error",userImpact:"booking_failed"})}finally{h(!1)}}},T=()=>{const E=R.findIndex(H=>H.id===a);return n.jsx("div",{className:"flex items-center justify-between mb-8",children:R.map((H,M)=>{const F=H.id===a,B=E>M,X=H.icon;return n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:Q("flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300",F?"border-primary-600 bg-primary-600 text-white shadow-lg scale-110":B?"border-green-600 bg-green-600 text-white":"border-gray-300 bg-white text-gray-400"),children:B?n.jsx(Ws,{className:"w-6 h-6"}):n.jsx(X,{className:"w-6 h-6"})}),n.jsxs("div",{className:"ml-4 hidden sm:block",children:[n.jsx("div",{className:Q("text-sm font-medium transition-colors",F?"text-primary-600":"text-gray-900 dark:text-white"),children:H.title}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:H.description})]}),M<R.length-1&&n.jsx("div",{className:Q("w-12 sm:w-24 h-0.5 mx-6 transition-colors duration-300",B?"bg-green-600":"bg-gray-300 dark:bg-gray-600")})]},H.id)})})},K=()=>{const H=(()=>{if(y&&"rooms"in y&&Array.isArray(y.rooms))return y.rooms;if(!y||!y.priceRange)return[];const M=y.priceRange.avgNightly||100;return[{id:`${y.id}-room-1`,name:"Standard Room",type:"Standard",capacity:2,price:Math.round(M*.8),currency:y.priceRange.currency||"USD",amenities:["Free WiFi","Air Conditioning","TV"],images:[y.images[0]?.url||"/placeholder-room.jpg"],availability:!0,description:"Comfortable room with all essential amenities for a pleasant stay."},{id:`${y.id}-room-2`,name:"Deluxe Room",type:"Deluxe",capacity:4,price:Math.round(M),currency:y.priceRange.currency||"USD",amenities:["Free WiFi","Air Conditioning","TV","Mini Bar","City View"],images:[y.images[0]?.url||"/placeholder-room.jpg"],availability:!0,description:"Spacious room with premium amenities and beautiful city views."},{id:`${y.id}-room-3`,name:"Suite",type:"Suite",capacity:6,price:Math.round(M*1.5),currency:y.priceRange.currency||"USD",amenities:["Free WiFi","Air Conditioning","TV","Mini Bar","Ocean View","Living Area","Balcony"],images:[y.images[0]?.url||"/placeholder-room.jpg"],availability:!0,description:"Luxurious suite with separate living area, premium amenities and stunning ocean views."}]})();return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:o?"Selected Room":"Choose Your Room"}),o?n.jsx(we,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"lg:w-1/3",children:n.jsx("img",{src:o.images[0]||"/placeholder-room.jpg",alt:o.name,className:"w-full h-48 object-cover rounded-lg",onError:M=>{M.target.src="/placeholder-room.jpg"}})}),n.jsxs("div",{className:"lg:w-2/3",children:[n.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:o.name}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:o.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[n.jsxs("span",{children:[" Up to ",o.capacity," guests"]}),n.jsxs("span",{children:[" ",o.type]})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.amenities.map((M,F)=>n.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300 text-sm rounded-full",children:M},F))}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-primary-600",children:A(o.price,o.currency)}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"per night"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Total: ",A(z,o.currency)]}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[P," night",P>1?"s":""]})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsx(ee,{variant:"outline",size:"sm",onClick:()=>d(null),className:"text-primary-600 hover:text-primary-700",children:"Change Room"})})]})]})}):n.jsx("div",{className:"space-y-4",children:H.length>0?H.map(M=>n.jsx(we,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>d(M),children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"lg:w-1/3",children:n.jsx("img",{src:M.images?.[0]||"/placeholder-room.jpg",alt:M.name,className:"w-full h-48 object-cover rounded-lg",onError:F=>{F.target.src="/placeholder-room.jpg"}})}),n.jsxs("div",{className:"lg:w-2/3",children:[n.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:M.name}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:M.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[n.jsxs("span",{children:[" Up to ",M.capacity," guests"]}),n.jsxs("span",{children:[" ",M.type]})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:M.amenities?.slice(0,4).map((F,B)=>n.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300 text-sm rounded-full",children:F},B))}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-primary-600",children:A(M.price,M.currency)}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"per night"})]}),n.jsx(ee,{onClick:F=>{F.stopPropagation(),d(M)},className:"min-w-[120px]",children:"Select Room"})]})]})]})},M.id)):n.jsxs(we,{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx(gt,{className:"w-8 h-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No rooms available for the selected dates."})]})})]})},C=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Guest Information"}),n.jsxs(we,{className:"p-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Main Guest"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name *"}),n.jsx(he,{id:"guest-first-name",name:"firstName",autoComplete:"given-name",value:i.firstName,onChange:E=>m({firstName:E.target.value}),error:c.firstName,placeholder:"Enter first name",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name *"}),n.jsx(he,{id:"guest-last-name",name:"lastName",autoComplete:"family-name",value:i.lastName,onChange:E=>m({lastName:E.target.value}),error:c.lastName,placeholder:"Enter last name",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),n.jsx(he,{id:"guest-email",name:"email",type:"email",autoComplete:"email",value:i.email,onChange:E=>m({email:E.target.value}),error:c.email,placeholder:"Enter email address",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone *"}),n.jsx(he,{id:"guest-phone",name:"phone",type:"tel",autoComplete:"tel",value:i.phone,onChange:E=>m({phone:E.target.value}),error:c.phone,placeholder:"Enter phone number",required:!0})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Special Requests (Optional)"}),n.jsx("textarea",{value:i.specialRequests,onChange:E=>m({specialRequests:E.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Any special requests or preferences?"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Special requests are subject to availability and may incur additional charges."})]})]})]}),$=async E=>{b.info("Payment completed successfully",{component:"BookingFlow",method:"handlePaymentSuccess",paymentId:E.paymentId,hasReceiptUrl:!!E.receiptUrl,hotelId:y?.id,roomId:o?.id}),await W()},Y=E=>{b.error("Payment processing failed",{component:"BookingFlow",method:"handlePaymentError",hotelId:y?.id,roomId:o?.id,error:E.message,userImpact:"payment_blocked"}),alert(`Payment failed: ${E.message}. Please try again.`)},te=()=>!o||!y||!i.email?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xs,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Missing required information. Please go back and complete previous steps."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Complete Your Payment"}),n.jsxs(we,{className:"p-6 bg-gray-50 dark:bg-gray-800",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Booking Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Hotel:"}),n.jsx("span",{className:"font-medium",children:y.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Room:"}),n.jsx("span",{className:"font-medium",children:o.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Check-in:"}),n.jsx("span",{className:"font-medium",children:f.checkIn})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Check-out:"}),n.jsx("span",{className:"font-medium",children:f.checkOut})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Guest:"}),n.jsxs("span",{className:"font-medium",children:[i.firstName," ",i.lastName]})]}),n.jsxs("div",{className:"border-t pt-2 mt-2",children:[n.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[n.jsx("span",{children:"Total Amount:"}),n.jsx("span",{className:"text-primary-600",children:A(z,o.currency||"USD")})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Includes taxes and fees"})]})]})]}),n.jsx(Hr,{bookingId:`booking-${Date.now()}`,amount:z,currency:o.currency||"USD",onSuccess:$,onError:Y,bookingDetails:{hotelName:y.name,checkIn:f.checkIn||"",checkOut:f.checkOut||"",guests:p.adults+p.children}})]}),re=()=>{switch(a){case"room-selection":return K();case"guest-details":return C();case"payment":return te();default:return null}};return n.jsx("div",{className:Q("max-w-4xl mx-auto",s),children:n.jsxs(we,{className:"p-8",children:[T(),n.jsx("div",{className:"min-h-[500px]",children:re()}),n.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("div",{children:a!=="room-selection"&&n.jsxs(ee,{onClick:j,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(qs,{className:"w-4 h-4"}),"Previous"]})}),n.jsxs("div",{className:"flex gap-3",children:[r&&n.jsx(ee,{onClick:()=>{g(),r()},variant:"outline",children:"Cancel"}),a!=="payment"&&n.jsxs(ee,{onClick:k,className:"flex items-center gap-2 px-6",size:"lg",children:["Continue",n.jsx(Or,{className:"w-4 h-4"})]})]})]})]})})},bl=Object.freeze(Object.defineProperty({__proto__:null,BookingFlow:Rr,default:Rr},Symbol.toStringTag,{value:"Module"}));function xl(){return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx(Rr,{})})})}const vl=({error:t,resetError:e,errorInfo:r})=>{const a=()=>{t.name,t.message,t.stack,new Date().toISOString()};return n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:n.jsx(we,{className:"max-w-2xl w-full p-8 text-center",children:n.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:n.jsx(fa,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Oops! Something went wrong"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"We encountered an unexpected error. Our team has been notified and is working to fix it."})]}),!1,n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-sm",children:[n.jsxs(ee,{onClick:e,className:"flex items-center gap-2",size:"lg",children:[n.jsx(pa,{className:"w-4 h-4"}),"Try Again"]}),n.jsxs(ee,{onClick:()=>window.location.href="/",variant:"outline",className:"flex items-center gap-2",size:"lg",children:[n.jsx(ga,{className:"w-4 h-4"}),"Go Home"]})]}),n.jsx(ee,{onClick:a,variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"Report this issue"})]})})})};class wl extends S.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r}),this.props.onError&&this.props.onError(e,r)}resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){if(this.state.hasError&&this.state.error){const e=this.props.fallback||vl;return n.jsx(e,{error:this.state.error,resetError:this.resetError,errorInfo:this.state.errorInfo})}return this.props.children}}const Sl=()=>{window.addEventListener("unhandledrejection",t=>{console.error("Unhandled promise rejection:",t.reason),ne.error("Unexpected Error",{description:"An unexpected error occurred. Please refresh the page if problems persist.",duration:6e3}),t.preventDefault()}),window.addEventListener("error",t=>{console.error("Global error:",t.error),ne.error("Application Error",{description:"A technical error occurred. Please refresh the page.",duration:6e3})})},kl="modulepreload",jl=function(t){return"/"+t},Ms={},ie=function(e,r,s){let a=Promise.resolve();if(r&&r.length>0){let m=function(d){return Promise.all(d.map(l=>Promise.resolve(l).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");a=m(r.map(d=>{if(d=jl(d),d in Ms)return;Ms[d]=!0;const l=d.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const x=document.createElement("link");if(x.rel=l?"stylesheet":kl,l||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),l)return new Promise((h,g)=>{x.addEventListener("load",h),x.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},Nl=({size:t="md",variant:e="default",className:r})=>{const s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return e==="dots"?n.jsx("div",{className:Q("flex space-x-1",r),children:[0,1,2].map(a=>n.jsx("div",{className:Q("bg-primary-600 rounded-full animate-bounce",t==="sm"?"w-2 h-2":t==="md"?"w-3 h-3":t==="lg"?"w-4 h-4":"w-5 h-5"),style:{animationDelay:`${a*.1}s`}},a))}):e==="pulse"?n.jsx("div",{className:Q("bg-primary-600 rounded-full animate-pulse",s[t],r)}):e==="bounce"?n.jsx("div",{className:Q("bg-primary-600 rounded-full animate-bounce",s[t],r)}):n.jsx(gr,{className:Q("animate-spin text-primary-600",s[t],r)})};function El(t,e={}){const r=I.lazy(t);return e.preload&&setTimeout(()=>{t().catch(a=>{b.warn("Component preload failed",{component:"LazyLoader",error:a.message})})},100),a=>n.jsx(I.Suspense,{fallback:e.fallback?n.jsx(e.fallback,{}):n.jsxs("div",{className:"flex items-center justify-center min-h-[200px]",children:[n.jsx(Nl,{size:"lg"}),e.loadingMessage&&n.jsx("p",{className:"ml-3 text-sm text-gray-600",children:e.loadingMessage})]}),children:n.jsx(r,{...a})})}const Cl=()=>{const t=[()=>ie(()=>import("./SearchResults-D8BHgMWc.js"),__vite__mapDeps([0,1,2,3])),()=>ie(()=>Promise.resolve().then(()=>bl),void 0),()=>ie(()=>Promise.resolve().then(()=>Mc),void 0)];b.info("Preloading critical components",{component:"LazyLoader",count:t.length}),t.forEach((e,r)=>{setTimeout(()=>{e().catch(s=>{b.warn("Critical component preload failed",{component:"LazyLoader",index:r,error:s.message})})},r*50)})},pe=(t,e)=>El(t,{loadingMessage:`Loading ${e}...`,preload:!1}),Pl=pe(()=>ie(()=>import("./HomePage-B-Oa9jUO.js"),__vite__mapDeps([4,1,3,5])).then(t=>({default:t.HomePage})),"Home"),Rl=pe(()=>ie(()=>import("./SearchResultsPage-CCmECsC_.js"),__vite__mapDeps([6,0,1,2,3])).then(t=>({default:t.SearchResultsPage})),"Search Results"),Al=pe(()=>ie(()=>import("./PaymentPage-dqQAhGUC.js"),__vite__mapDeps([7,1,8,3])).then(t=>({default:t.PaymentPage})),"Payment"),Il=pe(()=>ie(()=>import("./BookingConfirmationPage-Bjl1Lk3Z.js"),__vite__mapDeps([9,1,8,3])).then(t=>({default:t.BookingConfirmationPage})),"Booking Confirmation"),Tl=pe(()=>ie(()=>import("./DealsPage-O8_Hq2RC.js"),__vite__mapDeps([10,1,5,3])).then(t=>({default:t.DealsPage})),"Hot Deals"),Ol=pe(()=>ie(()=>import("./DestinationsPage-B1D01l_X.js"),__vite__mapDeps([11,1,3])).then(t=>({default:t.DestinationsPage})),"Destinations"),Dl=pe(()=>ie(()=>import("./ExperiencesPage-DODdfIMc.js"),__vite__mapDeps([12,3,1])).then(t=>({default:t.default})),"Experiences"),_l=pe(()=>ie(()=>import("./RewardsPage-CAZD8C9Y.js"),__vite__mapDeps([13,3,1])).then(t=>({default:t.default})),"Rewards"),Ll=pe(()=>ie(()=>import("./BookingHistoryPage-C78I1rAz.js"),__vite__mapDeps([14,15,1,3])),"My Bookings"),Ml=pe(()=>ie(()=>import("./UserProfilePage-CzeHyAkU.js"),__vite__mapDeps([16,1,15,3])),"My Profile");pe(()=>ie(()=>import("./RoomComparison-CAp3cxYU.js"),__vite__mapDeps([17,1,5,3])),"Room Comparison");pe(()=>ie(()=>import("./VirtualizedHotelList-DKmeLPYz.js"),__vite__mapDeps([18,1,2,3,5])),"Hotel List");function Fl(){return I.useEffect(()=>{Sl();const t=setTimeout(()=>{Cl()},2e3);return()=>clearTimeout(t)},[]),n.jsx(wl,{children:n.jsxs(Bc,{children:[n.jsx(Qo,{children:n.jsxs(Zn,{children:[n.jsx(fe,{path:"/",element:n.jsx(Pl,{})}),n.jsx(fe,{path:"/search",element:n.jsx(Rl,{})}),n.jsx(fe,{path:"/destinations",element:n.jsx(Ol,{})}),n.jsx(fe,{path:"/deals",element:n.jsx(Tl,{})}),n.jsx(fe,{path:"/experiences",element:n.jsx(Dl,{})}),n.jsx(fe,{path:"/rewards",element:n.jsx(_l,{})}),n.jsx(fe,{path:"/hotel/:id",element:n.jsx(Lc,{})}),n.jsx(fe,{path:"/booking",element:n.jsx(xl,{})}),n.jsx(fe,{path:"/payment",element:n.jsx(Al,{})}),n.jsx(fe,{path:"/confirmation/:bookingId",element:n.jsx(Il,{})}),n.jsx(fe,{path:"/my-bookings",element:n.jsx(Ll,{})}),n.jsx(fe,{path:"/profile",element:n.jsx(Ml,{})})]})}),n.jsx(fl,{position:"top-right",expand:!0,richColors:!0,toastOptions:{duration:4e3,style:{background:"hsl(var(--background))",color:"hsl(var(--foreground))",border:"1px solid hsl(var(--border))"}}})]})})}class Ve{static instance;sessionId;userId;isEnabled=!0;eventQueue=[];performanceMetrics=[];constructor(){this.sessionId=this.generateSessionId(),this.initializePerformanceTracking(),this.startPeriodicReporting()}static getInstance(){return Ve.instance||(Ve.instance=new Ve),Ve.instance}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}setUserId(e){this.userId=e,this.track("user_identified",{userId:e})}track(e,r={}){if(!this.isEnabled)return;const s={name:e,properties:{...r,url:window.location.href,referrer:document.referrer,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight}},timestamp:Date.now(),userId:this.userId,sessionId:this.sessionId};this.eventQueue.push(s),b.debug("Analytics event tracked",{component:"Analytics",event:e,properties:Object.keys(r)}),this.isCriticalEvent(e)&&this.flushEvents()}pageView(e,r={}){this.track("page_view",{page:e,title:document.title,...r})}conversion(e){this.track("conversion_event",{step:e.step,funnel:e.funnel,value:e.value,...e.metadata})}performance(e){const r={...e,timestamp:Date.now()};this.performanceMetrics.push(r),b.debug("Performance metric recorded",{component:"Analytics",metric:e.name,value:e.value,unit:e.unit})}interaction(e,r,s={}){this.track("user_interaction",{element:e,action:r,...s})}error(e,r,s={}){this.track("error_occurred",{errorName:e,errorMessage:r,stack:s.stack,component:s.component,...s})}business(e,r,s={}){this.track("business_metric",{metric:e,value:r,...s})}isCriticalEvent(e){return["page_view","search_performed","hotel_selected","booking_initiated","payment_completed","error_occurred"].includes(e)}initializePerformanceTracking(){"web-vital"in window&&b.debug("Web Vitals tracking initialized",{component:"Analytics"}),window.addEventListener("load",()=>{setTimeout(()=>{const r=performance.getEntriesByType("navigation")[0];r&&this.performance({name:"page_load_time",value:r.loadEventEnd-r.loadEventStart,unit:"ms",metadata:{domContentLoaded:r.domContentLoadedEventEnd-r.domContentLoadedEventStart,firstByte:r.responseStart-r.requestStart}})},100)}),new PerformanceObserver(r=>{for(const s of r.getEntries())if(s.entryType==="resource"){const a=s;this.performance({name:"resource_load_time",value:a.duration,unit:"ms",metadata:{resource:a.name,size:a.transferSize,type:a.initiatorType}})}}).observe({entryTypes:["resource"]})}startPeriodicReporting(){setInterval(()=>{this.flushEvents(),this.flushPerformanceMetrics()},3e4),window.addEventListener("beforeunload",()=>{this.flushEvents(),this.flushPerformanceMetrics()})}flushEvents(){if(this.eventQueue.length===0)return;const e=[...this.eventQueue];this.eventQueue=[],this.sendToAnalyticsService(e)}flushPerformanceMetrics(){if(this.performanceMetrics.length===0)return;const e=[...this.performanceMetrics];this.performanceMetrics=[],b.info("Performance metrics collected",{component:"Analytics",count:e.length,avgLoadTime:this.calculateAverageLoadTime(e)}),this.sendToPerformanceService(e)}calculateAverageLoadTime(e){const r=e.filter(a=>a.name.includes("load_time"));if(r.length===0)return 0;const s=r.reduce((a,i)=>a+i.value,0);return Math.round(s/r.length)}sendToAnalyticsService(e){b.debug("Sending events to analytics service",{component:"Analytics",count:e.length})}sendToPerformanceService(e){b.debug("Sending metrics to performance service",{component:"Analytics",count:e.length})}disable(){this.isEnabled=!1,this.eventQueue=[],this.performanceMetrics=[],b.info("Analytics disabled",{component:"Analytics"})}enable(){this.isEnabled=!0,b.info("Analytics enabled",{component:"Analytics"})}}const ce=Ve.getInstance();class Ge{static instance;memoryCache=new Map;statistics={hits:0,misses:0,size:0,memoryUsage:0,hitRate:0};maxMemorySize=50*1024*1024;cleanupInterval=300*1e3;cleanupTimer;constructor(){this.startCleanupProcess(),this.initializeStoragePersistence()}static getInstance(){return Ge.instance||(Ge.instance=new Ge),Ge.instance}async set(e,r,s={}){const{ttl:a=1800*1e3,tags:i=[],version:o="1.0",priority:c="medium",compressed:m=!1}=s;let d=r;m&&this.shouldCompress(r)&&(d=await this.compressData(r));const l={data:d,timestamp:Date.now(),ttl:a,version:o,tags:i,metadata:{priority:c,compressed:m,originalSize:this.getDataSize(r),processedSize:this.getDataSize(d)}};this.shouldEvictMemory()&&await this.evictLowPriorityEntries(),this.memoryCache.set(e,l),this.updateStatistics(),(c==="high"||this.getDataSize(d)>1024*100)&&await this.persistToStorage(e,l),b.debug("Cache entry set",{component:"AdvancedCache",key:e,ttl:a,tags:i,priority:c,size:this.getDataSize(d)})}async get(e,r){let s=this.memoryCache.get(e),a="memory";if(!s){const i=await this.getFromStorage(e);i&&(s=i,a="storage",this.memoryCache.set(e,s))}if(s&&!this.isExpired(s)){this.statistics.hits++,this.updateStatistics();let i=s.data;return s.metadata?.compressed&&(i=await this.decompressData(i)),b.debug("Cache hit",{component:"AdvancedCache",key:e,level:a,age:Date.now()-s.timestamp}),i}if(s&&(this.memoryCache.delete(e),await this.removeFromStorage(e)),this.statistics.misses++,this.updateStatistics(),b.debug("Cache miss",{component:"AdvancedCache",key:e,expired:s?this.isExpired(s):!1}),r)try{const i=await r();return await this.set(e,i,{ttl:600*1e3}),i}catch(i){b.warn("Cache fallback failed",{component:"AdvancedCache",key:e,error:i instanceof Error?i.message:"Unknown error"})}return null}async invalidateByTags(e){let r=0;for(const[s,a]of this.memoryCache.entries())a.tags.some(i=>e.includes(i))&&(this.memoryCache.delete(s),await this.removeFromStorage(s),r++);b.info("Cache invalidated by tags",{component:"AdvancedCache",tags:e,invalidatedCount:r}),this.updateStatistics()}async clear(){this.memoryCache.clear(),await this.clearStorage(),this.resetStatistics(),b.info("All cache cleared",{component:"AdvancedCache"})}getStatistics(){return{...this.statistics}}async preloadCriticalData(){const e=["hotel-search-popular","user-preferences","payment-config","destinations-featured"];b.info("Preloading critical cache data",{component:"AdvancedCache",keys:e});for(const r of e)await this.set(r,{preloaded:!0,key:r},{ttl:3600*1e3,priority:"high",tags:["critical","preload"]})}isExpired(e){return Date.now()>e.timestamp+e.ttl}shouldCompress(e){return this.getDataSize(e)>1024}async compressData(e){return JSON.stringify(e)}async decompressData(e){return JSON.parse(e)}getDataSize(e){return JSON.stringify(e).length}shouldEvictMemory(){return this.statistics.memoryUsage>this.maxMemorySize}async evictLowPriorityEntries(){const e=Array.from(this.memoryCache.entries());e.sort((s,a)=>{const i={low:0,medium:1,high:2},o=i[s[1].metadata?.priority||"medium"],c=i[a[1].metadata?.priority||"medium"];return o!==c?o-c:s[1].timestamp-a[1].timestamp});const r=Math.ceil(e.length*.25);for(let s=0;s<r;s++){const[a]=e[s];this.memoryCache.delete(a)}b.info("Memory cache eviction completed",{component:"AdvancedCache",evicted:r,remaining:this.memoryCache.size})}startCleanupProcess(){this.cleanupTimer=setInterval(()=>{this.cleanupExpiredEntries()},this.cleanupInterval)}cleanupExpiredEntries(){let e=0;for(const[r,s]of this.memoryCache.entries())this.isExpired(s)&&(this.memoryCache.delete(r),this.removeFromStorage(r),e++);e>0&&(b.debug("Cleaned up expired cache entries",{component:"AdvancedCache",cleaned:e}),this.updateStatistics())}updateStatistics(){this.statistics.size=this.memoryCache.size,this.statistics.memoryUsage=Array.from(this.memoryCache.values()).reduce((r,s)=>r+this.getDataSize(s),0);const e=this.statistics.hits+this.statistics.misses;this.statistics.hitRate=e>0?this.statistics.hits/e*100:0}resetStatistics(){this.statistics={hits:0,misses:0,size:0,memoryUsage:0,hitRate:0}}async initializeStoragePersistence(){if(!("indexedDB"in window)){b.warn("IndexedDB not available",{component:"AdvancedCache"});return}try{b.debug("IndexedDB cache storage initialized",{component:"AdvancedCache"})}catch(e){b.warn("Failed to initialize persistent storage",{component:"AdvancedCache",error:e instanceof Error?e.message:"Unknown error"})}}async persistToStorage(e,r){try{localStorage.setItem(`cache_${e}`,JSON.stringify(r))}catch(s){b.debug("Failed to persist cache entry",{component:"AdvancedCache",key:e,error:s instanceof Error?s.message:"Unknown error"})}}async getFromStorage(e){try{const r=localStorage.getItem(`cache_${e}`);return r?JSON.parse(r):null}catch{return null}}async removeFromStorage(e){try{localStorage.removeItem(`cache_${e}`)}catch{}}async clearStorage(){try{Object.keys(localStorage).forEach(e=>{e.startsWith("cache_")&&localStorage.removeItem(e)})}catch(e){b.warn("Failed to clear persistent storage",{component:"AdvancedCache",error:e instanceof Error?e.message:"Unknown error"})}}destroy(){this.cleanupTimer&&clearInterval(this.cleanupTimer),this.memoryCache.clear(),this.clearStorage()}}const ft=Ge.getInstance();class Qe{static instance;socket=null;messageHandlers=new Map;connectionHandlers=[];messageQueue=[];reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=1e3;heartbeatInterval=3e4;heartbeatTimer;connectionState="disconnected";lastHeartbeat=0;options={url:"",reconnectAttempts:5,reconnectDelay:1e3,heartbeatInterval:3e4,maxMessageQueue:100};static getInstance(){return Qe.instance||(Qe.instance=new Qe),Qe.instance}async connect(e){if(this.options={...this.options,...e},this.socket?.readyState===WebSocket.OPEN){b.debug("WebSocket already connected",{component:"WebSocketManager"});return}this.connectionState="connecting";try{b.info("Connecting to WebSocket",{component:"WebSocketManager",url:this.options.url}),this.socket=new WebSocket(this.options.url,this.options.protocols),this.socket.onopen=this.handleOpen.bind(this),this.socket.onmessage=this.handleMessage.bind(this),this.socket.onclose=this.handleClose.bind(this),this.socket.onerror=this.handleError.bind(this),ce.track("websocket_connect_attempt",{url:this.options.url,attempt:this.reconnectAttempts+1})}catch(r){this.handleError(new Error(`WebSocket connection failed: ${r}`))}}disconnect(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0),this.socket&&(this.socket.close(1e3,"Client disconnect"),this.socket=null),this.connectionState="disconnected",this.reconnectAttempts=0,b.info("WebSocket disconnected",{component:"WebSocketManager"}),this.notifyConnectionHandlers(!1)}send(e,r,s="medium"){const a={type:e,data:r,timestamp:Date.now(),id:this.generateMessageId()};if(this.socket?.readyState===WebSocket.OPEN)try{this.socket.send(JSON.stringify(a)),b.debug("WebSocket message sent",{component:"WebSocketManager",type:e,id:a.id})}catch(i){b.error("Failed to send WebSocket message",{component:"WebSocketManager",error:i instanceof Error?i.message:"Unknown error"})}else this.messageQueue.length<(this.options.maxMessageQueue||100)?(this.messageQueue.push(a),b.debug("WebSocket message queued",{component:"WebSocketManager",type:e,queueSize:this.messageQueue.length})):b.warn("WebSocket message queue full, dropping message",{component:"WebSocketManager",type:e})}subscribe(e,r){return this.messageHandlers.has(e)||this.messageHandlers.set(e,[]),this.messageHandlers.get(e).push(r),b.debug("Subscribed to WebSocket message type",{component:"WebSocketManager",messageType:e,handlerCount:this.messageHandlers.get(e).length}),()=>{const s=this.messageHandlers.get(e);if(s){const a=s.indexOf(r);a>-1&&s.splice(a,1)}}}onConnectionChange(e){return this.connectionHandlers.push(e),()=>{const r=this.connectionHandlers.indexOf(e);r>-1&&this.connectionHandlers.splice(r,1)}}getConnectionState(){return this.connectionState}getStatistics(){return{connectionState:this.connectionState,reconnectAttempts:this.reconnectAttempts,messageQueueSize:this.messageQueue.length,subscriberCount:Array.from(this.messageHandlers.values()).reduce((e,r)=>e+r.length,0),lastHeartbeat:this.lastHeartbeat,uptime:this.lastHeartbeat>0?Date.now()-this.lastHeartbeat:0}}handleOpen(e){this.connectionState="connected",this.reconnectAttempts=0,b.info("WebSocket connected successfully",{component:"WebSocketManager"}),this.startHeartbeat(),this.flushMessageQueue(),this.notifyConnectionHandlers(!0),ce.track("websocket_connected",{url:this.options.url,queuedMessages:this.messageQueue.length})}handleMessage(e){try{const r=JSON.parse(e.data);if(r.type==="heartbeat_response"){this.lastHeartbeat=Date.now();return}b.debug("WebSocket message received",{component:"WebSocketManager",type:r.type,id:r.id}),(this.messageHandlers.get(r.type)||[]).forEach(a=>{try{a(r)}catch(i){b.error("Error in WebSocket message handler",{component:"WebSocketManager",messageType:r.type,error:i instanceof Error?i.message:"Unknown error"})}})}catch(r){b.error("Failed to parse WebSocket message",{component:"WebSocketManager",error:r instanceof Error?r.message:"Unknown error"})}}handleClose(e){this.connectionState="disconnected",this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0),b.warn("WebSocket connection closed",{component:"WebSocketManager",code:e.code,reason:e.reason,wasClean:e.wasClean}),this.notifyConnectionHandlers(!1),!e.wasClean&&this.reconnectAttempts<this.maxReconnectAttempts&&this.attemptReconnection()}handleError(e){this.connectionState="error";const r=e instanceof Error?e.message:"WebSocket error";b.error("WebSocket error occurred",{component:"WebSocketManager",error:r}),ce.track("websocket_error",{error:r,attempt:this.reconnectAttempts}),this.notifyConnectionHandlers(!1,e instanceof Error?e:new Error(r))}attemptReconnection(){this.reconnectAttempts++;const e=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);b.info("Attempting WebSocket reconnection",{component:"WebSocketManager",attempt:this.reconnectAttempts,delay:e}),setTimeout(()=>{this.connectionState!=="connected"&&this.connect(this.options)},e)}startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>{this.socket?.readyState===WebSocket.OPEN&&this.send("heartbeat",{timestamp:Date.now()})},this.heartbeatInterval)}flushMessageQueue(){if(this.messageQueue.length===0)return;b.info("Flushing WebSocket message queue",{component:"WebSocketManager",count:this.messageQueue.length});const e=[...this.messageQueue];this.messageQueue=[],e.forEach(r=>{if(this.socket?.readyState===WebSocket.OPEN)try{this.socket.send(JSON.stringify(r))}catch(s){b.error("Failed to send queued message",{component:"WebSocketManager",messageType:r.type,error:s instanceof Error?s.message:"Unknown error"})}})}notifyConnectionHandlers(e,r){this.connectionHandlers.forEach(s=>{try{s(e,r)}catch(a){b.error("Error in connection handler",{component:"WebSocketManager",error:a instanceof Error?a.message:"Unknown error"})}})}generateMessageId(){return`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const qe=Qe.getInstance();class Je{static instance;imageCache=new Map;loadingQueue=new Map;webpSupported;avifSupported;constructor(){this.checkFormatSupport(),this.initializeIntersectionObserver()}static getInstance(){return Je.instance||(Je.instance=new Je),Je.instance}async loadImage(e,r={}){const s=this.getCacheKey(e,r);if(this.imageCache.has(s)){const i=this.imageCache.get(s);if(i.loaded||i.error)return i}if(this.loadingQueue.has(s))return this.loadingQueue.get(s);const a=this.performImageLoad(e,r);this.loadingQueue.set(s,a);try{const i=await a;return this.imageCache.set(s,i),i}finally{this.loadingQueue.delete(s)}}async preloadImages(e,r={}){b.info("Preloading critical images",{component:"ProgressiveImageLoader",count:e.length});const s=e.map(async(a,i)=>(await this.delay(i*50),this.loadImage(a,{...r,loading:"eager"})));try{await Promise.allSettled(s),ce.performance({name:"image_preload_completed",value:e.length,unit:"count",metadata:{urls:e.slice(0,3)}})}catch(a){b.warn("Image preloading failed",{component:"ProgressiveImageLoader",error:a instanceof Error?a.message:"Unknown error"})}}getOptimizedUrl(e,r={}){const{quality:s=85,format:a="auto"}=r;if(s<1||s>100)throw new Error("Quality must be between 1 and 100");if(!["auto","webp","jpeg","png"].includes(a))throw new Error("Invalid format specified");return e.startsWith("/")||e.startsWith("./")?e:e.includes("unsplash.com")?this.optimizeUnsplashUrl(e,r):this.applyBasicOptimizations(e,r)}generateSrcSet(e,r={}){return[400,800,1200,1600,2e3].map(a=>{const i=this.getOptimizedUrl(e,{...r});return`${this.addWidthParam(i,a)} ${a}w`}).join(", ")}createPlaceholder(e,r,s={}){const{placeholder:a="color",placeholderColor:i="#f3f4f6"}=s;switch(a){case"blur":return this.createBlurPlaceholder(e,r);case"skeleton":return this.createSkeletonPlaceholder(e,r);case"color":default:return this.createColorPlaceholder(e,r,i)}}async performImageLoad(e,r){const s=Date.now(),a=this.getOptimizedUrl(e,r),i={src:a,srcSet:this.generateSrcSet(e,r),placeholder:this.createPlaceholder(400,300,r),loaded:!1,loading:!0,error:!1};try{const o=new Image,c=new Promise((x,h)=>{o.onload=()=>x(),o.onerror=()=>h(new Error("Image failed to load"))}),{timeout:m=1e4}=r,d=new Promise((x,h)=>{setTimeout(()=>h(new Error("Image load timeout")),m)});o.src=a,await Promise.race([c,d]);const l=Date.now()-s,u={loadTime:l,fileSize:this.estimateFileSize(o),format:this.detectFormat(a),dimensions:{width:o.naturalWidth,height:o.naturalHeight},fromCache:l<50};i.loaded=!0,i.loading=!1,i.metrics=u,ce.performance({name:"image_load_time",value:l,unit:"ms",metadata:{src:e.slice(0,100),format:u.format,fromCache:u.fromCache}}),b.debug("Image loaded successfully",{component:"ProgressiveImageLoader",src:e.slice(0,100),loadTime:l,format:u.format,dimensions:u.dimensions})}catch(o){i.loaded=!1,i.loading=!1,i.error=!0,b.warn("Image loading failed",{component:"ProgressiveImageLoader",src:e.slice(0,100),error:o instanceof Error?o.message:"Unknown error"}),ce.error("image_load_failed",o instanceof Error?o.message:"Unknown error",{src:e.slice(0,100)})}return i}async checkFormatSupport(){this.webpSupported=await this.canPlayFormat("webp"),this.avifSupported=await this.canPlayFormat("avif"),b.debug("Image format support detected",{component:"ProgressiveImageLoader",webp:this.webpSupported,avif:this.avifSupported})}canPlayFormat(e){return new Promise(r=>{const s=document.createElement("canvas");s.width=1,s.height=1,s.toBlob(a=>r(a!==null),`image/${e}`,.5)})}optimizeUnsplashUrl(e,r){const s=new URL(e),{quality:a=85}=r;return s.searchParams.set("q",a.toString()),r.format==="auto"?this.avifSupported?s.searchParams.set("fm","avif"):this.webpSupported?s.searchParams.set("fm","webp"):s.searchParams.set("fm","jpg"):r.format&&s.searchParams.set("fm",r.format),s.toString()}applyBasicOptimizations(e,r){return e}addWidthParam(e,r){try{const s=new URL(e);return s.searchParams.set("w",r.toString()),s.toString()}catch{return e}}createColorPlaceholder(e,r,s){return`data:image/svg+xml;base64,${btoa(`
      <svg width="${e}" height="${r}" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="${s}"/>
      </svg>
    `)}`}createBlurPlaceholder(e,r){return`data:image/svg+xml;base64,${btoa(`
      <svg width="${e}" height="${r}" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#f3f4f6;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#e5e7eb;stop-opacity:1" />
          </linearGradient>
        </defs>
        <rect width="100%" height="100%" fill="url(#grad)"/>
        <circle cx="50%" cy="50%" r="20" fill="#d1d5db" opacity="0.5"/>
      </svg>
    `)}`}createSkeletonPlaceholder(e,r){return`data:image/svg+xml;base64,${btoa(`
      <svg width="${e}" height="${r}" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f3f4f6"/>
        <rect x="10%" y="10%" width="80%" height="20%" fill="#e5e7eb" rx="4"/>
        <rect x="10%" y="40%" width="60%" height="20%" fill="#e5e7eb" rx="4"/>
        <rect x="10%" y="70%" width="40%" height="20%" fill="#e5e7eb" rx="4"/>
        <animate attributeName="opacity" values="1;0.5;1" dur="1.5s" repeatCount="indefinite"/>
      </svg>
    `)}`}initializeIntersectionObserver(){"IntersectionObserver"in window&&new IntersectionObserver(e=>{e.forEach(r=>{if(r.isIntersecting){const a=r.target.dataset.src;a&&this.loadImage(a,{loading:"lazy"})}})},{threshold:.1,rootMargin:"100px"})}getCacheKey(e,r){return`${e}_${JSON.stringify(r)}`}estimateFileSize(e){return e.naturalWidth*e.naturalHeight*.3}detectFormat(e){return e.includes("fm=avif")||e.endsWith(".avif")?"avif":e.includes("fm=webp")||e.endsWith(".webp")?"webp":e.includes("fm=png")||e.endsWith(".png")?"png":"jpeg"}delay(e){return new Promise(r=>setTimeout(r,e))}}const Ul=Je.getInstance();class Ke{static instance;config;violations=[];nonceValue=null;constructor(){this.config=this.getDefaultConfig(),this.initialize()}static getInstance(){return Ke.instance||(Ke.instance=new Ke),Ke.instance}initialize(){this.setupCSP(),this.setupXSSProtection(),this.setupClickjackingProtection(),this.setupSecurityEventListeners(),this.generateNonce(),b.info("Security measures initialized",{component:"SecurityManager",cspEnabled:this.config.csp.enabled,xssProtection:this.config.xssProtection})}updateConfig(e){this.config={...this.config,...e},this.initialize(),b.info("Security configuration updated",{component:"SecurityManager",changes:Object.keys(e)})}getNonce(){return this.nonceValue||this.generateNonce(),this.nonceValue}sanitizeHTML(e){const r=document.createElement("div");r.textContent=e;const s=r.innerHTML.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/javascript:/gi,"").replace(/on\w+="[^"]*"/gi,"").replace(/on\w+='[^']*'/gi,"");return b.debug("HTML content sanitized",{component:"SecurityManager",originalLength:e.length,sanitizedLength:s.length}),s}sanitizeInput(e,r="text"){let s=e.trim();switch(s=s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,""),r){case"email":s=s.replace(/[^\w@.-]/g,"");break;case"url":try{const a=new URL(s);if(!["http:","https:"].includes(a.protocol))throw new Error("Invalid protocol")}catch{s=""}break;case"number":s=s.replace(/[^\d.-]/g,"");break}return s}generateSecureToken(e=32){const r=new Uint8Array(e);return crypto.getRandomValues(r),Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}validateOrigin(e){return[window.location.origin,"https://api.liteapi.travel","https://connect.squareup.com","https://js.squareup.com"].some(s=>!!(s===e||s.endsWith(".netlify.app")&&e.endsWith(".netlify.app")||s.endsWith(".vercel.app")&&e.endsWith(".vercel.app")))}detectThreats(e){const r=[];return(this.hasXSSPatterns(e.url)||this.hasXSSPatterns(JSON.stringify(e.body)))&&r.push("xss_attempt"),(this.hasSQLInjectionPatterns(e.url)||this.hasSQLInjectionPatterns(JSON.stringify(e.body)))&&r.push("sql_injection_attempt"),this.hasSuspiciousHeaders(e.headers)&&r.push("suspicious_headers"),this.hasPathTraversalPatterns(e.url)&&r.push("path_traversal_attempt"),r.length>0&&(b.warn("Security threats detected",{component:"SecurityManager",threats:r,url:e.url}),ce.track("security_threat_detected",{threats:r,url:e.url,userAgent:navigator.userAgent})),r}getViolationsReport(){return[...this.violations]}clearViolations(){this.violations=[],b.debug("Security violations cleared",{component:"SecurityManager"})}getDefaultConfig(){return{csp:{enabled:!0,reportOnly:!1,directives:{defaultSrc:["'self'"],scriptSrc:["'self'","'unsafe-inline'","https://js.squareup.com","https://connect.squareup.com","https://www.googletagmanager.com"],styleSrc:["'self'","'unsafe-inline'","https://fonts.googleapis.com"],imgSrc:["'self'","data:","https:","https://images.unsplash.com"],connectSrc:["'self'","https://api.liteapi.travel","https://connect.squareup.com","wss://localhost:*"],fontSrc:["'self'","https://fonts.gstatic.com"],mediaSrc:["'self'"],objectSrc:["'none'"],frameSrc:["'self'","https://js.squareup.com"],baseUri:["'self'"],formAction:["'self'"],upgradeInsecureRequests:!0,blockAllMixedContent:!0}},xssProtection:!0,clickjacking:!0,contentTypeSniffing:!1,referrerPolicy:"strict-origin-when-cross-origin",hsts:{enabled:!0,maxAge:31536e3,includeSubDomains:!0}}}setupCSP(){if(!this.config.csp.enabled)return;const e=this.buildCSPPolicy(this.config.csp.directives),r=this.config.csp.reportOnly?"Content-Security-Policy-Report-Only":"Content-Security-Policy";let s=document.querySelector('meta[http-equiv="Content-Security-Policy"]');s||(s=document.createElement("meta"),s.setAttribute("http-equiv",r),document.head.appendChild(s)),s.content=e,b.debug("CSP policy applied",{component:"SecurityManager",policy:e.slice(0,200)+"...",reportOnly:this.config.csp.reportOnly})}buildCSPPolicy(e){const r=[];if(Object.entries(e).forEach(([s,a])=>{a===!0?r.push(this.camelToKebab(s)):Array.isArray(a)&&a.length>0&&r.push(`${this.camelToKebab(s)} ${a.join(" ")}`)}),this.nonceValue){const s=r.findIndex(a=>a.startsWith("script-src"));s>-1&&(r[s]+=` 'nonce-${this.nonceValue}'`)}return r.join("; ")}setupXSSProtection(){if(!this.config.xssProtection)return;let e=document.querySelector('meta[http-equiv="X-XSS-Protection"]');e||(e=document.createElement("meta"),e.setAttribute("http-equiv","X-XSS-Protection"),document.head.appendChild(e)),e.content="1; mode=block"}setupClickjackingProtection(){if(!this.config.clickjacking)return;let e=document.querySelector('meta[http-equiv="X-Frame-Options"]');e||(e=document.createElement("meta"),e.setAttribute("http-equiv","X-Frame-Options"),document.head.appendChild(e)),e.content="DENY"}setupSecurityEventListeners(){document.addEventListener("securitypolicyviolation",e=>{const r={type:"csp",details:{blockedURI:e.blockedURI,violatedDirective:e.violatedDirective,originalPolicy:e.originalPolicy,sourceFile:e.sourceFile,lineNumber:e.lineNumber},userAgent:navigator.userAgent,timestamp:Date.now(),url:window.location.href};this.violations.push(r),b.warn("CSP violation detected",{component:"SecurityManager",violation:r.details}),ce.track("csp_violation",r.details)}),window.addEventListener("error",e=>{if(e.message&&e.message.includes("Mixed Content")){const r={type:"mixed-content",details:{message:e.message,filename:e.filename,lineno:e.lineno},userAgent:navigator.userAgent,timestamp:Date.now(),url:window.location.href};this.violations.push(r),b.warn("Mixed content violation",{component:"SecurityManager",violation:r.details})}})}generateNonce(){this.nonceValue=this.generateSecureToken(16)}hasXSSPatterns(e){return e?[/<script[^>]*>.*?<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe/gi,/eval\s*\(/gi,/expression\s*\(/gi].some(s=>s.test(e)):!1}hasSQLInjectionPatterns(e){return e?[/union\s+select/gi,/drop\s+table/gi,/insert\s+into/gi,/delete\s+from/gi,/update\s+set/gi,/or\s+1\s*=\s*1/gi,/and\s+1\s*=\s*1/gi].some(s=>s.test(e)):!1}hasPathTraversalPatterns(e){return e?[/\.\.\//g,/\.\.[\\\/]/g,/%2e%2e%2f/gi,/%2e%2e%5c/gi].some(s=>s.test(e)):!1}hasSuspiciousHeaders(e){const r=["X-Forwarded-For","X-Real-IP","X-Originating-IP"];return Object.keys(e).some(s=>r.includes(s)&&e[s].includes("127.0.0.1"))}camelToKebab(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}const Fs=Ke.getInstance();class Ye{static instance;currentData=null;originalTitle;constructor(){this.originalTitle=document.title}static getInstance(){return Ye.instance||(Ye.instance=new Ye),Ye.instance}getCurrentData(){return this.currentData}setSEO(e){this.currentData=e,this.updateMetaTags(e),this.updateStructuredData(e.structuredData||[]),b.debug("SEO data updated",{component:"SEOManager",title:e.title,hasOpenGraph:!!e.openGraph,hasTwitterCard:!!e.twitter,structuredDataCount:e.structuredData?.length||0})}createHotelSEO(e){const r=`${e.name} - Book Direct | Best Rates Guaranteed`,s=`Book ${e.name} in ${e.address.addressLocality}. ${e.description.slice(0,120)}...`;return{title:r,description:s,keywords:[e.name,e.address.addressLocality,e.address.addressRegion,"hotel booking","best rates","direct booking",...e.amenities.slice(0,5)],canonical:e.url,robots:"index, follow",openGraph:{title:r,description:s,type:"hotel",url:e.url,image:e.image[0],imageAlt:`${e.name} exterior`,siteName:"VibeBooking",locale:"en_US"},twitter:{card:"summary_large_image",title:r,description:s,image:e.image[0],imageAlt:`${e.name} exterior`,site:"@VibeBooking"},structuredData:[this.createHotelStructuredData(e),this.createBreadcrumbStructuredData([{name:"Home",url:"/"},{name:"Hotels",url:"/hotels"},{name:e.address.addressLocality,url:`/hotels/${e.address.addressLocality.toLowerCase()}`},{name:e.name,url:e.url}])]}}createSearchSEO(e,r,s){const a=`Hotels in ${e} - Find & Book ${r?`for ${r}`:"Today"}`,i=`Discover the best hotels in ${e}. Compare prices, read reviews, and book directly for the best rates. ${r&&s?`Stay from ${r} to ${s}.`:""}`;return{title:a,description:i,keywords:[e,"hotels","hotel booking","accommodation","travel","best rates","reviews"],canonical:window.location.href.split("?")[0],robots:"index, follow",openGraph:{title:a,description:i,type:"website",url:window.location.href,image:"/images/search-og-image.jpg",imageAlt:`Hotels in ${e}`,siteName:"VibeBooking"},twitter:{card:"summary_large_image",title:a,description:i,image:"/images/search-twitter-image.jpg",imageAlt:`Hotels in ${e}`,site:"@VibeBooking"},structuredData:[this.createSearchResultsStructuredData(e)]}}createHomepageSEO(){return{title:"VibeBooking - Find Perfect Hotels with AI | Best Price Guarantee",description:"Discover and book the perfect hotel with AI-powered recommendations. Compare prices, read verified reviews, and enjoy best rate guarantees. Book direct for exclusive perks.",keywords:["hotel booking","AI hotel search","best hotel prices","travel booking","hotel deals","accommodation","vacation rentals"],canonical:"/",robots:"index, follow",openGraph:{title:"VibeBooking - Find Perfect Hotels with AI",description:"AI-powered hotel search with best price guarantee and exclusive perks",type:"website",url:window.location.origin,image:"/images/homepage-og-image.jpg",imageAlt:"VibeBooking - AI Hotel Search",siteName:"VibeBooking",locale:"en_US"},twitter:{card:"summary_large_image",title:"VibeBooking - Find Perfect Hotels with AI",description:"AI-powered hotel search with best price guarantee",image:"/images/homepage-twitter-image.jpg",imageAlt:"VibeBooking - AI Hotel Search",site:"@VibeBooking"},structuredData:[this.createWebsiteStructuredData(),this.createOrganizationStructuredData()]}}reset(){document.title=this.originalTitle,this.removeMetaTags(),this.removeStructuredData(),this.currentData=null,b.debug("SEO data reset",{component:"SEOManager"})}updateMetaTags(e){document.title=e.title,this.updateMetaTag("description",e.description),this.updateMetaTag("keywords",e.keywords?.join(", ")||""),this.updateMetaTag("robots",e.robots||"index, follow"),e.canonical&&this.updateLinkTag("canonical",e.canonical),e.openGraph&&(this.updateMetaTag("og:title",e.openGraph.title,"property"),this.updateMetaTag("og:description",e.openGraph.description,"property"),this.updateMetaTag("og:type",e.openGraph.type,"property"),this.updateMetaTag("og:url",e.openGraph.url,"property"),this.updateMetaTag("og:image",e.openGraph.image,"property"),this.updateMetaTag("og:image:alt",e.openGraph.imageAlt||"","property"),this.updateMetaTag("og:site_name",e.openGraph.siteName,"property"),this.updateMetaTag("og:locale",e.openGraph.locale||"en_US","property")),e.twitter&&(this.updateMetaTag("twitter:card",e.twitter.card),this.updateMetaTag("twitter:title",e.twitter.title),this.updateMetaTag("twitter:description",e.twitter.description),e.twitter.image&&(this.updateMetaTag("twitter:image",e.twitter.image),this.updateMetaTag("twitter:image:alt",e.twitter.imageAlt||"")),e.twitter.site&&this.updateMetaTag("twitter:site",e.twitter.site),e.twitter.creator&&this.updateMetaTag("twitter:creator",e.twitter.creator))}updateMetaTag(e,r,s="name"){if(!r)return;let a=document.querySelector(`meta[${s}="${e}"]`);a||(a=document.createElement("meta"),a.setAttribute(s,e),document.head.appendChild(a)),a.content=r}updateLinkTag(e,r){let s=document.querySelector(`link[rel="${e}"]`);s||(s=document.createElement("link"),s.rel=e,document.head.appendChild(s)),s.href=r}removeMetaTags(){document.querySelectorAll("meta[data-seo]").forEach(r=>r.remove())}updateStructuredData(e){this.removeStructuredData(),e.forEach((r,s)=>{const a=document.createElement("script");a.type="application/ld+json",a.textContent=JSON.stringify(r),a.setAttribute("data-seo","structured-data"),a.id=`structured-data-${s}`,document.head.appendChild(a)})}removeStructuredData(){document.querySelectorAll('script[data-seo="structured-data"]').forEach(r=>r.remove())}createHotelStructuredData(e){return{"@context":"https://schema.org","@type":"Hotel",name:e.name,description:e.description,address:{"@type":"PostalAddress",...e.address},telephone:e.telephone,url:e.url,image:e.image,priceRange:e.priceRange,starRating:e.starRating?{"@type":"Rating",ratingValue:e.starRating.ratingValue,bestRating:e.starRating.bestRating}:void 0,amenityFeature:e.amenities.map(r=>({"@type":"LocationFeatureSpecification",name:r})),checkinTime:e.checkinTime,checkoutTime:e.checkoutTime}}createBreadcrumbStructuredData(e){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((r,s)=>({"@type":"ListItem",position:s+1,name:r.name,item:`${window.location.origin}${r.url}`}))}}createSearchResultsStructuredData(e){return{"@context":"https://schema.org","@type":"SearchResultsPage",about:{"@type":"Place",name:e},mainEntity:{"@type":"ItemList",name:`Hotels in ${e}`}}}createWebsiteStructuredData(){return{"@context":"https://schema.org","@type":"WebSite",name:"VibeBooking",url:window.location.origin,description:"AI-powered hotel booking platform with best price guarantee",potentialAction:{"@type":"SearchAction",target:`${window.location.origin}/search?q={search_term_string}`,"query-input":"required name=search_term_string"}}}createOrganizationStructuredData(){return{"@context":"https://schema.org","@type":"Organization",name:"VibeBooking",url:window.location.origin,logo:`${window.location.origin}/images/logo.png`,description:"Leading AI-powered hotel booking platform",sameAs:["https://twitter.com/VibeBooking","https://facebook.com/VibeBooking","https://linkedin.com/company/vibebooking"]}}}const fr=Ye.getInstance();class Ze{static instance;config;initialized=!1;constructor(){this.config=this.getDefaultConfig()}static getInstance(){return Ze.instance||(Ze.instance=new Ze),Ze.instance}async initialize(e){if(this.initialized){b.debug("Phase 2 already initialized",{component:"Phase2Integration"});return}e&&(this.config={...this.config,...e}),b.info("Initializing Phase 2 optimizations",{component:"Phase2Integration",config:this.config});try{await this.initializeSecurity(),await this.initializeAnalytics(),await this.initializeCache(),await this.initializeImageLoader(),await this.initializeSEO(),await this.initializeWebSocket(),this.initialized=!0,b.info("Phase 2 initialization complete",{component:"Phase2Integration",systems:this.getEnabledSystems()}),ce.track("phase2_initialized",{systems:this.getEnabledSystems(),timestamp:Date.now()})}catch(r){throw b.error("Phase 2 initialization failed",{component:"Phase2Integration",error:r instanceof Error?r.message:"Unknown error"}),ce.error("phase2_init_failed",r instanceof Error?r.message:"Unknown error"),r}}getPerformanceMetrics(){return{cache:this.config.cache.enabled?ft.getStatistics():null,websocket:this.config.websocket.enabled?qe.getStatistics():null,analytics:this.config.analytics.enabled?{enabled:!0}:null,timestamp:Date.now()}}async healthCheck(){const e={};if(this.config.cache.enabled)try{await ft.set("health-check",{test:!0},{ttl:1e3});const r=await ft.get("health-check");e.cache=!!r}catch{e.cache=!1}if(this.config.websocket.enabled&&(e.websocket=qe.getConnectionState()==="connected"),this.config.security.enabled)try{const r=Fs.generateSecureToken();e.security=r.length>0}catch{e.security=!1}return e.analytics=this.config.analytics.enabled,e.images=this.config.images.progressive,e.seo=this.config.seo.enabled,b.debug("Phase 2 health check completed",{component:"Phase2Integration",health:e}),e}async shutdown(){b.info("Shutting down Phase 2 systems",{component:"Phase2Integration"});try{this.config.websocket.enabled&&qe.disconnect(),this.config.cache.enabled&&await ft.clear(),this.config.seo.enabled&&fr.reset(),this.initialized=!1,b.info("Phase 2 shutdown complete",{component:"Phase2Integration"})}catch(e){b.error("Error during Phase 2 shutdown",{component:"Phase2Integration",error:e instanceof Error?e.message:"Unknown error"})}}getDefaultConfig(){return{analytics:{enabled:!0,userId:void 0},cache:{enabled:!0,preloadCritical:!0},websocket:{enabled:!0,url:"wss://api.vibebooking.com/ws"},images:{progressive:!0,preload:["/images/hero-bg.jpg","/images/featured-hotel-1.jpg","/images/featured-hotel-2.jpg"]},security:{enabled:!0,strictMode:!0},seo:{enabled:!0,autoUpdate:!0}}}async initializeSecurity(){this.config.security.enabled&&(Fs.initialize(),b.debug("Security system initialized",{component:"Phase2Integration",strictMode:this.config.security.strictMode}))}async initializeAnalytics(){this.config.analytics.enabled&&(this.config.analytics.userId&&ce.setUserId(this.config.analytics.userId),ce.track("phase2_init_started",{timestamp:Date.now(),userAgent:navigator.userAgent}),b.debug("Analytics system initialized",{component:"Phase2Integration",hasUserId:!!this.config.analytics.userId}))}async initializeCache(){this.config.cache.enabled&&(this.config.cache.preloadCritical&&await ft.preloadCriticalData(),b.debug("Advanced cache system initialized",{component:"Phase2Integration",preloadCritical:this.config.cache.preloadCritical}))}async initializeImageLoader(){this.config.images.progressive&&(this.config.images.preload.length>0&&await Ul.preloadImages(this.config.images.preload),b.debug("Progressive image loader initialized",{component:"Phase2Integration",preloadCount:this.config.images.preload.length}))}async initializeSEO(){this.config.seo.enabled&&(window.location.pathname==="/"&&fr.setSEO(fr.createHomepageSEO()),b.debug("SEO system initialized",{component:"Phase2Integration",autoUpdate:this.config.seo.autoUpdate}))}async initializeWebSocket(){if(!(!this.config.websocket.enabled||!this.config.websocket.url))try{await qe.connect({url:this.config.websocket.url,reconnectAttempts:3,heartbeatInterval:3e4}),qe.subscribe("price_update",e=>{ce.track("realtime_price_update",e.data)}),qe.subscribe("availability_update",e=>{ce.track("realtime_availability_update",e.data)}),b.debug("WebSocket system initialized",{component:"Phase2Integration",url:this.config.websocket.url})}catch(e){b.warn("WebSocket initialization failed, continuing without real-time features",{component:"Phase2Integration",error:e instanceof Error?e.message:"Unknown error"})}}getEnabledSystems(){const e=[];return this.config.analytics.enabled&&e.push("analytics"),this.config.cache.enabled&&e.push("cache"),this.config.websocket.enabled&&e.push("websocket"),this.config.images.progressive&&e.push("images"),this.config.security.enabled&&e.push("security"),this.config.seo.enabled&&e.push("seo"),e}}const Us=Ze.getInstance(),Bl=new qa({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:2}}}),Bs=async()=>{try{await Us.initialize({analytics:{enabled:!0,userId:localStorage.getItem("user-id")||void 0},cache:{enabled:!0,preloadCritical:!0},websocket:{enabled:!0,url:void 0},images:{progressive:!0,preload:["/images/hero-bg.jpg","https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=800","https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400"]},security:{enabled:!0,strictMode:!0},seo:{enabled:!0,autoUpdate:!0}}),b.info("Phase 2 optimizations initialized",{component:"MainApp",performance:await Us.getPerformanceMetrics()})}catch(t){b.error("Phase 2 initialization failed, continuing with basic functionality",{component:"MainApp",error:t instanceof Error?t.message:"Unknown error"})}};"serviceWorker"in navigator?window.addEventListener("load",async()=>{await Bs();try{const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});b.info("Service Worker registered successfully",{component:"ServiceWorker",scope:t.scope,state:t.installing?.state||t.waiting?.state||t.active?.state}),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&b.info("New service worker available, will update on next visit",{component:"ServiceWorker"})})})}catch(t){b.warn("Service Worker registration failed",{component:"ServiceWorker",error:t instanceof Error?t.message:"Unknown error"})}}):window.addEventListener("DOMContentLoaded",Bs);wa.createRoot(document.getElementById("root")).render(n.jsx(S.StrictMode,{children:n.jsx(Xa,{client:Bl,children:n.jsx(ea,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(Fl,{})})})}));export{ee as B,we as C,he as I,Qo as L,Hr as S,U as a,Dn as b,Q as c,ne as d,yl as e,zc as f,Nl as g,Jo as h,n as j,b as l,zr as u};
//# sourceMappingURL=index-Bz50S9TB.js.map
